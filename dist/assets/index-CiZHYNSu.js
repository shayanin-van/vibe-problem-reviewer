(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var ud={exports:{}},ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function t1(){if(ty)return ro;ty=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:u}}return ro.Fragment=t,ro.jsx=n,ro.jsxs=n,ro}var ey;function e1(){return ey||(ey=1,ud.exports=t1()),ud.exports}var ht=e1(),cd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function n1(){if(ny)return wt;ny=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function N(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function st(L,J,ct){this.props=L,this.context=J,this.refs=k,this.updater=ct||x}st.prototype.isReactComponent={},st.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},st.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function X(){}X.prototype=st.prototype;function K(L,J,ct){this.props=L,this.context=J,this.refs=k,this.updater=ct||x}var at=K.prototype=new X;at.constructor=K,I(at,st.prototype),at.isPureReactComponent=!0;var nt=Array.isArray;function tt(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(L,J,ct){var gt=ct.ref;return{$$typeof:a,type:L,key:J,ref:gt!==void 0?gt:null,props:ct}}function V(L,J){return D(L.type,J,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===a}function z(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return J[ct]})}var C=/\/+/g;function Nt(L,J){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):J.toString(36)}function lt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(tt,tt):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function H(L,J,ct,gt,Tt){var Vt=typeof L;(Vt==="undefined"||Vt==="boolean")&&(L=null);var jt=!1;if(L===null)jt=!0;else switch(Vt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(L.$$typeof){case a:case t:jt=!0;break;case b:return jt=L._init,H(jt(L._payload),J,ct,gt,Tt)}}if(jt)return Tt=Tt(L),jt=gt===""?"."+Nt(L,0):gt,nt(Tt)?(ct="",jt!=null&&(ct=jt.replace(C,"$&/")+"/"),H(Tt,J,ct,"",function(sr){return sr})):Tt!=null&&(M(Tt)&&(Tt=V(Tt,ct+(Tt.key==null||L&&L.key===Tt.key?"":(""+Tt.key).replace(C,"$&/")+"/")+jt)),J.push(Tt)),1;jt=0;var Ne=gt===""?".":gt+":";if(nt(L))for(var oe=0;oe<L.length;oe++)gt=L[oe],Vt=Ne+Nt(gt,oe),jt+=H(gt,J,ct,Vt,Tt);else if(oe=N(L),typeof oe=="function")for(L=oe.call(L),oe=0;!(gt=L.next()).done;)gt=gt.value,Vt=Ne+Nt(gt,oe++),jt+=H(gt,J,ct,Vt,Tt);else if(Vt==="object"){if(typeof L.then=="function")return H(lt(L),J,ct,gt,Tt);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return jt}function rt(L,J,ct){if(L==null)return L;var gt=[],Tt=0;return H(L,gt,"","",function(Vt){return J.call(ct,Vt,Tt++)}),gt}function dt(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var St=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ot={map:rt,forEach:function(L,J,ct){rt(L,function(){J.apply(this,arguments)},ct)},count:function(L){var J=0;return rt(L,function(){J++}),J},toArray:function(L){return rt(L,function(J){return J})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return wt.Activity=E,wt.Children=Ot,wt.Component=st,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=K,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,wt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return w.H.useMemoCache(L)}},wt.cache=function(L){return function(){return L.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(L,J,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var gt=I({},L.props),Tt=L.key;if(J!=null)for(Vt in J.key!==void 0&&(Tt=""+J.key),J)!R.call(J,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&J.ref===void 0||(gt[Vt]=J[Vt]);var Vt=arguments.length-2;if(Vt===1)gt.children=ct;else if(1<Vt){for(var jt=Array(Vt),Ne=0;Ne<Vt;Ne++)jt[Ne]=arguments[Ne+2];gt.children=jt}return D(L.type,Tt,gt)},wt.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},wt.createElement=function(L,J,ct){var gt,Tt={},Vt=null;if(J!=null)for(gt in J.key!==void 0&&(Vt=""+J.key),J)R.call(J,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(Tt[gt]=J[gt]);var jt=arguments.length-2;if(jt===1)Tt.children=ct;else if(1<jt){for(var Ne=Array(jt),oe=0;oe<jt;oe++)Ne[oe]=arguments[oe+2];Tt.children=Ne}if(L&&L.defaultProps)for(gt in jt=L.defaultProps,jt)Tt[gt]===void 0&&(Tt[gt]=jt[gt]);return D(L,Vt,Tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(L){return{$$typeof:g,render:L}},wt.isValidElement=M,wt.lazy=function(L){return{$$typeof:b,_payload:{_status:-1,_result:L},_init:dt}},wt.memo=function(L,J){return{$$typeof:m,type:L,compare:J===void 0?null:J}},wt.startTransition=function(L){var J=w.T,ct={};w.T=ct;try{var gt=L(),Tt=w.S;Tt!==null&&Tt(ct,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(tt,St)}catch(Vt){St(Vt)}finally{J!==null&&ct.types!==null&&(J.types=ct.types),w.T=J}},wt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},wt.use=function(L){return w.H.use(L)},wt.useActionState=function(L,J,ct){return w.H.useActionState(L,J,ct)},wt.useCallback=function(L,J){return w.H.useCallback(L,J)},wt.useContext=function(L){return w.H.useContext(L)},wt.useDebugValue=function(){},wt.useDeferredValue=function(L,J){return w.H.useDeferredValue(L,J)},wt.useEffect=function(L,J){return w.H.useEffect(L,J)},wt.useEffectEvent=function(L){return w.H.useEffectEvent(L)},wt.useId=function(){return w.H.useId()},wt.useImperativeHandle=function(L,J,ct){return w.H.useImperativeHandle(L,J,ct)},wt.useInsertionEffect=function(L,J){return w.H.useInsertionEffect(L,J)},wt.useLayoutEffect=function(L,J){return w.H.useLayoutEffect(L,J)},wt.useMemo=function(L,J){return w.H.useMemo(L,J)},wt.useOptimistic=function(L,J){return w.H.useOptimistic(L,J)},wt.useReducer=function(L,J,ct){return w.H.useReducer(L,J,ct)},wt.useRef=function(L){return w.H.useRef(L)},wt.useState=function(L){return w.H.useState(L)},wt.useSyncExternalStore=function(L,J,ct){return w.H.useSyncExternalStore(L,J,ct)},wt.useTransition=function(){return w.H.useTransition()},wt.version="19.2.0",wt}var iy;function Kd(){return iy||(iy=1,cd.exports=n1()),cd.exports}var $e=Kd(),hd={exports:{}},ao={},fd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function i1(){return sy||(sy=1,(function(a){function t(H,rt){var dt=H.length;H.push(rt);t:for(;0<dt;){var St=dt-1>>>1,Ot=H[St];if(0<l(Ot,rt))H[St]=rt,H[dt]=Ot,dt=St;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var rt=H[0],dt=H.pop();if(dt!==rt){H[0]=dt;t:for(var St=0,Ot=H.length,L=Ot>>>1;St<L;){var J=2*(St+1)-1,ct=H[J],gt=J+1,Tt=H[gt];if(0>l(ct,dt))gt<Ot&&0>l(Tt,ct)?(H[St]=Tt,H[gt]=dt,St=gt):(H[St]=ct,H[J]=dt,St=J);else if(gt<Ot&&0>l(Tt,dt))H[St]=Tt,H[gt]=dt,St=gt;else break t}}return rt}function l(H,rt){var dt=H.sortIndex-rt.sortIndex;return dt!==0?dt:H.id-rt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var p=[],m=[],b=1,E=null,T=3,N=!1,x=!1,I=!1,k=!1,st=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function at(H){for(var rt=n(m);rt!==null;){if(rt.callback===null)s(m);else if(rt.startTime<=H)s(m),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(m)}}function nt(H){if(I=!1,at(H),!x)if(n(p)!==null)x=!0,tt||(tt=!0,z());else{var rt=n(m);rt!==null&&lt(nt,rt.startTime-H)}}var tt=!1,w=-1,R=5,D=-1;function V(){return k?!0:!(a.unstable_now()-D<R)}function M(){if(k=!1,tt){var H=a.unstable_now();D=H;var rt=!0;try{t:{x=!1,I&&(I=!1,X(w),w=-1),N=!0;var dt=T;try{e:{for(at(H),E=n(p);E!==null&&!(E.expirationTime>H&&V());){var St=E.callback;if(typeof St=="function"){E.callback=null,T=E.priorityLevel;var Ot=St(E.expirationTime<=H);if(H=a.unstable_now(),typeof Ot=="function"){E.callback=Ot,at(H),rt=!0;break e}E===n(p)&&s(p),at(H)}else s(p);E=n(p)}if(E!==null)rt=!0;else{var L=n(m);L!==null&&lt(nt,L.startTime-H),rt=!1}}break t}finally{E=null,T=dt,N=!1}rt=void 0}}finally{rt?z():tt=!1}}}var z;if(typeof K=="function")z=function(){K(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Nt=C.port2;C.port1.onmessage=M,z=function(){Nt.postMessage(null)}}else z=function(){st(M,0)};function lt(H,rt){w=st(function(){H(a.unstable_now())},rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(H){switch(T){case 1:case 2:case 3:var rt=3;break;default:rt=T}var dt=T;T=rt;try{return H()}finally{T=dt}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(H,rt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var dt=T;T=H;try{return rt()}finally{T=dt}},a.unstable_scheduleCallback=function(H,rt,dt){var St=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?St+dt:St):dt=St,H){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=dt+Ot,H={id:b++,callback:rt,priorityLevel:H,startTime:dt,expirationTime:Ot,sortIndex:-1},dt>St?(H.sortIndex=dt,t(m,H),n(p)===null&&H===n(m)&&(I?(X(w),w=-1):I=!0,lt(nt,dt-St))):(H.sortIndex=Ot,t(p,H),x||N||(x=!0,tt||(tt=!0,z()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var rt=T;return function(){var dt=T;T=rt;try{return H.apply(this,arguments)}finally{T=dt}}}})(dd)),dd}var ry;function s1(){return ry||(ry=1,fd.exports=i1()),fd.exports}var gd={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function r1(){if(ay)return We;ay=1;var a=Kd();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:m,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,b)},We.flushSync=function(p){var m=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=b,s.d.f()}},We.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},We.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},We.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,E=g(b,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:N}):b==="script"&&s.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},We.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=g(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},We.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,E=g(b,m.crossOrigin);s.d.L(p,b,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},We.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=g(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},We.requestFormReset=function(p){s.d.r(p)},We.unstable_batchedUpdates=function(p,m){return p(m)},We.useFormState=function(p,m,b){return f.H.useFormState(p,m,b)},We.useFormStatus=function(){return f.H.useHostTransitionStatus()},We.version="19.2.0",We}var ly;function a1(){if(ly)return gd.exports;ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),gd.exports=r1(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function l1(){if(oy)return ao;oy=1;var a=s1(),t=Kd(),n=a1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,r=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(r=i.return),e=i.return;while(e)}return i.tag===3?r:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var r=e,o=i;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return p(h),e;if(d===o)return p(h),i;d=d.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=d;else{for(var y=!1,A=h.child;A;){if(A===r){y=!0,r=h,o=d;break}if(A===o){y=!0,o=h,r=d;break}A=A.sibling}if(!y){for(A=d.child;A;){if(A===r){y=!0,r=d,o=h;break}if(A===o){y=!0,o=d,r=h;break}A=A.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:i}function b(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=b(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case st:return"Profiler";case k:return"StrictMode";case nt:return"Suspense";case tt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case K:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case at:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return i=e.displayName||null,i!==null?i:Nt(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return Nt(e(i))}catch{}}return null}var lt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},St=[],Ot=-1;function L(e){return{current:e}}function J(e){0>Ot||(e.current=St[Ot],St[Ot]=null,Ot--)}function ct(e,i){Ot++,St[Ot]=e.current,e.current=i}var gt=L(null),Tt=L(null),Vt=L(null),jt=L(null);function Ne(e,i){switch(ct(Vt,i),ct(Tt,e),ct(gt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=A_(i),e=S_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(gt),ct(gt,e)}function oe(){J(gt),J(Tt),J(Vt)}function sr(e){e.memoizedState!==null&&ct(jt,e);var i=gt.current,r=S_(i,e.type);i!==r&&(ct(Tt,e),ct(gt,r))}function Gr(e){Tt.current===e&&(J(gt),J(Tt)),jt.current===e&&(J(jt),eo._currentValue=dt)}var Fr,Qr;function ri(e){if(Fr===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Fr=i&&i[1]||"",Qr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Qr}var el=!1;function rr(e,i){if(!e||el)return"";el=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var G=Y}Reflect.construct(e,[],W)}else{try{W.call()}catch(Y){G=Y}e.call(W.prototype)}}else{try{throw Error()}catch(Y){G=Y}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],A=d[1];if(y&&A){var O=y.split(`
`),P=A.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===P.length)for(o=O.length-1,h=P.length-1;1<=o&&0<=h&&O[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==P[h]){var $=`
`+O[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=h);break}}}finally{el=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ri(r):""}function nl(e,i){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return ri("Activity");default:return""}}function il(e){try{var i="",r=null;do i+=nl(e,r),r=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var be=Object.prototype.hasOwnProperty,Oe=a.unstable_scheduleCallback,rs=a.unstable_cancelCallback,ch=a.unstable_shouldYield,Uo=a.unstable_requestPaint,sn=a.unstable_now,ar=a.unstable_getCurrentPriorityLevel,sl=a.unstable_ImmediatePriority,rl=a.unstable_UserBlockingPriority,as=a.unstable_NormalPriority,hh=a.unstable_LowPriority,ko=a.unstable_IdlePriority,Bo=a.log,Ho=a.unstable_setDisableYieldValue,Qn=null,qe=null;function Cn(e){if(typeof Bo=="function"&&Ho(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Qn,e)}catch{}}var me=Math.clz32?Math.clz32:qo,jo=Math.log,Yr=Math.LN2;function qo(e){return e>>>=0,e===0?32:31-(jo(e)/Yr|0)|0}var ai=256,lr=262144,Ee=4194304;function li(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,i,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=o&134217727;return A!==0?(o=A&~d,o!==0?h=li(o):(y&=A,y!==0?h=li(y):r||(r=A&~e,r!==0&&(h=li(r))))):(A=o&~d,A!==0?h=li(A):y!==0?h=li(y):r||(r=o&~e,r!==0&&(h=li(r)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,r=i&-i,d>=r||d===32&&(r&4194048)!==0)?i:h}function Yn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function fh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ui(e){for(var i=[],r=0;31>r;r++)i.push(e);return i}function or(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dh(e,i,r,o,h,d){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var A=e.entanglements,O=e.expirationTimes,P=e.hiddenUpdates;for(r=y&~r;0<r;){var $=31-me(r),W=1<<$;A[$]=0,O[$]=-1;var G=P[$];if(G!==null)for(P[$]=null,$=0;$<G.length;$++){var Y=G[$];Y!==null&&(Y.lane&=-536870913)}r&=~W}o!==0&&ur(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function ur(e,i,r){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-me(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function al(e,i){var r=e.entangledLanes|=i;for(e=e.entanglements;r;){var o=31-me(r),h=1<<o;h&i|e[o]&i&&(e[o]|=i),r&=~h}}function ll(e,i){var r=i&-i;return r=(r&42)!==0?1:cr(r),(r&(e.suspendedLanes|i))!==0?0:r}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Go(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:Y_(e.type))}function Xn(e,i){var r=rt.p;try{return rt.p=e,i()}finally{rt.p=r}}var Kn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Kn,Ue="__reactProps$"+Kn,ci="__reactContainer$"+Kn,Xr="__reactEvents$"+Kn,gh="__reactListeners$"+Kn,Fo="__reactHandles$"+Kn,Qo="__reactResources$"+Kn,hi="__reactMarker$"+Kn;function Kr(e){delete e[Te],delete e[Ue],delete e[Xr],delete e[gh],delete e[Fo]}function fi(e){var i=e[Te];if(i)return i;for(var r=e.parentNode;r;){if(i=r[ci]||r[Te]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(e=M_(e);e!==null;){if(r=e[Te])return r;e=M_(e)}return i}e=r,r=e.parentNode}return null}function Dn(e){if(e=e[Te]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function di(e){var i=e[Qo];return i||(i=e[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[hi]=!0}var ol=new Set,ul={};function gi(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(ul[e]=i,e=0;e<i.length;e++)ol.add(i[e])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function Yo(e){return be.call(fl,e)?!0:be.call(hl,e)?!1:cl.test(e)?fl[e]=!0:(hl[e]=!0,!1)}function $r(e,i,r){if(Yo(i))if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+r)}}function vn(e,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+r)}}function Se(e,i,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(i,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dl(e,i,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $t(e){if(!e._valueTracker){var i=ls(e)?"checked":"value";e._valueTracker=dl(e,i,""+e[i])}}function hr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return e&&(o=ls(e)?e.checked?"true":"false":e.value),e=o,e!==r?(i.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function un(e){return e.replace(fr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Zr(e,i,r,o,h,d,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ke(i)):e.value!==""+ke(i)&&(e.value=""+ke(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?gl(e,y,ke(i)):r!=null?gl(e,y,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+ke(A):e.removeAttribute("name")}function Xo(e,i,r,o,h,d,y,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$t(e);return}r=r!=null?""+ke(r):"",i=i!=null?""+ke(i):r,A||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=A?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),$t(e)}function gl(e,i,r){i==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function os(e,i,r,o){if(e=e.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=i.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),i=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ko(e,i,r){if(i!=null&&(i=""+ke(i),i!==e.value&&(e.value=i),r==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=r!=null?""+ke(r):""}function us(e,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(s(92));if(lt(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=ke(i),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),$t(e)}function cn(e,i){if(i){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=i;return}}e.textContent=i}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(e,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,r):typeof r!="number"||r===0||$o.has(i)?i==="float"?e.cssFloat=r:e[i]=(""+r).trim():e[i]=r+"px"}function pl(e,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&r[h]!==o&&ml(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&ml(e,d,i[d])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var _l=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,_i=null;function dr(e){var i=Dn(e);if(i&&(e=i.stateNode)){var r=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(Zr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(s(90));Zr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===e.form&&hr(o)}break t;case"textarea":Ko(e,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&os(e,!!r.multiple,i,!1)}}}var ta=!1;function fs(e,i,r){if(ta)return e(i,r);ta=!0;try{var o=e(i);return o}finally{if(ta=!1,(hs!==null||_i!==null)&&(Gu(),hs&&(i=hs,e=_i,_i=hs=null,dr(i),e)))for(i=0;i<e.length;i++)dr(e[i])}}function Zn(e,i){var r=e.stateNode;if(r===null)return null;var o=r[Ue]||null;if(o===null)return null;r=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Mn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{gr=!1}var yi=null,yl=null,mr=null;function vl(){if(mr)return mr;var e,i=yl,r=i.length,o,h="value"in yi?yi.value:yi.textContent,d=h.length;for(e=0;e<r&&i[e]===h[e];e++);var y=r-e;for(o=1;o<=y&&i[r-o]===h[d-o];o++);return mr=h.slice(e,1<o?1-o:void 0)}function pr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Jn(){return!1}function Pe(e){function i(r,o,h,d,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(r=e[A],this[A]=r?r(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Jn,this.isPropagationStopped=Jn,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Pe(ki),ds=E({},ki,{view:0,detail:0}),bl=Pe(ds),gs,ea,bi,na=E({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(gs=e.screenX-bi.screenX,ea=e.screenY-bi.screenY):ea=gs=0,bi=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),El=Pe(na),_r=E({},na,{dataTransfer:0}),Jo=Pe(_r),Wo=E({},ds,{relatedTarget:0}),yr=Pe(Wo),Tl=E({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=Pe(Tl),ia=E({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eu=Pe(ia),nu=E({},ki,{data:0}),Ei=Pe(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ru[e])?!!i[e]:!1}function ms(){return au}var rn=E({},ds,{key:function(e){if(e.key){var i=iu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lu=Pe(rn),ou=E({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Pe(ou),c=E({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),_=Pe(c),v=E({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Pe(v),j=E({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Pe(j),ot=E({},ki,{newState:0,oldState:0}),xt=Pe(ot),pe=[9,13,27,32],Qt=Mn&&"CompositionEvent"in window,ue=null;Mn&&"documentMode"in document&&(ue=document.documentMode);var Nn=Mn&&"TextEvent"in window&&!ue,Ti=Mn&&(!Qt||ue&&8<ue&&11>=ue),Wn=" ",ti=!1;function vr(e,i){switch(e){case"keyup":return pe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function Sb(e,i){switch(e){case"compositionend":return sa(i);case"keypress":return i.which!==32?null:(ti=!0,Wn);case"textInput":return e=i.data,e===Wn&&ti?null:e;default:return null}}function wb(e,i){if(ra)return e==="compositionend"||!Qt&&vr(e,i)?(e=vl(),mr=yl=yi=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Rb[e.type]:i==="textarea"}function Lg(e,i,r,o){hs?_i?_i.push(o):_i=[o]:hs=o,i=Zu(i,"onChange"),0<i.length&&(r=new vi("onChange","change",null,r,o),e.push({event:r,listeners:i}))}var Al=null,Sl=null;function xb(e){__(e,0)}function uu(e){var i=yn(e);if(hr(i))return e}function zg(e,i){if(e==="change")return i}var Ug=!1;if(Mn){var mh;if(Mn){var ph="oninput"in document;if(!ph){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),ph=typeof kg.oninput=="function"}mh=ph}else mh=!1;Ug=mh&&(!document.documentMode||9<document.documentMode)}function Bg(){Al&&(Al.detachEvent("onpropertychange",Hg),Sl=Al=null)}function Hg(e){if(e.propertyName==="value"&&uu(Sl)){var i=[];Lg(i,Sl,e,Vn(e)),fs(xb,i)}}function Cb(e,i,r){e==="focusin"?(Bg(),Al=i,Sl=r,Al.attachEvent("onpropertychange",Hg)):e==="focusout"&&Bg()}function Db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(Sl)}function Vb(e,i){if(e==="click")return uu(i)}function Mb(e,i){if(e==="input"||e==="change")return uu(i)}function Nb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:Nb;function wl(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var r=Object.keys(e),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!be.call(i,h)||!bn(e[h],i[h]))return!1}return!0}function jg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qg(e,i){var r=jg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=i&&o>=i)return{node:r,offset:i-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=jg(r)}}function Pg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Pg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pi(e.document);i instanceof e.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)e=i.contentWindow;else break;i=pi(e.document)}return i}function _h(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ob=Mn&&"documentMode"in document&&11>=document.documentMode,aa=null,yh=null,Rl=null,vh=!1;function Fg(e,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vh||aa==null||aa!==pi(o)||(o=aa,"selectionStart"in o&&_h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rl&&wl(Rl,o)||(Rl=o,o=Zu(yh,"onSelect"),0<o.length&&(i=new vi("onSelect","select",null,i,r),e.push({event:i,listeners:o}),i.target=aa)))}function br(e,i){var r={};return r[e.toLowerCase()]=i.toLowerCase(),r["Webkit"+e]="webkit"+i,r["Moz"+e]="moz"+i,r}var la={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},bh={},Qg={};Mn&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Er(e){if(bh[e])return bh[e];if(!la[e])return e;var i=la[e],r;for(r in i)if(i.hasOwnProperty(r)&&r in Qg)return bh[e]=i[r];return e}var Yg=Er("animationend"),Xg=Er("animationiteration"),Kg=Er("animationstart"),Ib=Er("transitionrun"),Lb=Er("transitionstart"),zb=Er("transitioncancel"),$g=Er("transitionend"),Zg=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eh.push("scrollEnd");function ei(e,i){Zg.set(e,i),gi(i,[e])}var cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],oa=0,Th=0;function hu(){for(var e=oa,i=Th=oa=0;i<e;){var r=On[i];On[i++]=null;var o=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&Jg(r,h,d)}}function fu(e,i,r,o){On[oa++]=e,On[oa++]=i,On[oa++]=r,On[oa++]=o,Th|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ah(e,i,r,o){return fu(e,i,r,o),du(e)}function Tr(e,i){return fu(e,null,null,i),du(e)}function Jg(e,i,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,d=e.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-me(r),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=r|536870912),d):null}function du(e){if(50<Xl)throw Xl=0,Of=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ua={};function Ub(e,i,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,i,r,o){return new Ub(e,i,r,o)}function Sh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,i){var r=e.alternate;return r===null?(r=En(e.tag,i,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=i,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,i=e.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Wg(e,i){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,i=r.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function gu(e,i,r,o,h,d){var y=0;if(o=e,typeof e=="function")Sh(e)&&(y=1);else if(typeof e=="string")y=qE(e,r,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=En(31,r,i,h),e.elementType=D,e.lanes=d,e;case I:return Ar(r.children,h,d,i);case k:y=8,h|=24;break;case st:return e=En(12,r,i,h|2),e.elementType=st,e.lanes=d,e;case nt:return e=En(13,r,i,h),e.elementType=nt,e.lanes=d,e;case tt:return e=En(19,r,i,h),e.elementType=tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:y=10;break t;case X:y=9;break t;case at:y=11;break t;case w:y=14;break t;case R:y=16,o=null;break t}y=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=En(y,r,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Ar(e,i,r,o){return e=En(7,e,o,i),e.lanes=r,e}function wh(e,i,r){return e=En(6,e,null,i),e.lanes=r,e}function tm(e){var i=En(18,null,null,0);return i.stateNode=e,i}function Rh(e,i,r){return i=En(4,e.children!==null?e.children:[],e.key,i),i.lanes=r,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var em=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var r=em.get(e);return r!==void 0?r:(i={value:e,source:i,stack:il(i)},em.set(e,i),i)}return{value:e,source:i,stack:il(i)}}var ca=[],ha=0,mu=null,xl=0,Ln=[],zn=0,ps=null,Ai=1,Si="";function ji(e,i){ca[ha++]=xl,ca[ha++]=mu,mu=e,xl=i}function nm(e,i,r){Ln[zn++]=Ai,Ln[zn++]=Si,Ln[zn++]=ps,ps=e;var o=Ai;e=Si;var h=32-me(o)-1;o&=~(1<<h),r+=1;var d=32-me(i)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ai=1<<32-me(i)+h|r<<h|o,Si=d+e}else Ai=1<<d|r<<h|o,Si=e}function xh(e){e.return!==null&&(ji(e,1),nm(e,1,0))}function Ch(e){for(;e===mu;)mu=ca[--ha],ca[ha]=null,xl=ca[--ha],ca[ha]=null;for(;e===ps;)ps=Ln[--zn],Ln[zn]=null,Si=Ln[--zn],Ln[zn]=null,Ai=Ln[--zn],Ln[zn]=null}function im(e,i){Ln[zn++]=Ai,Ln[zn++]=Si,Ln[zn++]=ps,Ai=i.id,Si=i.overflow,ps=e}var Ge=null,se=null,Ht=!1,_s=null,Un=!1,Dh=Error(s(519));function ys(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(In(i,e)),Dh}function sm(e){var i=e.stateNode,r=e.type,o=e.memoizedProps;switch(i[Te]=e,i[Ue]=o,r){case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":case"embed":Lt("load",i);break;case"video":case"audio":for(r=0;r<$l.length;r++)Lt($l[r],i);break;case"source":Lt("error",i);break;case"img":case"image":case"link":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"input":Lt("invalid",i),Xo(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Lt("invalid",i);break;case"textarea":Lt("invalid",i),us(i,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||E_(i.textContent,r)?(o.popover!=null&&(Lt("beforetoggle",i),Lt("toggle",i)),o.onScroll!=null&&Lt("scroll",i),o.onScrollEnd!=null&&Lt("scrollend",i),o.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||ys(e,!0)}function rm(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ge=Ge.return}}function fa(e){if(e!==Ge)return!1;if(!Ht)return rm(e),Ht=!0,!1;var i=e.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Xf(e.type,e.memoizedProps)),r=!r),r&&se&&ys(e),rm(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=V_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=V_(e)}else i===27?(i=se,Ns(e.type)?(e=Wf,Wf=null,se=e):se=i):se=Ge?Bn(e.stateNode.nextSibling):null;return!0}function Sr(){se=Ge=null,Ht=!1}function Vh(){var e=_s;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),_s=null),e}function Cl(e){_s===null?_s=[e]:_s.push(e)}var Mh=L(null),wr=null,qi=null;function vs(e,i,r){ct(Mh,i._currentValue),i._currentValue=r}function Pi(e){e._currentValue=Mh.current,J(Mh)}function Nh(e,i,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===r)break;e=e.return}}function Oh(e,i,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=h;for(var O=0;O<i.length;O++)if(A.context===i[O]){d.lanes|=r,A=d.alternate,A!==null&&(A.lanes|=r),Nh(d.return,r,e),o||(y=null);break t}d=A.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=r,d=y.alternate,d!==null&&(d.lanes|=r),Nh(y,r,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function da(e,i,r,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var A=h.type;bn(h.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(h===jt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(eo):e=[eo])}h=h.return}e!==null&&Oh(i,e,r,o),i.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return am(wr,e)}function _u(e,i){return wr===null&&Rr(e),am(e,i)}function am(e,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},qi===null){if(e===null)throw Error(s(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return r}var kb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(r){return r()})}},Bb=a.unstable_scheduleCallback,Hb=a.unstable_NormalPriority,we={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new kb,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&Bb(Hb,function(){e.controller.abort()})}var Vl=null,Lh=0,ga=0,ma=null;function jb(e,i){if(Vl===null){var r=Vl=[];Lh=0,ga=Bf(),ma={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Lh++,i.then(lm,lm),i}function lm(){if(--Lh===0&&Vl!==null){ma!==null&&(ma.status="fulfilled");var e=Vl;Vl=null,ga=0,ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qb(e,i){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var om=H.S;H.S=function(e,i){Fp=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jb(e,i),om!==null&&om(e,i)};var xr=L(null);function zh(){var e=xr.current;return e!==null?e:ie.pooledCache}function yu(e,i){i===null?ct(xr,xr.current):ct(xr,i.pool)}function um(){var e=zh();return e===null?null:{parent:we._currentValue,pool:e}}var pa=Error(s(460)),Uh=Error(s(474)),vu=Error(s(542)),bu={then:function(){}};function cm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hm(e,i,r){switch(r=e[r],r===void 0?e.push(i):r!==i&&(i.then($n,$n),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dm(e),e;default:if(typeof i.status=="string")i.then($n,$n);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dm(e),e}throw Dr=i,pa}}function Cr(e){try{var i=e._init;return i(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Dr=r,pa):r}}var Dr=null;function fm(){if(Dr===null)throw Error(s(459));var e=Dr;return Dr=null,e}function dm(e){if(e===pa||e===vu)throw Error(s(483))}var _a=null,Ml=0;function Eu(e){var i=Ml;return Ml+=1,_a===null&&(_a=[]),hm(_a,e,i)}function Nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Tu(e,i){throw i.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function gm(e){function i(B,U){if(e){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function r(B,U){if(!e)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function o(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Hi(B,U),B.index=0,B.sibling=null,B}function d(B,U,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function y(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function A(B,U,q,Z){return U===null||U.tag!==6?(U=wh(q,B.mode,Z),U.return=B,U):(U=h(U,q),U.return=B,U)}function O(B,U,q,Z){var yt=q.type;return yt===I?$(B,U,q.props.children,Z,q.key):U!==null&&(U.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&Cr(yt)===U.type)?(U=h(U,q.props),Nl(U,q),U.return=B,U):(U=gu(q.type,q.key,q.props,null,B.mode,Z),Nl(U,q),U.return=B,U)}function P(B,U,q,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Rh(q,B.mode,Z),U.return=B,U):(U=h(U,q.children||[]),U.return=B,U)}function $(B,U,q,Z,yt){return U===null||U.tag!==7?(U=Ar(q,B.mode,Z,yt),U.return=B,U):(U=h(U,q),U.return=B,U)}function W(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=wh(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return q=gu(U.type,U.key,U.props,null,B.mode,q),Nl(q,U),q.return=B,q;case x:return U=Rh(U,B.mode,q),U.return=B,U;case R:return U=Cr(U),W(B,U,q)}if(lt(U)||z(U))return U=Ar(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return W(B,Eu(U),q);if(U.$$typeof===K)return W(B,_u(B,U),q);Tu(B,U)}return null}function G(B,U,q,Z){var yt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return yt!==null?null:A(B,U,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===yt?O(B,U,q,Z):null;case x:return q.key===yt?P(B,U,q,Z):null;case R:return q=Cr(q),G(B,U,q,Z)}if(lt(q)||z(q))return yt!==null?null:$(B,U,q,Z,null);if(typeof q.then=="function")return G(B,U,Eu(q),Z);if(q.$$typeof===K)return G(B,U,_u(B,q),Z);Tu(B,q)}return null}function Y(B,U,q,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(q)||null,A(U,B,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return B=B.get(Z.key===null?q:Z.key)||null,O(U,B,Z,yt);case x:return B=B.get(Z.key===null?q:Z.key)||null,P(U,B,Z,yt);case R:return Z=Cr(Z),Y(B,U,q,Z,yt)}if(lt(Z)||z(Z))return B=B.get(q)||null,$(U,B,Z,yt,null);if(typeof Z.then=="function")return Y(B,U,q,Eu(Z),yt);if(Z.$$typeof===K)return Y(B,U,q,_u(U,Z),yt);Tu(U,Z)}return null}function mt(B,U,q,Z){for(var yt=null,Gt=null,pt=U,Mt=U=0,Ut=null;pt!==null&&Mt<q.length;Mt++){pt.index>Mt?(Ut=pt,pt=null):Ut=pt.sibling;var Ft=G(B,pt,q[Mt],Z);if(Ft===null){pt===null&&(pt=Ut);break}e&&pt&&Ft.alternate===null&&i(B,pt),U=d(Ft,U,Mt),Gt===null?yt=Ft:Gt.sibling=Ft,Gt=Ft,pt=Ut}if(Mt===q.length)return r(B,pt),Ht&&ji(B,Mt),yt;if(pt===null){for(;Mt<q.length;Mt++)pt=W(B,q[Mt],Z),pt!==null&&(U=d(pt,U,Mt),Gt===null?yt=pt:Gt.sibling=pt,Gt=pt);return Ht&&ji(B,Mt),yt}for(pt=o(pt);Mt<q.length;Mt++)Ut=Y(pt,B,Mt,q[Mt],Z),Ut!==null&&(e&&Ut.alternate!==null&&pt.delete(Ut.key===null?Mt:Ut.key),U=d(Ut,U,Mt),Gt===null?yt=Ut:Gt.sibling=Ut,Gt=Ut);return e&&pt.forEach(function(Us){return i(B,Us)}),Ht&&ji(B,Mt),yt}function bt(B,U,q,Z){if(q==null)throw Error(s(151));for(var yt=null,Gt=null,pt=U,Mt=U=0,Ut=null,Ft=q.next();pt!==null&&!Ft.done;Mt++,Ft=q.next()){pt.index>Mt?(Ut=pt,pt=null):Ut=pt.sibling;var Us=G(B,pt,Ft.value,Z);if(Us===null){pt===null&&(pt=Ut);break}e&&pt&&Us.alternate===null&&i(B,pt),U=d(Us,U,Mt),Gt===null?yt=Us:Gt.sibling=Us,Gt=Us,pt=Ut}if(Ft.done)return r(B,pt),Ht&&ji(B,Mt),yt;if(pt===null){for(;!Ft.done;Mt++,Ft=q.next())Ft=W(B,Ft.value,Z),Ft!==null&&(U=d(Ft,U,Mt),Gt===null?yt=Ft:Gt.sibling=Ft,Gt=Ft);return Ht&&ji(B,Mt),yt}for(pt=o(pt);!Ft.done;Mt++,Ft=q.next())Ft=Y(pt,B,Mt,Ft.value,Z),Ft!==null&&(e&&Ft.alternate!==null&&pt.delete(Ft.key===null?Mt:Ft.key),U=d(Ft,U,Mt),Gt===null?yt=Ft:Gt.sibling=Ft,Gt=Ft);return e&&pt.forEach(function(WE){return i(B,WE)}),Ht&&ji(B,Mt),yt}function ne(B,U,q,Z){if(typeof q=="object"&&q!==null&&q.type===I&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:t:{for(var yt=q.key;U!==null;){if(U.key===yt){if(yt=q.type,yt===I){if(U.tag===7){r(B,U.sibling),Z=h(U,q.props.children),Z.return=B,B=Z;break t}}else if(U.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&Cr(yt)===U.type){r(B,U.sibling),Z=h(U,q.props),Nl(Z,q),Z.return=B,B=Z;break t}r(B,U);break}else i(B,U);U=U.sibling}q.type===I?(Z=Ar(q.props.children,B.mode,Z,q.key),Z.return=B,B=Z):(Z=gu(q.type,q.key,q.props,null,B.mode,Z),Nl(Z,q),Z.return=B,B=Z)}return y(B);case x:t:{for(yt=q.key;U!==null;){if(U.key===yt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){r(B,U.sibling),Z=h(U,q.children||[]),Z.return=B,B=Z;break t}else{r(B,U);break}else i(B,U);U=U.sibling}Z=Rh(q,B.mode,Z),Z.return=B,B=Z}return y(B);case R:return q=Cr(q),ne(B,U,q,Z)}if(lt(q))return mt(B,U,q,Z);if(z(q)){if(yt=z(q),typeof yt!="function")throw Error(s(150));return q=yt.call(q),bt(B,U,q,Z)}if(typeof q.then=="function")return ne(B,U,Eu(q),Z);if(q.$$typeof===K)return ne(B,U,_u(B,q),Z);Tu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(r(B,U.sibling),Z=h(U,q),Z.return=B,B=Z):(r(B,U),Z=wh(q,B.mode,Z),Z.return=B,B=Z),y(B)):r(B,U)}return function(B,U,q,Z){try{Ml=0;var yt=ne(B,U,q,Z);return _a=null,yt}catch(pt){if(pt===pa||pt===vu)throw pt;var Gt=En(29,pt,null,B.mode);return Gt.lanes=Z,Gt.return=B,Gt}finally{}}}var Vr=gm(!0),mm=gm(!1),bs=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,i,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=du(e),Jg(e,null,r),i}return fu(e,o,i,r),du(e)}function Ol(e,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,r|=o,i.lanes=r,al(e,r)}}function Hh(e,i){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,r=r.next}while(r!==null);d===null?h=d=i:d=d.next=i}else h=d=i;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=i:e.next=i,r.lastBaseUpdate=i}var jh=!1;function Il(){if(jh){var e=ma;if(e!==null)throw e}}function Ll(e,i,r,o){jh=!1;var h=e.updateQueue;bs=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var O=A,P=O.next;O.next=null,y===null?d=P:y.next=P,y=O;var $=e.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==y&&(A===null?$.firstBaseUpdate=P:A.next=P,$.lastBaseUpdate=O))}if(d!==null){var W=h.baseState;y=0,$=P=O=null,A=d;do{var G=A.lane&-536870913,Y=G!==A.lane;if(Y?(zt&G)===G:(o&G)===G){G!==0&&G===ga&&(jh=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=e,bt=A;G=i;var ne=r;switch(bt.tag){case 1:if(mt=bt.payload,typeof mt=="function"){W=mt.call(ne,W,G);break t}W=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=bt.payload,G=typeof mt=="function"?mt.call(ne,W,G):mt,G==null)break t;W=E({},W,G);break t;case 2:bs=!0}}G=A.callback,G!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(P=$=Y,O=W):$=$.next=Y,y|=G;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(O=W),h.baseState=O,h.firstBaseUpdate=P,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),xs|=y,e.lanes=y,e.memoizedState=W}}function pm(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function _m(e,i){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)pm(r[e],i)}var ya=L(null),Au=L(0);function ym(e,i){e=Ji,ct(Au,e),ct(ya,i),Ji=e|i.baseLanes}function qh(){ct(Au,Ji),ct(ya,ya.current)}function Ph(){Ji=Au.current,J(ya),J(Au)}var Tn=L(null),kn=null;function As(e){var i=e.alternate;ct(_e,_e.current&1),ct(Tn,e),kn===null&&(i===null||ya.current!==null||i.memoizedState!==null)&&(kn=e)}function Gh(e){ct(_e,_e.current),ct(Tn,e),kn===null&&(kn=e)}function vm(e){e.tag===22?(ct(_e,_e.current),ct(Tn,e),kn===null&&(kn=e)):Ss()}function Ss(){ct(_e,_e.current),ct(Tn,Tn.current)}function An(e){J(Tn),kn===e&&(kn=null),J(_e)}var _e=L(0);function Su(e){for(var i=e;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Zf(r)||Jf(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Ct=null,te=null,Re=null,wu=!1,va=!1,Mr=!1,Ru=0,zl=0,ba=null,Pb=0;function fe(){throw Error(s(321))}function Fh(e,i){if(i===null)return!1;for(var r=0;r<i.length&&r<e.length;r++)if(!bn(e[r],i[r]))return!1;return!0}function Qh(e,i,r,o,h,d){return Gi=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?np:of,Mr=!1,d=r(o,h),Mr=!1,va&&(d=Em(i,r,o,h)),bm(e),d}function bm(e){H.H=Bl;var i=te!==null&&te.next!==null;if(Gi=0,Re=te=Ct=null,wu=!1,zl=0,ba=null,i)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&pu(e)&&(xe=!0))}function Em(e,i,r,o){Ct=e;var h=0;do{if(va&&(ba=null),zl=0,va=!1,25<=h)throw Error(s(301));if(h+=1,Re=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=ip,d=i(r,o)}while(va);return d}function Gb(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Ul(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Yh(){var e=Ru!==0;return Ru=0,e}function Xh(e,i,r){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~r}function Kh(e){if(wu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}wu=!1}Gi=0,Re=te=Ct=null,va=!1,zl=Ru=0,ba=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ct.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(te===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=Re===null?Ct.memoizedState:Re.next;if(i!==null)Re=i,te=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Ct.memoizedState=Re=e:Re=Re.next=e}return Re}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(e){var i=zl;return zl+=1,ba===null&&(ba=[]),e=hm(ba,e,i),i=Ct,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?np:of),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ul(e);if(e.$$typeof===K)return Fe(e)}throw Error(s(438,String(e)))}function $h(e){var i=null,r=Ct.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=xu(),Ct.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(e),o=0;o<e;o++)r[o]=V;return i.index++,r}function Fi(e,i){return typeof i=="function"?i(e):i}function Du(e){var i=ye();return Zh(i,te,e)}function Zh(e,i,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var A=y=null,O=null,P=i,$=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(zt&W)===W:(Gi&W)===W){var G=P.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===ga&&($=!0);else if((Gi&G)===G){P=P.next,G===ga&&($=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(A=O=W,y=d):O=O.next=W,Ct.lanes|=G,xs|=G;W=P.action,Mr&&r(d,W),d=P.hasEagerState?P.eagerState:r(d,W)}else G={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(A=O=G,y=d):O=O.next=G,Ct.lanes|=W,xs|=W;P=P.next}while(P!==null&&P!==i);if(O===null?y=d:O.next=A,!bn(d,e.memoizedState)&&(xe=!0,$&&(r=ma,r!==null)))throw r;e.memoizedState=d,e.baseState=y,e.baseQueue=O,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Jh(e){var i=ye(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,d=i.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);bn(d,i.memoizedState)||(xe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),r.lastRenderedState=d}return[d,o]}function Tm(e,i,r){var o=Ct,h=ye(),d=Ht;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=i();var y=!bn((te||h).memoizedState,r);if(y&&(h.memoizedState=r,xe=!0),h=h.queue,ef(wm.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},Sm.bind(null,o,h,r,i),null),ie===null)throw Error(s(349));d||(Gi&127)!==0||Am(o,i,r)}return r}function Am(e,i,r){e.flags|=16384,e={getSnapshot:i,value:r},i=Ct.updateQueue,i===null?(i=xu(),Ct.updateQueue=i,i.stores=[e]):(r=i.stores,r===null?i.stores=[e]:r.push(e))}function Sm(e,i,r,o){i.value=r,i.getSnapshot=o,Rm(i)&&xm(e)}function wm(e,i,r){return r(function(){Rm(i)&&xm(e)})}function Rm(e){var i=e.getSnapshot;e=e.value;try{var r=i();return!bn(e,r)}catch{return!0}}function xm(e){var i=Tr(e,2);i!==null&&mn(i,e,2)}function Wh(e){var i=an();if(typeof e=="function"){var r=e;if(e=r(),Mr){Cn(!0);try{r()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},i}function Cm(e,i,r,o){return e.baseState=r,Zh(e,te,typeof o=="function"?o:Fi)}function Fb(e,i,r,o,h){if(Nu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};H.T!==null?r(!0):d.isTransition=!1,o(d),r=i.pending,r===null?(d.next=i.pending=d,Dm(i,d)):(d.next=r.next,i.pending=r.next=d)}}function Dm(e,i){var r=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=H.T,y={};H.T=y;try{var A=r(h,o),O=H.S;O!==null&&O(y,A),Vm(e,i,A)}catch(P){tf(e,i,P)}finally{d!==null&&y.types!==null&&(d.types=y.types),H.T=d}}else try{d=r(h,o),Vm(e,i,d)}catch(P){tf(e,i,P)}}function Vm(e,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Mm(e,i,o)},function(o){return tf(e,i,o)}):Mm(e,i,r)}function Mm(e,i,r){i.status="fulfilled",i.value=r,Nm(i),e.state=r,i=e.pending,i!==null&&(r=i.next,r===i?e.pending=null:(r=r.next,i.next=r,Dm(e,r)))}function tf(e,i,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,Nm(i),i=i.next;while(i!==o)}e.action=null}function Nm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Om(e,i){return i}function Im(e,i){if(Ht){var r=ie.formState;if(r!==null){t:{var o=Ct;if(Ht){if(se){e:{for(var h=se,d=Un;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=Bn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(i=r[0])}}return r=an(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:i},r.queue=o,r=Wm.bind(null,Ct,o),o.dispatch=r,o=Wh(!1),d=lf.bind(null,Ct,!1,o.queue),o=an(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,r=Fb.bind(null,Ct,h,d,r),h.dispatch=r,o.memoizedState=e,[i,r,!1]}function Lm(e){var i=ye();return zm(i,te,e)}function zm(e,i,r){if(i=Zh(e,i,Om)[0],e=Du(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ul(i)}catch(y){throw y===pa?vu:y}else o=i;i=ye();var h=i.queue,d=h.dispatch;return r!==i.memoizedState&&(Ct.flags|=2048,Ea(9,{destroy:void 0},Qb.bind(null,h,r),null)),[o,d,e]}function Qb(e,i){e.action=i}function Um(e){var i=ye(),r=te;if(r!==null)return zm(i,r,e);ye(),i=i.memoizedState,r=ye();var o=r.queue.dispatch;return r.memoizedState=e,[i,o,!1]}function Ea(e,i,r,o){return e={tag:e,create:r,deps:o,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=xu(),Ct.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,i.lastEffect=e),e}function km(){return ye().memoizedState}function Vu(e,i,r,o){var h=an();Ct.flags|=e,h.memoizedState=Ea(1|i,{destroy:void 0},r,o===void 0?null:o)}function Mu(e,i,r,o){var h=ye();o=o===void 0?null:o;var d=h.memoizedState.inst;te!==null&&o!==null&&Fh(o,te.memoizedState.deps)?h.memoizedState=Ea(i,d,r,o):(Ct.flags|=e,h.memoizedState=Ea(1|i,d,r,o))}function Bm(e,i){Vu(8390656,8,e,i)}function ef(e,i){Mu(2048,8,e,i)}function Yb(e){Ct.flags|=4;var i=Ct.updateQueue;if(i===null)i=xu(),Ct.updateQueue=i,i.events=[e];else{var r=i.events;r===null?i.events=[e]:r.push(e)}}function Hm(e){var i=ye().memoizedState;return Yb({ref:i,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function jm(e,i){return Mu(4,2,e,i)}function qm(e,i){return Mu(4,4,e,i)}function Pm(e,i){if(typeof i=="function"){e=e();var r=i(e);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Gm(e,i,r){r=r!=null?r.concat([e]):null,Mu(4,4,Pm.bind(null,i,e),r)}function nf(){}function Fm(e,i){var r=ye();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&Fh(i,o[1])?o[0]:(r.memoizedState=[e,i],e)}function Qm(e,i){var r=ye();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&Fh(i,o[1]))return o[0];if(o=e(),Mr){Cn(!0);try{e()}finally{Cn(!1)}}return r.memoizedState=[o,i],o}function sf(e,i,r){return r===void 0||(Gi&1073741824)!==0&&(zt&261930)===0?e.memoizedState=i:(e.memoizedState=r,e=Yp(),Ct.lanes|=e,xs|=e,r)}function Ym(e,i,r,o){return bn(r,i)?r:ya.current!==null?(e=sf(e,r,o),bn(e,i)||(xe=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(zt&261930)===0?(xe=!0,e.memoizedState=r):(e=Yp(),Ct.lanes|=e,xs|=e,i)}function Xm(e,i,r,o,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var y=H.T,A={};H.T=A,lf(e,!1,i,r);try{var O=h(),P=H.S;if(P!==null&&P(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=qb(O,o);kl(e,i,$,Rn(e))}else kl(e,i,o,Rn(e))}catch(W){kl(e,i,{then:function(){},status:"rejected",reason:W},Rn())}finally{rt.p=d,y!==null&&A.types!==null&&(y.types=A.types),H.T=y}}function Xb(){}function rf(e,i,r,o){if(e.tag!==5)throw Error(s(476));var h=Km(e).queue;Xm(e,h,i,dt,r===null?Xb:function(){return $m(e),r(o)})}function Km(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:dt},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:r},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function $m(e){var i=Km(e);i.next===null&&(i=e.alternate.memoizedState),kl(e,i.next.queue,{},Rn())}function af(){return Fe(eo)}function Zm(){return ye().memoizedState}function Jm(){return ye().memoizedState}function Kb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var r=Rn();e=Es(r);var o=Ts(i,e,r);o!==null&&(mn(o,i,r),Ol(o,i,r)),i={cache:Ih()},e.payload=i;return}i=i.return}}function $b(e,i,r){var o=Rn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Nu(e)?tp(i,r):(r=Ah(e,i,r,o),r!==null&&(mn(r,e,o),ep(r,i,o)))}function Wm(e,i,r){var o=Rn();kl(e,i,r,o)}function kl(e,i,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))tp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,A=d(y,r);if(h.hasEagerState=!0,h.eagerState=A,bn(A,y))return fu(e,i,h,0),ie===null&&hu(),!1}catch{}finally{}if(r=Ah(e,i,h,o),r!==null)return mn(r,e,o),ep(r,i,o),!0}return!1}function lf(e,i,r,o){if(o={lane:2,revertLane:Bf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Nu(e)){if(i)throw Error(s(479))}else i=Ah(e,r,o,2),i!==null&&mn(i,e,2)}function Nu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function tp(e,i){va=wu=!0;var r=e.pending;r===null?i.next=i:(i.next=r.next,r.next=i),e.pending=i}function ep(e,i,r){if((r&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,r|=o,i.lanes=r,al(e,r)}}var Bl={readContext:Fe,use:Cu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Bl.useEffectEvent=fe;var np={readContext:Fe,use:Cu,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Bm,useImperativeHandle:function(e,i,r){r=r!=null?r.concat([e]):null,Vu(4194308,4,Pm.bind(null,i,e),r)},useLayoutEffect:function(e,i){return Vu(4194308,4,e,i)},useInsertionEffect:function(e,i){Vu(4,2,e,i)},useMemo:function(e,i){var r=an();i=i===void 0?null:i;var o=e();if(Mr){Cn(!0);try{e()}finally{Cn(!1)}}return r.memoizedState=[o,i],o},useReducer:function(e,i,r){var o=an();if(r!==void 0){var h=r(i);if(Mr){Cn(!0);try{r(i)}finally{Cn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=$b.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=Wh(e);var i=e.queue,r=Wm.bind(null,Ct,i);return i.dispatch=r,[e.memoizedState,r]},useDebugValue:nf,useDeferredValue:function(e,i){var r=an();return sf(r,e,i)},useTransition:function(){var e=Wh(!1);return e=Xm.bind(null,Ct,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,r){var o=Ct,h=an();if(Ht){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),ie===null)throw Error(s(349));(zt&127)!==0||Am(o,i,r)}h.memoizedState=r;var d={value:r,getSnapshot:i};return h.queue=d,Bm(wm.bind(null,o,d,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},Sm.bind(null,o,d,r,i),null),r},useId:function(){var e=an(),i=ie.identifierPrefix;if(Ht){var r=Si,o=Ai;r=(o&~(1<<32-me(o)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Ru++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=Pb++,i="_"+i+"r_"+r.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:af,useFormState:Im,useActionState:Im,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=lf.bind(null,Ct,!0,r),r.dispatch=i,[e,i]},useMemoCache:$h,useCacheRefresh:function(){return an().memoizedState=Kb.bind(null,Ct)},useEffectEvent:function(e){var i=an(),r={impl:e};return i.memoizedState=r,function(){if((Yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},of={readContext:Fe,use:Cu,useCallback:Fm,useContext:Fe,useEffect:ef,useImperativeHandle:Gm,useInsertionEffect:jm,useLayoutEffect:qm,useMemo:Qm,useReducer:Du,useRef:km,useState:function(){return Du(Fi)},useDebugValue:nf,useDeferredValue:function(e,i){var r=ye();return Ym(r,te.memoizedState,e,i)},useTransition:function(){var e=Du(Fi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Ul(e),i]},useSyncExternalStore:Tm,useId:Zm,useHostTransitionStatus:af,useFormState:Lm,useActionState:Lm,useOptimistic:function(e,i){var r=ye();return Cm(r,te,e,i)},useMemoCache:$h,useCacheRefresh:Jm};of.useEffectEvent=Hm;var ip={readContext:Fe,use:Cu,useCallback:Fm,useContext:Fe,useEffect:ef,useImperativeHandle:Gm,useInsertionEffect:jm,useLayoutEffect:qm,useMemo:Qm,useReducer:Jh,useRef:km,useState:function(){return Jh(Fi)},useDebugValue:nf,useDeferredValue:function(e,i){var r=ye();return te===null?sf(r,e,i):Ym(r,te.memoizedState,e,i)},useTransition:function(){var e=Jh(Fi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Ul(e),i]},useSyncExternalStore:Tm,useId:Zm,useHostTransitionStatus:af,useFormState:Um,useActionState:Um,useOptimistic:function(e,i){var r=ye();return te!==null?Cm(r,te,e,i):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:$h,useCacheRefresh:Jm};ip.useEffectEvent=Hm;function uf(e,i,r,o){i=e.memoizedState,r=r(o,i),r=r==null?i:E({},i,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cf={enqueueSetState:function(e,i,r){e=e._reactInternals;var o=Rn(),h=Es(o);h.payload=i,r!=null&&(h.callback=r),i=Ts(e,h,o),i!==null&&(mn(i,e,o),Ol(i,e,o))},enqueueReplaceState:function(e,i,r){e=e._reactInternals;var o=Rn(),h=Es(o);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Ts(e,h,o),i!==null&&(mn(i,e,o),Ol(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var r=Rn(),o=Es(r);o.tag=2,i!=null&&(o.callback=i),i=Ts(e,o,r),i!==null&&(mn(i,e,r),Ol(i,e,r))}};function sp(e,i,r,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):i.prototype&&i.prototype.isPureReactComponent?!wl(r,o)||!wl(h,d):!0}function rp(e,i,r,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==e&&cf.enqueueReplaceState(i,i.state,null)}function Nr(e,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(e=e.defaultProps){r===i&&(r=E({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function ap(e){cu(e)}function lp(e){console.error(e)}function op(e){cu(e)}function Ou(e,i){try{var r=e.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function up(e,i,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(e,i,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){Ou(e,i)},r}function cp(e){return e=Es(e),e.tag=3,e}function hp(e,i,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){up(i,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){up(i,r,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function Zb(e,i,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&da(i,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return kn===null?Fu():r.alternate===null&&de===0&&(de=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===bu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),zf(e,o,h)),!1;case 22:return r.flags|=65536,o===bu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),zf(e,o,h)),!1}throw Error(s(435,r.tag))}return zf(e,o,h),Fu(),!1}if(Ht)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Dh&&(e=Error(s(422),{cause:o}),Cl(In(e,r)))):(o!==Dh&&(i=Error(s(423),{cause:o}),Cl(In(i,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,r),h=hf(e.stateNode,o,h),Hh(e,h),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:o});if(d=In(d,r),Yl===null?Yl=[d]:Yl.push(d),de!==4&&(de=2),i===null)return!0;o=In(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=hf(r.stateNode,o,e),Hh(r,e),!1;case 1:if(i=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cs===null||!Cs.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=cp(h),hp(h,e,r,o),Hh(r,h),!1}r=r.return}while(r!==null);return!1}var ff=Error(s(461)),xe=!1;function Qe(e,i,r,o){i.child=e===null?mm(i,null,r,o):Vr(i,e.child,r,o)}function fp(e,i,r,o,h){r=r.render;var d=i.ref;if("ref"in o){var y={};for(var A in o)A!=="ref"&&(y[A]=o[A])}else y=o;return Rr(i),o=Qh(e,i,r,y,d,h),A=Yh(),e!==null&&!xe?(Xh(e,i,h),Qi(e,i,h)):(Ht&&A&&xh(i),i.flags|=1,Qe(e,i,o,h),i.child)}function dp(e,i,r,o,h){if(e===null){var d=r.type;return typeof d=="function"&&!Sh(d)&&d.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=d,gp(e,i,d,o,h)):(e=gu(r.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!bf(e,h)){var y=d.memoizedProps;if(r=r.compare,r=r!==null?r:wl,r(y,o)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=Hi(d,o),e.ref=i.ref,e.return=i,i.child=e}function gp(e,i,r,o,h){if(e!==null){var d=e.memoizedProps;if(wl(d,o)&&e.ref===i.ref)if(xe=!1,i.pendingProps=o=d,bf(e,h))(e.flags&131072)!==0&&(xe=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return df(e,i,r,o,h)}function mp(e,i,r,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return pp(e,i,d,r,o)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&yu(i,d!==null?d.cachePool:null),d!==null?ym(i,d):qh(),vm(i);else return o=i.lanes=536870912,pp(e,i,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(yu(i,d.cachePool),ym(i,d),Ss(),i.memoizedState=null):(e!==null&&yu(i,null),qh(),Ss());return Qe(e,i,h,r),i.child}function Hl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function pp(e,i,r,o,h){var d=zh();return d=d===null?null:{parent:we._currentValue,pool:d},i.memoizedState={baseLanes:r,cachePool:d},e!==null&&yu(i,null),qh(),vm(i),e!==null&&da(e,i,o,!0),i.childLanes=h,null}function Iu(e,i){return i=zu({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function _p(e,i,r){return Vr(i,e.child,null,r),e=Iu(i,i.pendingProps),e.flags|=2,An(i),i.memoizedState=null,e}function Jb(e,i,r){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=Iu(i,o),i.lanes=536870912,Hl(null,e);if(Gh(i),(e=se)?(e=D_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ps!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=tm(e),r.return=i,i.child=r,Ge=i,se=null)):e=null,e===null)throw ys(i);return i.lanes=536870912,null}return Iu(i,o)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Gh(i),h)if(i.flags&256)i.flags&=-257,i=_p(e,i,r);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(xe||da(e,i,r,!1),h=(r&e.childLanes)!==0,xe||h){if(o=ie,o!==null&&(y=ll(o,r),y!==0&&y!==d.retryLane))throw d.retryLane=y,Tr(e,y),mn(o,e,y),ff;Fu(),i=_p(e,i,r)}else e=d.treeContext,se=Bn(y.nextSibling),Ge=i,Ht=!0,_s=null,Un=!1,e!==null&&im(i,e),i=Iu(i,o),i.flags|=4096;return i}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Lu(e,i){var r=i.ref;if(r===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(i.flags|=4194816)}}function df(e,i,r,o,h){return Rr(i),r=Qh(e,i,r,o,void 0,h),o=Yh(),e!==null&&!xe?(Xh(e,i,h),Qi(e,i,h)):(Ht&&o&&xh(i),i.flags|=1,Qe(e,i,r,h),i.child)}function yp(e,i,r,o,h,d){return Rr(i),i.updateQueue=null,r=Em(i,o,r,h),bm(e),o=Yh(),e!==null&&!xe?(Xh(e,i,d),Qi(e,i,d)):(Ht&&o&&xh(i),i.flags|=1,Qe(e,i,r,d),i.child)}function vp(e,i,r,o,h){if(Rr(i),i.stateNode===null){var d=ua,y=r.contextType;typeof y=="object"&&y!==null&&(d=Fe(y)),d=new r(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},kh(i),y=r.contextType,d.context=typeof y=="object"&&y!==null?Fe(y):ua,d.state=i.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(uf(i,r,y,o),d.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&cf.enqueueReplaceState(d,d.state,null),Ll(i,o,d,h),Il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var A=i.memoizedProps,O=Nr(r,A);d.props=O;var P=d.context,$=r.contextType;y=ua,typeof $=="object"&&$!==null&&(y=Fe($));var W=r.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||P!==y)&&rp(i,d,o,y),bs=!1;var G=i.memoizedState;d.state=G,Ll(i,o,d,h),Il(),P=i.memoizedState,A||G!==P||bs?(typeof W=="function"&&(uf(i,r,W,o),P=i.memoizedState),(O=bs||sp(i,r,O,o,G,P,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=P),d.props=o,d.state=P,d.context=y,o=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Bh(e,i),y=i.memoizedProps,$=Nr(r,y),d.props=$,W=i.pendingProps,G=d.context,P=r.contextType,O=ua,typeof P=="object"&&P!==null&&(O=Fe(P)),A=r.getDerivedStateFromProps,(P=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==W||G!==O)&&rp(i,d,o,O),bs=!1,G=i.memoizedState,d.state=G,Ll(i,o,d,h),Il();var Y=i.memoizedState;y!==W||G!==Y||bs||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof A=="function"&&(uf(i,r,A,o),Y=i.memoizedState),($=bs||sp(i,r,$,o,G,Y,O)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Y,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),d.props=o,d.state=Y,d.context=O,o=$):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Lu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Vr(i,e.child,null,h),i.child=Vr(i,null,r,h)):Qe(e,i,r,h),i.memoizedState=d.state,e=i.child):e=Qi(e,i,h),e}function bp(e,i,r,o){return Sr(),i.flags|=256,Qe(e,i,r,o),i.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(e){return{baseLanes:e,cachePool:um()}}function pf(e,i,r){return e=e!==null?e.childLanes&~r:0,i&&(e|=wn),e}function Ep(e,i,r){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?As(i):Ss(),(e=se)?(e=D_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ps!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=tm(e),r.return=i,i.child=r,Ge=i,se=null)):e=null,e===null)throw ys(i);return Jf(e)?i.lanes=32:i.lanes=536870912,null}var A=o.children;return o=o.fallback,h?(Ss(),h=i.mode,A=zu({mode:"hidden",children:A},h),o=Ar(o,h,r,null),A.return=i,o.return=i,A.sibling=o,i.child=A,o=i.child,o.memoizedState=mf(r),o.childLanes=pf(e,y,r),i.memoizedState=gf,Hl(null,o)):(As(i),_f(i,A))}var O=e.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(d)i.flags&256?(As(i),i.flags&=-257,i=yf(e,i,r)):i.memoizedState!==null?(Ss(),i.child=e.child,i.flags|=128,i=null):(Ss(),A=o.fallback,h=i.mode,o=zu({mode:"visible",children:o.children},h),A=Ar(A,h,r,null),A.flags|=2,o.return=i,A.return=i,o.sibling=A,i.child=o,Vr(i,e.child,null,r),o=i.child,o.memoizedState=mf(r),o.childLanes=pf(e,y,r),i.memoizedState=gf,i=Hl(null,o));else if(As(i),Jf(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var P=y.dgst;y=P,o=Error(s(419)),o.stack="",o.digest=y,Cl({value:o,source:null,stack:null}),i=yf(e,i,r)}else if(xe||da(e,i,r,!1),y=(r&e.childLanes)!==0,xe||y){if(y=ie,y!==null&&(o=ll(y,r),o!==0&&o!==O.retryLane))throw O.retryLane=o,Tr(e,o),mn(y,e,o),ff;Zf(A)||Fu(),i=yf(e,i,r)}else Zf(A)?(i.flags|=192,i.child=e.child,i=null):(e=O.treeContext,se=Bn(A.nextSibling),Ge=i,Ht=!0,_s=null,Un=!1,e!==null&&im(i,e),i=_f(i,o.children),i.flags|=4096);return i}return h?(Ss(),A=o.fallback,h=i.mode,O=e.child,P=O.sibling,o=Hi(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,P!==null?A=Hi(P,A):(A=Ar(A,h,r,null),A.flags|=2),A.return=i,o.return=i,o.sibling=A,i.child=o,Hl(null,o),o=i.child,A=e.child.memoizedState,A===null?A=mf(r):(h=A.cachePool,h!==null?(O=we._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=um(),A={baseLanes:A.baseLanes|r,cachePool:h}),o.memoizedState=A,o.childLanes=pf(e,y,r),i.memoizedState=gf,Hl(e.child,o)):(As(i),r=e.child,e=r.sibling,r=Hi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=r,i.memoizedState=null,r)}function _f(e,i){return i=zu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function zu(e,i){return e=En(22,e,null,i),e.lanes=0,e}function yf(e,i,r){return Vr(i,e.child,null,r),e=_f(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Tp(e,i,r){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Nh(e.return,i,r)}function vf(e,i,r,o,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=d)}function Ap(e,i,r){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=_e.current,A=(y&2)!==0;if(A?(y=y&1|2,i.flags|=128):y&=1,ct(_e,y),Qe(e,i,o,r),o=Ht?xl:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,r,i);else if(e.tag===19)Tp(e,r,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)e=r.alternate,e!==null&&Su(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),vf(i,!1,h,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Su(e)===null){i.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}vf(i,!0,r,null,d,o);break;case"together":vf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Qi(e,i,r){if(e!==null&&(i.dependencies=e.dependencies),xs|=i.lanes,(r&i.childLanes)===0)if(e!==null){if(da(e,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,r=Hi(e,e.pendingProps),i.child=r,r.return=i;e.sibling!==null;)e=e.sibling,r=r.sibling=Hi(e,e.pendingProps),r.return=i;r.sibling=null}return i.child}function bf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function Wb(e,i,r){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),vs(i,we,e.memoizedState.cache),Sr();break;case 27:case 5:sr(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:vs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gh(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(As(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Ep(e,i,r):(As(i),e=Qi(e,i,r),e!==null?e.sibling:null);As(i);break;case 19:var h=(e.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(da(e,i,r,!1),o=(r&i.childLanes)!==0),h){if(o)return Ap(e,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ct(_e,_e.current),o)break;return null;case 22:return i.lanes=0,mp(e,i,r,i.pendingProps);case 24:vs(i,we,e.memoizedState.cache)}return Qi(e,i,r)}function Sp(e,i,r){if(e!==null)if(e.memoizedProps!==i.pendingProps)xe=!0;else{if(!bf(e,r)&&(i.flags&128)===0)return xe=!1,Wb(e,i,r);xe=(e.flags&131072)!==0}else xe=!1,Ht&&(i.flags&1048576)!==0&&nm(i,xl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Cr(i.elementType),i.type=e,typeof e=="function")Sh(e)?(o=Nr(e,o),i.tag=1,i=vp(null,i,e,o,r)):(i.tag=0,i=df(null,i,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===at){i.tag=11,i=fp(null,i,e,o,r);break t}else if(h===w){i.tag=14,i=dp(null,i,e,o,r);break t}}throw i=Nt(e)||e,Error(s(306,i,""))}}return i;case 0:return df(e,i,i.type,i.pendingProps,r);case 1:return o=i.type,h=Nr(o,i.pendingProps),vp(e,i,o,h,r);case 3:t:{if(Ne(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Bh(e,i),Ll(i,o,null,r);var y=i.memoizedState;if(o=y.cache,vs(i,we,o),o!==d.cache&&Oh(i,[we],r,!0),Il(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=bp(e,i,o,r);break t}else if(o!==h){h=In(Error(s(424)),i),Cl(h),i=bp(e,i,o,r);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=Bn(e.firstChild),Ge=i,Ht=!0,_s=null,Un=!0,r=mm(i,null,o,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Sr(),o===h){i=Qi(e,i,r);break t}Qe(e,i,o,r)}i=i.child}return i;case 26:return Lu(e,i),e===null?(r=L_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ht||(r=i.type,e=i.pendingProps,o=Ju(Vt.current).createElement(r),o[Te]=i,o[Ue]=e,Ye(o,r,e),Ae(o),i.stateNode=o):i.memoizedState=L_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return sr(i),e===null&&Ht&&(o=i.stateNode=N_(i.type,i.pendingProps,Vt.current),Ge=i,Un=!0,h=se,Ns(i.type)?(Wf=h,se=Bn(o.firstChild)):se=h),Qe(e,i,i.pendingProps.children,r),Lu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=o=se)&&(o=DE(o,i.type,i.pendingProps,Un),o!==null?(i.stateNode=o,Ge=i,se=Bn(o.firstChild),Un=!1,h=!0):h=!1),h||ys(i)),sr(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,Xf(h,d)?o=null:y!==null&&Xf(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Qh(e,i,Gb,null,null,r),eo._currentValue=h),Lu(e,i),Qe(e,i,o,r),i.child;case 6:return e===null&&Ht&&((e=r=se)&&(r=VE(r,i.pendingProps,Un),r!==null?(i.stateNode=r,Ge=i,se=null,e=!0):e=!1),e||ys(i)),null;case 13:return Ep(e,i,r);case 4:return Ne(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Vr(i,null,o,r):Qe(e,i,o,r),i.child;case 11:return fp(e,i,i.type,i.pendingProps,r);case 7:return Qe(e,i,i.pendingProps,r),i.child;case 8:return Qe(e,i,i.pendingProps.children,r),i.child;case 12:return Qe(e,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,vs(i,i.type,o.value),Qe(e,i,o.children,r),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Rr(i),h=Fe(h),o=o(h),i.flags|=1,Qe(e,i,o,r),i.child;case 14:return dp(e,i,i.type,i.pendingProps,r);case 15:return gp(e,i,i.type,i.pendingProps,r);case 19:return Ap(e,i,r);case 31:return Jb(e,i,r);case 22:return mp(e,i,r,i.pendingProps);case 24:return Rr(i),o=Fe(we),e===null?(h=zh(),h===null&&(h=ie,d=Ih(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),i.memoizedState={parent:o,cache:h},kh(i),vs(i,we,h)):((e.lanes&r)!==0&&(Bh(e,i),Ll(i,null,null,r),Il()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vs(i,we,o)):(o=d.cache,vs(i,we,o),o!==h.cache&&Oh(i,[we],r,!0))),Qe(e,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yi(e){e.flags|=4}function Ef(e,i,r,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Zp())e.flags|=8192;else throw Dr=bu,Uh}else e.flags&=-16777217}function wp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(i))if(Zp())e.flags|=8192;else throw Dr=bu,Uh}function Uu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Po():536870912,e.lanes|=i,wa|=i)}function jl(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(i)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,i}function tE(e,i,r){var o=i.pendingProps;switch(Ch(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return r=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pi(we),oe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fa(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vh())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Yi(i),d!==null?(re(i),wp(i,d)):(re(i),Ef(i,h,null,o,r))):d?d!==e.memoizedState?(Yi(i),re(i),wp(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(i),re(i),Ef(i,h,e,o,r)),null;case 27:if(Gr(i),r=Vt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=gt.current,fa(i)?sm(i):(e=N_(h,o,r),i.stateNode=e,Yi(i))}return re(i),null;case 5:if(Gr(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(d=gt.current,fa(i))sm(i);else{var y=Ju(Vt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[Te]=i,d[Ue]=o;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;t:switch(Ye(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(i)}}return re(i),Ef(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,r),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Vt.current,fa(i)){if(e=i.stateNode,r=i.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||E_(e.nodeValue,r)),e||ys(i,!0)}else e=Ju(e).createTextNode(o),e[Te]=i,i.stateNode=e}return re(i),null;case 31:if(r=i.memoizedState,e===null||e.memoizedState!==null){if(o=fa(i),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Te]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else r=Vh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Vh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=r,i):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),r!==e&&r&&(i.child.flags|=8192),Uu(i,i.updateQueue),re(i),null);case 4:return oe(),e===null&&Pf(i.stateNode.containerInfo),re(i),null;case 10:return Pi(i.type),re(i),null;case 19:if(J(_e),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)jl(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Su(e),d!==null){for(i.flags|=128,jl(o,!1),e=d.updateQueue,i.updateQueue=e,Uu(i,e),i.subtreeFlags=0,e=r,r=i.child;r!==null;)Wg(r,e),r=r.sibling;return ct(_e,_e.current&1|2),Ht&&ji(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&sn()>qu&&(i.flags|=128,h=!0,jl(o,!1),i.lanes=4194304)}else{if(!h)if(e=Su(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Uu(i,e),jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ht)return re(i),null}else 2*sn()-o.renderingStartTime>qu&&r!==536870912&&(i.flags|=128,h=!0,jl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=sn(),e.sibling=null,r=_e.current,ct(_e,h?r&1|2:r&1),Ht&&ji(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return An(i),Ph(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),r=i.updateQueue,r!==null&&Uu(i,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),e!==null&&J(xr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Pi(we),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eE(e,i){switch(Ch(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(we),oe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Gr(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(An(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(_e),null;case 4:return oe(),null;case 10:return Pi(i.type),null;case 22:case 23:return An(i),Ph(),e!==null&&J(xr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(we),null;case 25:return null;default:return null}}function Rp(e,i){switch(Ch(i),i.tag){case 3:Pi(we),oe();break;case 26:case 27:case 5:Gr(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:J(_e);break;case 10:Pi(i.type);break;case 22:case 23:An(i),Ph(),e!==null&&J(xr);break;case 24:Pi(we)}}function ql(e,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var d=r.create,y=r.inst;o=d(),y.destroy=o}r=r.next}while(r!==h)}}catch(A){Jt(i,i.return,A)}}function ws(e,i,r){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,h=i;var O=r,P=A;try{P()}catch($){Jt(h,O,$)}}}o=o.next}while(o!==d)}}catch($){Jt(i,i.return,$)}}function xp(e){var i=e.updateQueue;if(i!==null){var r=e.stateNode;try{_m(i,r)}catch(o){Jt(e,e.return,o)}}}function Cp(e,i,r){r.props=Nr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Jt(e,i,o)}}function Pl(e,i){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Jt(e,i,h)}}function wi(e,i){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Jt(e,i,h)}else r.current=null}function Dp(e){var i=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Jt(e,e.return,h)}}function Tf(e,i,r){try{var o=e.stateNode;AE(o,e.type,r,i),o[Ue]=i}catch(h){Jt(e,e.return,h)}}function Vp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Af(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,i,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(e),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=$n));else if(o!==4&&(o===27&&Ns(e.type)&&(r=e.stateNode,i=null),e=e.child,e!==null))for(Sf(e,i,r),e=e.sibling;e!==null;)Sf(e,i,r),e=e.sibling}function ku(e,i,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?r.insertBefore(e,i):r.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ku(e,i,r),e=e.sibling;e!==null;)ku(e,i,r),e=e.sibling}function Mp(e){var i=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,o,r),i[Te]=e,i[Ue]=r}catch(d){Jt(e,e.return,d)}}var Xi=!1,Ce=!1,wf=!1,Np=typeof WeakSet=="function"?WeakSet:Set,Be=null;function nE(e,i){if(e=e.containerInfo,Qf=rc,e=Gg(e),_h(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var y=0,A=-1,O=-1,P=0,$=0,W=e,G=null;e:for(;;){for(var Y;W!==r||h!==0&&W.nodeType!==3||(A=y+h),W!==d||o!==0&&W.nodeType!==3||(O=y+o),W.nodeType===3&&(y+=W.nodeValue.length),(Y=W.firstChild)!==null;)G=W,W=Y;for(;;){if(W===e)break e;if(G===r&&++P===h&&(A=y),G===d&&++$===o&&(O=y),(Y=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=Y}r=A===-1||O===-1?null:{start:A,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yf={focusedElem:e,selectionRange:r},rc=!1,Be=i;Be!==null;)if(i=Be,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Be=e;else for(;Be!==null;){switch(i=Be,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=i,h=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var mt=Nr(r.type,h);e=o.getSnapshotBeforeUpdate(mt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Jt(r,r.return,bt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,r=e.nodeType,r===9)$f(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$f(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Be=e;break}Be=i.return}}function Op(e,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:$i(e,r),o&4&&ql(5,r);break;case 1:if($i(e,r),o&4)if(e=r.stateNode,i===null)try{e.componentDidMount()}catch(y){Jt(r,r.return,y)}else{var h=Nr(r.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(r,r.return,y)}}o&64&&xp(r),o&512&&Pl(r,r.return);break;case 3:if($i(e,r),o&64&&(e=r.updateQueue,e!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{_m(e,i)}catch(y){Jt(r,r.return,y)}}break;case 27:i===null&&o&4&&Mp(r);case 26:case 5:$i(e,r),i===null&&o&4&&Dp(r),o&512&&Pl(r,r.return);break;case 12:$i(e,r);break;case 31:$i(e,r),o&4&&zp(e,r);break;case 13:$i(e,r),o&4&&Up(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=hE.bind(null,r),ME(e,r))));break;case 22:if(o=r.memoizedState!==null||Xi,!o){i=i!==null&&i.memoizedState!==null||Ce,h=Xi;var d=Ce;Xi=o,(Ce=i)&&!d?Zi(e,r,(r.subtreeFlags&8772)!==0):$i(e,r),Xi=h,Ce=d}break;case 30:break;default:$i(e,r)}}function Ip(e){var i=e.alternate;i!==null&&(e.alternate=null,Ip(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Kr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,hn=!1;function Ki(e,i,r){for(r=r.child;r!==null;)Lp(e,i,r),r=r.sibling}function Lp(e,i,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Qn,r)}catch{}switch(r.tag){case 26:Ce||wi(r,i),Ki(e,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ce||wi(r,i);var o=ce,h=hn;Ns(r.type)&&(ce=r.stateNode,hn=!1),Ki(e,i,r),Jl(r.stateNode),ce=o,hn=h;break;case 5:Ce||wi(r,i);case 6:if(o=ce,h=hn,ce=null,Ki(e,i,r),ce=o,hn=h,ce!==null)if(hn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(r.stateNode)}catch(d){Jt(r,i,d)}else try{ce.removeChild(r.stateNode)}catch(d){Jt(r,i,d)}break;case 18:ce!==null&&(hn?(e=ce,x_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Oa(e)):x_(ce,r.stateNode));break;case 4:o=ce,h=hn,ce=r.stateNode.containerInfo,hn=!0,Ki(e,i,r),ce=o,hn=h;break;case 0:case 11:case 14:case 15:ws(2,r,i),Ce||ws(4,r,i),Ki(e,i,r);break;case 1:Ce||(wi(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Cp(r,i,o)),Ki(e,i,r);break;case 21:Ki(e,i,r);break;case 22:Ce=(o=Ce)||r.memoizedState!==null,Ki(e,i,r),Ce=o;break;default:Ki(e,i,r)}}function zp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(r){Jt(i,i.return,r)}}}function Up(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(r){Jt(i,i.return,r)}}function iE(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Np),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Np),i;default:throw Error(s(435,e.tag))}}function Bu(e,i){var r=iE(e);i.forEach(function(o){if(!r.has(o)){r.add(o);var h=fE.bind(null,e,o);o.then(h,h)}})}function fn(e,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],d=e,y=i,A=y;t:for(;A!==null;){switch(A.tag){case 27:if(Ns(A.type)){ce=A.stateNode,hn=!1;break t}break;case 5:ce=A.stateNode,hn=!1;break t;case 3:case 4:ce=A.stateNode.containerInfo,hn=!0;break t}A=A.return}if(ce===null)throw Error(s(160));Lp(d,y,h),ce=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)kp(i,e),i=i.sibling}var ni=null;function kp(e,i){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(i,e),dn(e),o&4&&(ws(3,e,e.return),ql(3,e),ws(5,e,e.return));break;case 1:fn(i,e),dn(e),o&512&&(Ce||r===null||wi(r,r.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ni;if(fn(i,e),dn(e),o&512&&(Ce||r===null||wi(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ye(d,o,r),d[Te]=e,Ae(d),o=d;break t;case"link":var y=k_("link","href",h).get(o+(r.href||""));if(y){for(var A=0;A<y.length;A++)if(d=y[A],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(A,1);break e}}d=h.createElement(o),Ye(d,o,r),h.head.appendChild(d);break;case"meta":if(y=k_("meta","content",h).get(o+(r.content||""))){for(A=0;A<y.length;A++)if(d=y[A],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(A,1);break e}}d=h.createElement(o),Ye(d,o,r),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Te]=e,Ae(d),o=d}e.stateNode=o}else B_(h,e.type,e.stateNode);else e.stateNode=U_(h,o,e.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?B_(h,e.type,e.stateNode):U_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Tf(e,e.memoizedProps,r.memoizedProps)}break;case 27:fn(i,e),dn(e),o&512&&(Ce||r===null||wi(r,r.return)),r!==null&&o&4&&Tf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(fn(i,e),dn(e),o&512&&(Ce||r===null||wi(r,r.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(mt){Jt(e,e.return,mt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Tf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(wf=!0);break;case 6:if(fn(i,e),dn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(mt){Jt(e,e.return,mt)}}break;case 3:if(ec=null,h=ni,ni=Wu(i.containerInfo),fn(i,e),ni=h,dn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(i.containerInfo)}catch(mt){Jt(e,e.return,mt)}wf&&(wf=!1,Bp(e));break;case 4:o=ni,ni=Wu(e.stateNode.containerInfo),fn(i,e),dn(e),ni=o;break;case 12:fn(i,e),dn(e);break;case 31:fn(i,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bu(e,o)));break;case 13:fn(i,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ju=sn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bu(e,o)));break;case 22:h=e.memoizedState!==null;var O=r!==null&&r.memoizedState!==null,P=Xi,$=Ce;if(Xi=P||h,Ce=$||O,fn(i,e),Ce=$,Xi=P,dn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||O||Xi||Ce||Or(e)),r=null,i=e;;){if(i.tag===5||i.tag===26){if(r===null){O=r=i;try{if(d=O.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=O.stateNode;var W=O.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(mt){Jt(O,O.return,mt)}}}else if(i.tag===6){if(r===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(mt){Jt(O,O.return,mt)}}}else if(i.tag===18){if(r===null){O=i;try{var Y=O.stateNode;h?C_(Y,!0):C_(O.stateNode,!1)}catch(mt){Jt(O,O.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Bu(e,r))));break;case 19:fn(i,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bu(e,o)));break;case 30:break;case 21:break;default:fn(i,e),dn(e)}}function dn(e){var i=e.flags;if(i&2){try{for(var r,o=e.return;o!==null;){if(Vp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=Af(e);ku(e,d,h);break;case 5:var y=r.stateNode;r.flags&32&&(cn(y,""),r.flags&=-33);var A=Af(e);ku(e,A,y);break;case 3:case 4:var O=r.stateNode.containerInfo,P=Af(e);Sf(e,P,O);break;default:throw Error(s(161))}}catch($){Jt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Bp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Bp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Op(e,i.alternate,i),i=i.sibling}function Or(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),Or(i);break;case 1:wi(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Cp(i,i.return,r),Or(i);break;case 27:Jl(i.stateNode);case 26:case 5:wi(i,i.return),Or(i);break;case 22:i.memoizedState===null&&Or(i);break;case 30:Or(i);break;default:Or(i)}e=e.sibling}}function Zi(e,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,r),ql(4,d);break;case 1:if(Zi(h,d,r),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Jt(o,o.return,P)}if(o=d,h=o.updateQueue,h!==null){var A=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)pm(O[h],A)}catch(P){Jt(o,o.return,P)}}r&&y&64&&xp(d),Pl(d,d.return);break;case 27:Mp(d);case 26:case 5:Zi(h,d,r),r&&o===null&&y&4&&Dp(d),Pl(d,d.return);break;case 12:Zi(h,d,r);break;case 31:Zi(h,d,r),r&&y&4&&zp(h,d);break;case 13:Zi(h,d,r),r&&y&4&&Up(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,r),Pl(d,d.return);break;case 30:break;default:Zi(h,d,r)}i=i.sibling}}function Rf(e,i){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Dl(r))}function xf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Dl(e))}function ii(e,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hp(e,i,r,o),i=i.sibling}function Hp(e,i,r,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ii(e,i,r,o),h&2048&&ql(9,i);break;case 1:ii(e,i,r,o);break;case 3:ii(e,i,r,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Dl(e)));break;case 12:if(h&2048){ii(e,i,r,o),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,A=d.onPostCommit;typeof A=="function"&&A(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Jt(i,i.return,O)}}else ii(e,i,r,o);break;case 31:ii(e,i,r,o);break;case 13:ii(e,i,r,o);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?ii(e,i,r,o):Gl(e,i):d._visibility&2?ii(e,i,r,o):(d._visibility|=2,Ta(e,i,r,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Rf(y,i);break;case 24:ii(e,i,r,o),h&2048&&xf(i.alternate,i);break;default:ii(e,i,r,o)}}function Ta(e,i,r,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,A=r,O=o,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ta(d,y,A,O,h),ql(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Ta(d,y,A,O,h):Gl(d,y):($._visibility|=2,Ta(d,y,A,O,h)),h&&P&2048&&Rf(y.alternate,y);break;case 24:Ta(d,y,A,O,h),h&&P&2048&&xf(y.alternate,y);break;default:Ta(d,y,A,O,h)}i=i.sibling}}function Gl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=e,o=i,h=o.flags;switch(o.tag){case 22:Gl(r,o),h&2048&&Rf(o.alternate,o);break;case 24:Gl(r,o),h&2048&&xf(o.alternate,o);break;default:Gl(r,o)}i=i.sibling}}var Fl=8192;function Aa(e,i,r){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)jp(e,i,r),e=e.sibling}function jp(e,i,r){switch(e.tag){case 26:Aa(e,i,r),e.flags&Fl&&e.memoizedState!==null&&PE(r,ni,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,i,r);break;case 3:case 4:var o=ni;ni=Wu(e.stateNode.containerInfo),Aa(e,i,r),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Fl,Fl=16777216,Aa(e,i,r),Fl=o):Aa(e,i,r));break;default:Aa(e,i,r)}}function qp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ql(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Be=o,Gp(o,e)}qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pp(e),e=e.sibling}function Pp(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&ws(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Hu(e)):Ql(e);break;default:Ql(e)}}function Hu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Be=o,Gp(o,e)}qp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ws(8,i,i.return),Hu(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Hu(i));break;default:Hu(i)}e=e.sibling}}function Gp(e,i){for(;Be!==null;){var r=Be;switch(r.tag){case 0:case 11:case 15:ws(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Dl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Be=o;else t:for(r=e;Be!==null;){o=Be;var h=o.sibling,d=o.return;if(Ip(o),o===r){Be=null;break t}if(h!==null){h.return=d,Be=h;break t}Be=d}}}var sE={getCacheForType:function(e){var i=Fe(we),r=i.data.get(e);return r===void 0&&(r=e(),i.data.set(e,r)),r},cacheSignal:function(){return Fe(we).controller.signal}},rE=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ie=null,It=null,zt=0,Zt=0,Sn=null,Rs=!1,Sa=!1,Cf=!1,Ji=0,de=0,xs=0,Ir=0,Df=0,wn=0,wa=0,Yl=null,gn=null,Vf=!1,ju=0,Fp=0,qu=1/0,Pu=null,Cs=null,Ie=0,Ds=null,Ra=null,Wi=0,Mf=0,Nf=null,Qp=null,Xl=0,Of=null;function Rn(){return(Yt&2)!==0&&zt!==0?zt&-zt:H.T!==null?Bf():Go()}function Yp(){if(wn===0)if((zt&536870912)===0||Ht){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),wn=e}else wn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),wn}function mn(e,i,r){(e===ie&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Vs(e,zt,wn,!1)),or(e,r),((Yt&2)===0||e!==ie)&&(e===ie&&((Yt&2)===0&&(Ir|=r),de===4&&Vs(e,zt,wn,!1)),Ri(e))}function Xp(e,i,r){if((Yt&6)!==0)throw Error(s(327));var o=!r&&(i&127)===0&&(i&e.expiredLanes)===0||Yn(e,i),h=o?oE(e,i):Lf(e,i,!0),d=o;do{if(h===0){Sa&&!o&&Vs(e,i,0,!1);break}else{if(r=e.current.alternate,d&&!aE(r)){h=Lf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var A=e;h=Yl;var O=A.current.memoizedState.isDehydrated;if(O&&(xa(A,y).flags|=256),y=Lf(A,y,!1),y!==2){if(Cf&&!O){A.errorRecoveryDisabledLanes|=d,Ir|=d,h=4;break t}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){xa(e,0),Vs(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vs(o,i,wn,!Rs);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ju+300-sn(),10<h)){if(Vs(o,i,wn,!Rs),oi(o,0,!0)!==0)break t;Wi=i,o.timeoutHandle=w_(Kp.bind(null,o,r,gn,Pu,Vf,i,wn,Ir,wa,Rs,d,"Throttled",-0,0),h);break t}Kp(o,r,gn,Pu,Vf,i,wn,Ir,wa,Rs,d,null,-0,0)}}break}while(!0);Ri(e)}function Kp(e,i,r,o,h,d,y,A,O,P,$,W,G,Y){if(e.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},jp(i,d,W);var mt=(d&62914560)===d?ju-sn():(d&4194048)===d?Fp-sn():0;if(mt=GE(W,mt),mt!==null){Wi=d,e.cancelPendingCommit=mt(i_.bind(null,e,i,d,r,o,h,y,A,O,$,W,null,G,Y)),Vs(e,d,y,!P);return}}i_(e,i,d,r,o,h,y,A,O)}function aE(e){for(var i=e;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vs(e,i,r,o){i&=~Df,i&=~Ir,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-me(h),y=1<<d;o[d]=-1,h&=~y}r!==0&&ur(e,r,i)}function Gu(){return(Yt&6)===0?(Kl(0),!1):!0}function If(){if(It!==null){if(Zt===0)var e=It.return;else e=It,qi=wr=null,Kh(e),_a=null,Ml=0,e=It;for(;e!==null;)Rp(e.alternate,e),e=e.return;It=null}}function xa(e,i){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,RE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Wi=0,If(),ie=e,It=r=Hi(e.current,null),zt=i,Zt=0,Sn=null,Rs=!1,Sa=Yn(e,i),Cf=!1,wa=wn=Df=Ir=xs=de=0,gn=Yl=null,Vf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-me(o),d=1<<h;i|=e[h],o&=~d}return Ji=i,hu(),r}function $p(e,i){Ct=null,H.H=Bl,i===pa||i===vu?(i=fm(),Zt=3):i===Uh?(i=fm(),Zt=4):Zt=i===ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,It===null&&(de=1,Ou(e,In(i,e.current)))}function Zp(){var e=Tn.current;return e===null?!0:(zt&4194048)===zt?kn===null:(zt&62914560)===zt||(zt&536870912)!==0?e===kn:!1}function Jp(){var e=H.H;return H.H=Bl,e===null?Bl:e}function Wp(){var e=H.A;return H.A=sE,e}function Fu(){de=4,Rs||(zt&4194048)!==zt&&Tn.current!==null||(Sa=!0),(xs&134217727)===0&&(Ir&134217727)===0||ie===null||Vs(ie,zt,wn,!1)}function Lf(e,i,r){var o=Yt;Yt|=2;var h=Jp(),d=Wp();(ie!==e||zt!==i)&&(Pu=null,xa(e,i)),i=!1;var y=de;t:do try{if(Zt!==0&&It!==null){var A=It,O=Sn;switch(Zt){case 8:If(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var P=Zt;if(Zt=0,Sn=null,Ca(e,A,O,P),r&&Sa){y=0;break t}break;default:P=Zt,Zt=0,Sn=null,Ca(e,A,O,P)}}lE(),y=de;break}catch($){$p(e,$)}while(!0);return i&&e.shellSuspendCounter++,qi=wr=null,Yt=o,H.H=h,H.A=d,It===null&&(ie=null,zt=0,hu()),y}function lE(){for(;It!==null;)t_(It)}function oE(e,i){var r=Yt;Yt|=2;var o=Jp(),h=Wp();ie!==e||zt!==i?(Pu=null,qu=sn()+500,xa(e,i)):Sa=Yn(e,i);t:do try{if(Zt!==0&&It!==null){i=It;var d=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,Ca(e,i,d,1);break;case 2:case 9:if(cm(d)){Zt=0,Sn=null,e_(i);break}i=function(){Zt!==2&&Zt!==9||ie!==e||(Zt=7),Ri(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:cm(d)?(Zt=0,Sn=null,e_(i)):(Zt=0,Sn=null,Ca(e,i,d,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var A=It;if(y?H_(y):A.stateNode.complete){Zt=0,Sn=null;var O=A.sibling;if(O!==null)It=O;else{var P=A.return;P!==null?(It=P,Qu(P)):It=null}break e}}Zt=0,Sn=null,Ca(e,i,d,5);break;case 6:Zt=0,Sn=null,Ca(e,i,d,6);break;case 8:If(),de=6;break t;default:throw Error(s(462))}}uE();break}catch($){$p(e,$)}while(!0);return qi=wr=null,H.H=o,H.A=h,Yt=r,It!==null?0:(ie=null,zt=0,hu(),de)}function uE(){for(;It!==null&&!ch();)t_(It)}function t_(e){var i=Sp(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?Qu(e):It=i}function e_(e){var i=e,r=i.alternate;switch(i.tag){case 15:case 0:i=yp(r,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=yp(r,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:Kh(i);default:Rp(r,i),i=It=Wg(i,Ji),i=Sp(r,i,Ji)}e.memoizedProps=e.pendingProps,i===null?Qu(e):It=i}function Ca(e,i,r,o){qi=wr=null,Kh(i),_a=null,Ml=0;var h=i.return;try{if(Zb(e,h,i,r,zt)){de=1,Ou(e,In(r,e.current)),It=null;return}}catch(d){if(h!==null)throw It=h,d;de=1,Ou(e,In(r,e.current)),It=null;return}i.flags&32768?(Ht||o===1?e=!0:Sa||(zt&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),n_(i,e)):Qu(i)}function Qu(e){var i=e;do{if((i.flags&32768)!==0){n_(i,Rs);return}e=i.return;var r=tE(i.alternate,i,Ji);if(r!==null){It=r;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);de===0&&(de=5)}function n_(e,i){do{var r=eE(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);de=6,It=null}function i_(e,i,r,o,h,d,y,A,O){e.cancelPendingCommit=null;do Yu();while(Ie!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Th,dh(e,r,d,y,A,O),e===ie&&(It=ie=null,zt=0),Ra=i,Ds=e,Wi=r,Mf=d,Nf=h,Qp=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dE(as,function(){return o_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=rt.p,rt.p=2,y=Yt,Yt|=4;try{nE(e,i,r)}finally{Yt=y,rt.p=h,H.T=o}}Ie=1,s_(),r_(),a_()}}function s_(){if(Ie===1){Ie=0;var e=Ds,i=Ra,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=rt.p;rt.p=2;var h=Yt;Yt|=4;try{kp(i,e);var d=Yf,y=Gg(e.containerInfo),A=d.focusedElem,O=d.selectionRange;if(y!==A&&A&&A.ownerDocument&&Pg(A.ownerDocument.documentElement,A)){if(O!==null&&_h(A)){var P=O.start,$=O.end;if($===void 0&&($=P),"selectionStart"in A)A.selectionStart=P,A.selectionEnd=Math.min($,A.value.length);else{var W=A.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var Y=G.getSelection(),mt=A.textContent.length,bt=Math.min(O.start,mt),ne=O.end===void 0?bt:Math.min(O.end,mt);!Y.extend&&bt>ne&&(y=ne,ne=bt,bt=y);var B=qg(A,bt),U=qg(A,ne);if(B&&U&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==U.node||Y.focusOffset!==U.offset)){var q=W.createRange();q.setStart(B.node,B.offset),Y.removeAllRanges(),bt>ne?(Y.addRange(q),Y.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),Y.addRange(q))}}}}for(W=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var Z=W[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}rc=!!Qf,Yf=Qf=null}finally{Yt=h,rt.p=o,H.T=r}}e.current=i,Ie=2}}function r_(){if(Ie===2){Ie=0;var e=Ds,i=Ra,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=rt.p;rt.p=2;var h=Yt;Yt|=4;try{Op(e,i.alternate,i)}finally{Yt=h,rt.p=o,H.T=r}}Ie=3}}function a_(){if(Ie===4||Ie===3){Ie=0,Uo();var e=Ds,i=Ra,r=Wi,o=Qp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ie=5:(Ie=0,Ra=Ds=null,l_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),zi(r),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=rt.p,rt.p=2,H.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var A=o[y];d(A.value,{componentStack:A.stack})}}finally{H.T=i,rt.p=h}}(Wi&3)!==0&&Yu(),Ri(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Of?Xl++:(Xl=0,Of=e):Xl=0,Kl(0)}}function l_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Dl(i)))}function Yu(){return s_(),r_(),a_(),o_()}function o_(){if(Ie!==5)return!1;var e=Ds,i=Mf;Mf=0;var r=zi(Wi),o=H.T,h=rt.p;try{rt.p=32>r?32:r,H.T=null,r=Nf,Nf=null;var d=Ds,y=Wi;if(Ie=0,Ra=Ds=null,Wi=0,(Yt&6)!==0)throw Error(s(331));var A=Yt;if(Yt|=4,Pp(d.current),Hp(d,d.current,y,r),Yt=A,Kl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{rt.p=h,H.T=o,l_(e,i)}}function u_(e,i,r){i=In(r,i),i=hf(e.stateNode,i,2),e=Ts(e,i,2),e!==null&&(or(e,2),Ri(e))}function Jt(e,i,r){if(e.tag===3)u_(e,e,r);else for(;i!==null;){if(i.tag===3){u_(i,e,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=In(r,e),r=cp(2),o=Ts(i,r,2),o!==null&&(hp(r,o,i,e),or(o,2),Ri(o));break}}i=i.return}}function zf(e,i,r){var o=e.pingCache;if(o===null){o=e.pingCache=new rE;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(r)||(Cf=!0,h.add(r),e=cE.bind(null,e,i,r),i.then(e,e))}function cE(e,i,r){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ie===e&&(zt&r)===r&&(de===4||de===3&&(zt&62914560)===zt&&300>sn()-ju?(Yt&2)===0&&xa(e,0):Df|=r,wa===zt&&(wa=0)),Ri(e)}function c_(e,i){i===0&&(i=Po()),e=Tr(e,i),e!==null&&(or(e,i),Ri(e))}function hE(e){var i=e.memoizedState,r=0;i!==null&&(r=i.retryLane),c_(e,r)}function fE(e,i){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),c_(e,r)}function dE(e,i){return Oe(e,i)}var Xu=null,Da=null,Uf=!1,Ku=!1,kf=!1,Ms=0;function Ri(e){e!==Da&&e.next===null&&(Da===null?Xu=Da=e:Da=Da.next=e),Ku=!0,Uf||(Uf=!0,mE())}function Kl(e,i){if(!kf&&Ku){kf=!0;do for(var r=!1,o=Xu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-me(42|e)+1)-1,d&=h&~(y&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,g_(o,d))}else d=zt,d=oi(o,o===ie?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Yn(o,d)||(r=!0,g_(o,d));o=o.next}while(r);kf=!1}}function gE(){h_()}function h_(){Ku=Uf=!1;var e=0;Ms!==0&&wE()&&(e=Ms);for(var i=sn(),r=null,o=Xu;o!==null;){var h=o.next,d=f_(o,i);d===0?(o.next=null,r===null?Xu=h:r.next=h,h===null&&(Da=r)):(r=o,(e!==0||(d&3)!==0)&&(Ku=!0)),o=h}Ie!==0&&Ie!==5||Kl(e),Ms!==0&&(Ms=0)}function f_(e,i){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-me(d),A=1<<y,O=h[y];O===-1?((A&r)===0||(A&o)!==0)&&(h[y]=fh(A,i)):O<=i&&(e.expiredLanes|=A),d&=~A}if(i=ie,r=zt,r=oi(e,e===i?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===i&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rs(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Yn(e,r)){if(i=r&-r,i===e.callbackPriority)return i;switch(o!==null&&rs(o),zi(r)){case 2:case 8:r=rl;break;case 32:r=as;break;case 268435456:r=ko;break;default:r=as}return o=d_.bind(null,e),r=Oe(r,o),e.callbackPriority=i,e.callbackNode=r,i}return o!==null&&o!==null&&rs(o),e.callbackPriority=2,e.callbackNode=null,2}function d_(e,i){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Yu()&&e.callbackNode!==r)return null;var o=zt;return o=oi(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Xp(e,o,i),f_(e,sn()),e.callbackNode!=null&&e.callbackNode===r?d_.bind(null,e):null)}function g_(e,i){if(Yu())return null;Xp(e,i,!0)}function mE(){xE(function(){(Yt&6)!==0?Oe(sl,gE):h_()})}function Bf(){if(Ms===0){var e=ga;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ms=e}return Ms}function m_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function p_(e,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,e.id&&r.setAttribute("form",e.id),i.parentNode.insertBefore(r,i),e=new FormData(e),r.parentNode.removeChild(r),e}function pE(e,i,r,o,h){if(i==="submit"&&r&&r.stateNode===h){var d=m_((h[Ue]||null).action),y=o.submitter;y&&(i=(i=y[Ue]||null)?m_(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var A=new vi("action","action",null,o,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var O=y?p_(h,y):new FormData(h);rf(r,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(A.preventDefault(),O=y?p_(h,y):new FormData(h),rf(r,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Hf=0;Hf<Eh.length;Hf++){var jf=Eh[Hf],_E=jf.toLowerCase(),yE=jf[0].toUpperCase()+jf.slice(1);ei(_E,"on"+yE)}ei(Yg,"onAnimationEnd"),ei(Xg,"onAnimationIteration"),ei(Kg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Ib,"onTransitionRun"),ei(Lb,"onTransitionStart"),ei(zb,"onTransitionCancel"),ei($g,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function __(e,i){i=(i&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var y=o.length-1;0<=y;y--){var A=o[y],O=A.instance,P=A.currentTarget;if(A=A.listener,O!==d&&h.isPropagationStopped())break t;d=A,h.currentTarget=P;try{d(h)}catch($){cu($)}h.currentTarget=null,d=O}else for(y=0;y<o.length;y++){if(A=o[y],O=A.instance,P=A.currentTarget,A=A.listener,O!==d&&h.isPropagationStopped())break t;d=A,h.currentTarget=P;try{d(h)}catch($){cu($)}h.currentTarget=null,d=O}}}}function Lt(e,i){var r=i[Xr];r===void 0&&(r=i[Xr]=new Set);var o=e+"__bubble";r.has(o)||(y_(i,e,2,!1),r.add(o))}function qf(e,i,r){var o=0;i&&(o|=4),y_(r,e,o,i)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[$u]){e[$u]=!0,ol.forEach(function(r){r!=="selectionchange"&&(vE.has(r)||qf(r,!1,e),qf(r,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[$u]||(i[$u]=!0,qf("selectionchange",!1,i))}}function y_(e,i,r,o){switch(Y_(i)){case 2:var h=YE;break;case 8:h=XE;break;default:h=sd}r=h.bind(null,i,r,e),h=void 0,!gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,r,{capture:!0,passive:h}):e.addEventListener(i,r,!0):h!==void 0?e.addEventListener(i,r,{passive:h}):e.addEventListener(i,r,!1)}function Gf(e,i,r,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var A=o.stateNode.containerInfo;if(A===h)break;if(y===4)for(y=o.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;A!==null;){if(y=fi(A),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){o=d=y;continue t}A=A.parentNode}}o=o.return}fs(function(){var P=d,$=Vn(r),W=[];t:{var G=Zg.get(e);if(G!==void 0){var Y=vi,mt=e;switch(e){case"keypress":if(pr(r)===0)break t;case"keydown":case"keyup":Y=lu;break;case"focusin":mt="focus",Y=yr;break;case"focusout":mt="blur",Y=yr;break;case"beforeblur":case"afterblur":Y=yr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case Yg:case Xg:case Kg:Y=tu;break;case $g:Y=S;break;case"scroll":case"scrollend":Y=bl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bi;break;case"toggle":case"beforetoggle":Y=xt}var bt=(i&4)!==0,ne=!bt&&(e==="scroll"||e==="scrollend"),B=bt?G!==null?G+"Capture":null:G;bt=[];for(var U=P,q;U!==null;){var Z=U;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||B===null||(Z=Zn(U,B),Z!=null&&bt.push(Zl(U,Z,q))),ne)break;U=U.return}0<bt.length&&(G=new Y(G,mt,null,r,$),W.push({event:G,listeners:bt}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",G&&r!==_l&&(mt=r.relatedTarget||r.fromElement)&&(fi(mt)||mt[ci]))break t;if((Y||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(mt=r.relatedTarget||r.toElement,Y=P,mt=mt?fi(mt):null,mt!==null&&(ne=u(mt),bt=mt.tag,mt!==ne||bt!==5&&bt!==27&&bt!==6)&&(mt=null)):(Y=null,mt=P),Y!==mt)){if(bt=El,Z="onMouseLeave",B="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(bt=Bi,Z="onPointerLeave",B="onPointerEnter",U="pointer"),ne=Y==null?G:yn(Y),q=mt==null?G:yn(mt),G=new bt(Z,U+"leave",Y,r,$),G.target=ne,G.relatedTarget=q,Z=null,fi($)===P&&(bt=new bt(B,U+"enter",mt,r,$),bt.target=q,bt.relatedTarget=ne,Z=bt),ne=Z,Y&&mt)e:{for(bt=bE,B=Y,U=mt,q=0,Z=B;Z;Z=bt(Z))q++;Z=0;for(var yt=U;yt;yt=bt(yt))Z++;for(;0<q-Z;)B=bt(B),q--;for(;0<Z-q;)U=bt(U),Z--;for(;q--;){if(B===U||U!==null&&B===U.alternate){bt=B;break e}B=bt(B),U=bt(U)}bt=null}else bt=null;Y!==null&&v_(W,G,Y,bt,!1),mt!==null&&ne!==null&&v_(W,ne,mt,bt,!0)}}t:{if(G=P?yn(P):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Gt=zg;else if(Ig(G))if(Ug)Gt=Mb;else{Gt=Db;var pt=Cb}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&Jr(P.elementType)&&(Gt=zg):Gt=Vb;if(Gt&&(Gt=Gt(e,P))){Lg(W,Gt,r,$);break t}pt&&pt(e,G,P),e==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&gl(G,"number",G.value)}switch(pt=P?yn(P):window,e){case"focusin":(Ig(pt)||pt.contentEditable==="true")&&(aa=pt,yh=P,Rl=null);break;case"focusout":Rl=yh=aa=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Fg(W,r,$);break;case"selectionchange":if(Ob)break;case"keydown":case"keyup":Fg(W,r,$)}var Mt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ra?vr(e,r)&&(Ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ti&&r.locale!=="ko"&&(ra||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ra&&(Mt=vl()):(yi=$,yl="value"in yi?yi.value:yi.textContent,ra=!0)),pt=Zu(P,Ut),0<pt.length&&(Ut=new Ei(Ut,e,null,r,$),W.push({event:Ut,listeners:pt}),Mt?Ut.data=Mt:(Mt=sa(r),Mt!==null&&(Ut.data=Mt)))),(Mt=Nn?Sb(e,r):wb(e,r))&&(Ut=Zu(P,"onBeforeInput"),0<Ut.length&&(pt=new Ei("onBeforeInput","beforeinput",null,r,$),W.push({event:pt,listeners:Ut}),pt.data=Mt)),pE(W,e,P,r,$)}__(W,i)})}function Zl(e,i,r){return{instance:e,listener:i,currentTarget:r}}function Zu(e,i){for(var r=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Zn(e,r),h!=null&&o.unshift(Zl(e,h,d)),h=Zn(e,i),h!=null&&o.push(Zl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function bE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v_(e,i,r,o,h){for(var d=i._reactName,y=[];r!==null&&r!==o;){var A=r,O=A.alternate,P=A.stateNode;if(A=A.tag,O!==null&&O===o)break;A!==5&&A!==26&&A!==27||P===null||(O=P,h?(P=Zn(r,d),P!=null&&y.unshift(Zl(r,P,O))):h||(P=Zn(r,d),P!=null&&y.push(Zl(r,P,O)))),r=r.return}y.length!==0&&e.push({event:i,listeners:y})}var EE=/\r\n?/g,TE=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(EE,`
`).replace(TE,"")}function E_(e,i){return i=b_(i),b_(e)===i}function ee(e,i,r,o,h,d){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&cn(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,r,o);break;case"style":pl(e,o,d);break;case"data":if(i!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Wr(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Wr(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),$r(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Zo.get(r)||r,$r(e,r,o))}}function Ff(e,i,r,o,h,d){switch(r){case"style":pl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),d=e[Ue]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(i,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):$r(e,r,o)}}}function Ye(e,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var y=r[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,d,y,r,null)}}h&&ee(e,i,"srcSet",r.srcSet,r,null),o&&ee(e,i,"src",r.src,r,null);return;case"input":Lt("invalid",e);var A=d=y=h=null,O=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var $=r[o];if($!=null)switch(o){case"name":h=$;break;case"type":y=$;break;case"checked":O=$;break;case"defaultChecked":P=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ee(e,i,o,$,r,null)}}Xo(e,d,A,O,P,y,h,!1);return;case"select":Lt("invalid",e),o=y=d=null;for(h in r)if(r.hasOwnProperty(h)&&(A=r[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":y=A;break;case"multiple":o=A;default:ee(e,i,h,A,r,null)}i=d,r=y,e.multiple=!!o,i!=null?os(e,!!o,i,!1):r!=null&&os(e,!!o,r,!0);return;case"textarea":Lt("invalid",e),d=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(A=r[y],A!=null))switch(y){case"value":o=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ee(e,i,y,A,r,null)}us(e,o,h,d);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(o=r[O],o!=null))switch(O){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ee(e,i,O,o,r,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<$l.length;o++)Lt($l[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,P,o,r,null)}return;default:if(Jr(i)){for($ in r)r.hasOwnProperty($)&&(o=r[$],o!==void 0&&Ff(e,i,$,o,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(o=r[A],o!=null&&ee(e,i,A,o,r,null))}function AE(e,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,A=null,O=null,P=null,$=null;for(Y in r){var W=r[Y];if(r.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=W;default:o.hasOwnProperty(Y)||ee(e,i,Y,null,o,W)}}for(var G in o){var Y=o[G];if(W=r[G],o.hasOwnProperty(G)&&(Y!=null||W!=null))switch(G){case"type":d=Y;break;case"name":h=Y;break;case"checked":P=Y;break;case"defaultChecked":$=Y;break;case"value":y=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==W&&ee(e,i,G,Y,o,W)}}Zr(e,y,A,O,P,$,d,h);return;case"select":Y=y=A=G=null;for(d in r)if(O=r[d],r.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:o.hasOwnProperty(d)||ee(e,i,d,null,o,O)}for(h in o)if(d=o[h],O=r[h],o.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":G=d;break;case"defaultValue":A=d;break;case"multiple":y=d;default:d!==O&&ee(e,i,h,d,o,O)}i=A,r=y,o=Y,G!=null?os(e,!!r,G,!1):!!o!=!!r&&(i!=null?os(e,!!r,i,!0):os(e,!!r,r?[]:"",!1));return;case"textarea":Y=G=null;for(A in r)if(h=r[A],r.hasOwnProperty(A)&&h!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ee(e,i,A,null,o,h)}for(y in o)if(h=o[y],d=r[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ee(e,i,y,h,o,d)}Ko(e,G,Y);return;case"option":for(var mt in r)if(G=r[mt],r.hasOwnProperty(mt)&&G!=null&&!o.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:ee(e,i,mt,null,o,G)}for(O in o)if(G=o[O],Y=r[O],o.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null))switch(O){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ee(e,i,O,G,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in r)G=r[bt],r.hasOwnProperty(bt)&&G!=null&&!o.hasOwnProperty(bt)&&ee(e,i,bt,null,o,G);for(P in o)if(G=o[P],Y=r[P],o.hasOwnProperty(P)&&G!==Y&&(G!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ee(e,i,P,G,o,Y)}return;default:if(Jr(i)){for(var ne in r)G=r[ne],r.hasOwnProperty(ne)&&G!==void 0&&!o.hasOwnProperty(ne)&&Ff(e,i,ne,void 0,o,G);for($ in o)G=o[$],Y=r[$],!o.hasOwnProperty($)||G===Y||G===void 0&&Y===void 0||Ff(e,i,$,G,o,Y);return}}for(var B in r)G=r[B],r.hasOwnProperty(B)&&G!=null&&!o.hasOwnProperty(B)&&ee(e,i,B,null,o,G);for(W in o)G=o[W],Y=r[W],!o.hasOwnProperty(W)||G===Y||G==null&&Y==null||ee(e,i,W,G,o,Y)}function T_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],d=h.transferSize,y=h.initiatorType,A=h.duration;if(d&&A&&T_(y)){for(y=0,A=h.responseEnd,o+=1;o<r.length;o++){var O=r[o],P=O.startTime;if(P>A)break;var $=O.transferSize,W=O.initiatorType;$&&T_(W)&&(O=O.responseEnd,y+=$*(O<A?1:(A-P)/(O-P)))}if(--o,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qf=null,Yf=null;function Ju(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kf=null;function wE(){var e=window.event;return e&&e.type==="popstate"?e===Kf?!1:(Kf=e,!0):(Kf=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,RE=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(CE)}:w_;function CE(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function x_(e,i){var r=i,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Oa(i);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Jl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Jl(r);for(var d=r.firstChild;d;){var y=d.nextSibling,A=d.nodeName;d[hi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=y}}else r==="body"&&Jl(e.ownerDocument.body);r=h}while(r);Oa(i)}function C_(e,i){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function $f(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$f(r),Kr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function DE(e,i,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function VE(e,i,r){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Bn(e.nextSibling),e===null))return null;return e}function D_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bn(e.nextSibling),e===null))return null;return e}function Zf(e){return e.data==="$?"||e.data==="$~"}function Jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ME(e,i){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||r.readyState!=="loading")i();else{var o=function(){i(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Wf=null;function V_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(i===0)return Bn(e.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}e=e.nextSibling}return null}function M_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return e;i--}else r!=="/$"&&r!=="/&"||i++}e=e.previousSibling}return null}function N_(e,i,r){switch(i=Ju(r),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Jl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Kr(e)}var Hn=new Map,O_=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=rt.d;rt.d={f:NE,r:OE,D:IE,C:LE,L:zE,m:UE,X:BE,S:kE,M:HE};function NE(){var e=ts.f(),i=Gu();return e||i}function OE(e){var i=Dn(e);i!==null&&i.tag===5&&i.type==="form"?$m(i):ts.r(e)}var Va=typeof document>"u"?null:document;function I_(e,i,r){var o=Va;if(o&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),O_.has(h)||(O_.add(h),e={rel:e,crossOrigin:r,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ye(i,"link",e),Ae(i),o.head.appendChild(i)))}}function IE(e){ts.D(e),I_("dns-prefetch",e,null)}function LE(e,i){ts.C(e,i),I_("preconnect",e,i)}function zE(e,i,r){ts.L(e,i,r);var o=Va;if(o&&e&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+un(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+un(r.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var d=h;switch(i){case"style":d=Ma(e);break;case"script":d=Na(e)}Hn.has(d)||(e=E({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:e,as:i},r),Hn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Wl(d))||i==="script"&&o.querySelector(to(d))||(i=o.createElement("link"),Ye(i,"link",e),Ae(i),o.head.appendChild(i)))}}function UE(e,i){ts.m(e,i);var r=Va;if(r&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(e)}if(!Hn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Hn.set(d,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(to(d)))return}o=r.createElement("link"),Ye(o,"link",e),Ae(o),r.head.appendChild(o)}}}function kE(e,i,r){ts.S(e,i,r);var o=Va;if(o&&e){var h=di(o).hoistableStyles,d=Ma(e);i=i||"default";var y=h.get(d);if(!y){var A={loading:0,preload:null};if(y=o.querySelector(Wl(d)))A.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},r),(r=Hn.get(d))&&td(e,r);var O=y=o.createElement("link");Ae(O),Ye(O,"link",e),O._p=new Promise(function(P,$){O.onload=P,O.onerror=$}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,tc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:A},h.set(d,y)}}}function BE(e,i){ts.X(e,i);var r=Va;if(r&&e){var o=di(r).hoistableScripts,h=Na(e),d=o.get(h);d||(d=r.querySelector(to(h)),d||(e=E({src:e,async:!0},i),(i=Hn.get(h))&&ed(e,i),d=r.createElement("script"),Ae(d),Ye(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function HE(e,i){ts.M(e,i);var r=Va;if(r&&e){var o=di(r).hoistableScripts,h=Na(e),d=o.get(h);d||(d=r.querySelector(to(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Hn.get(h))&&ed(e,i),d=r.createElement("script"),Ae(d),Ye(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function L_(e,i,r,o){var h=(h=Vt.current)?Wu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Ma(r.href),r=di(h).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ma(r.href);var d=di(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Wl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Hn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(e,r),d||jE(h,e,r,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(r),r=di(h).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ma(e){return'href="'+un(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function jE(e,i,r,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ye(i,"link",r),Ae(i),e.head.appendChild(i))}function Na(e){return'[src="'+un(e)+'"]'}function to(e){return"script[async]"+e}function U_(e,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+un(r.href)+'"]');if(o)return i.instance=o,Ae(o),o;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Ye(o,"style",h),tc(o,r.precedence,e),i.instance=o;case"stylesheet":h=Ma(r.href);var d=e.querySelector(Wl(h));if(d)return i.state.loading|=4,i.instance=d,Ae(d),d;o=z_(r),(h=Hn.get(h))&&td(o,h),d=(e.ownerDocument||e).createElement("link"),Ae(d);var y=d;return y._p=new Promise(function(A,O){y.onload=A,y.onerror=O}),Ye(d,"link",o),i.state.loading|=4,tc(d,r.precedence,e),i.instance=d;case"script":return d=Na(r.src),(h=e.querySelector(to(d)))?(i.instance=h,Ae(h),h):(o=r,(h=Hn.get(d))&&(o=E({},r),ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ye(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,tc(o,r.precedence,e));return i.instance}function tc(e,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var A=o[y];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(e,i.firstChild))}function td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ec=null;function k_(e,i,r){if(ec===null){var o=new Map,h=ec=new Map;h.set(r,o)}else h=ec,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var d=r[h];if(!(d[hi]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var A=o.get(y);A?A.push(d):o.set(y,[d])}}return o}function B_(e,i,r){e=e.ownerDocument||e,e.head.insertBefore(r,i==="title"?e.querySelector("head > title"):null)}function qE(e,i,r){if(r===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function PE(e,i,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ma(o.href),d=i.querySelector(Wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=nc.bind(e),i.then(e,e)),r.state.loading|=4,r.instance=d,Ae(d);return}d=i.ownerDocument||i,o=z_(o),(h=Hn.get(h))&&td(o,h),d=d.createElement("link"),Ae(d);var y=d;y._p=new Promise(function(A,O){y.onload=A,y.onerror=O}),Ye(d,"link",o),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=nc.bind(e),i.addEventListener("load",r),i.addEventListener("error",r))}}var nd=0;function GE(e,i){return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&nd===0&&(nd=62500*SE());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>nd?50:800)+i);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function sc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,i.forEach(FE,e),ic=null,nc.call(e))}function FE(e,i){if(!(i.state.loading&4)){var r=ic.get(e);if(r)var o=r.get(null);else{r=new Map,ic.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),d=r.get(y)||o,d===o&&r.set(null,h),r.set(y,h),this.count++,o=nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var eo={$$typeof:K,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function QE(e,i,r,o,h,d,y,A,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function j_(e,i,r,o,h,d,y,A,O,P,$,W){return e=new QE(e,i,r,y,O,P,$,W,A),i=1,d===!0&&(i|=24),d=En(3,null,null,i),e.current=d,d.stateNode=e,i=Ih(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:i},kh(d),e}function q_(e){return e?(e=ua,e):ua}function P_(e,i,r,o,h,d){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(i),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Ts(e,o,i),r!==null&&(mn(r,e,i),Ol(r,e,i))}function G_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<i?r:i}}function id(e,i){G_(e,i),(e=e.alternate)&&G_(e,i)}function F_(e){if(e.tag===13||e.tag===31){var i=Tr(e,67108864);i!==null&&mn(i,e,67108864),id(e,67108864)}}function Q_(e){if(e.tag===13||e.tag===31){var i=Rn();i=cr(i);var r=Tr(e,i);r!==null&&mn(r,e,i),id(e,i)}}var rc=!0;function YE(e,i,r,o){var h=H.T;H.T=null;var d=rt.p;try{rt.p=2,sd(e,i,r,o)}finally{rt.p=d,H.T=h}}function XE(e,i,r,o){var h=H.T;H.T=null;var d=rt.p;try{rt.p=8,sd(e,i,r,o)}finally{rt.p=d,H.T=h}}function sd(e,i,r,o){if(rc){var h=rd(o);if(h===null)Gf(e,i,o,ac,r),X_(e,o);else if($E(h,e,i,r,o))o.stopPropagation();else if(X_(e,o),i&4&&-1<KE.indexOf(e)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=li(d.pendingLanes);if(y!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var O=1<<31-me(y);A.entanglements[1]|=O,y&=~O}Ri(d),(Yt&6)===0&&(qu=sn()+500,Kl(0))}}break;case 31:case 13:A=Tr(d,2),A!==null&&mn(A,d,2),Gu(),id(d,2)}if(d=rd(o),d===null&&Gf(e,i,o,ac,r),d===h)break;h=d}h!==null&&o.stopPropagation()}else Gf(e,i,o,null,r)}}function rd(e){return e=Vn(e),ad(e)}var ac=null;function ad(e){if(ac=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var r=i.tag;if(r===13){if(e=f(i),e!==null)return e;e=null}else if(r===31){if(e=g(i),e!==null)return e;e=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ac=e,null}function Y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case sl:return 2;case rl:return 8;case as:case hh:return 32;case ko:return 268435456;default:return 32}default:return 32}}var ld=!1,Os=null,Is=null,Ls=null,no=new Map,io=new Map,zs=[],KE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(e,i){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":no.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(i.pointerId)}}function so(e,i,r,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&F_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function $E(e,i,r,o,h){switch(i){case"focusin":return Os=so(Os,e,i,r,o,h),!0;case"dragenter":return Is=so(Is,e,i,r,o,h),!0;case"mouseover":return Ls=so(Ls,e,i,r,o,h),!0;case"pointerover":var d=h.pointerId;return no.set(d,so(no.get(d)||null,e,i,r,o,h)),!0;case"gotpointercapture":return d=h.pointerId,io.set(d,so(io.get(d)||null,e,i,r,o,h)),!0}return!1}function K_(e){var i=fi(e.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){e.blockedOn=i,Xn(e.priority,function(){Q_(r)});return}}else if(i===31){if(i=g(r),i!==null){e.blockedOn=i,Xn(e.priority,function(){Q_(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var r=rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);_l=o,r.target.dispatchEvent(o),_l=null}else return i=Dn(r),i!==null&&F_(i),e.blockedOn=r,!1;i.shift()}return!0}function $_(e,i,r){lc(e)&&r.delete(i)}function ZE(){ld=!1,Os!==null&&lc(Os)&&(Os=null),Is!==null&&lc(Is)&&(Is=null),Ls!==null&&lc(Ls)&&(Ls=null),no.forEach($_),io.forEach($_)}function oc(e,i){e.blockedOn===i&&(e.blockedOn=null,ld||(ld=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ZE)))}var uc=null;function Z_(e){uc!==e&&(uc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){uc===e&&(uc=null);for(var i=0;i<e.length;i+=3){var r=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(ad(o||r)===null)continue;break}var d=Dn(r);d!==null&&(e.splice(i,3),i-=3,rf(d,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Oa(e){function i(O){return oc(O,e)}Os!==null&&oc(Os,e),Is!==null&&oc(Is,e),Ls!==null&&oc(Ls,e),no.forEach(i),io.forEach(i);for(var r=0;r<zs.length;r++){var o=zs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)K_(r),r.blockedOn===null&&zs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],d=r[o+1],y=h[Ue]||null;if(typeof d=="function")y||Z_(r);else if(y){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ue]||null)A=y.formAction;else if(ad(h)!==null)continue}else A=y.action;typeof A=="function"?r[o+1]=A:(r.splice(o,3),o-=3),Z_(r)}}}function J_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function od(e){this._internalRoot=e}cc.prototype.render=od.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,o=Rn();P_(r,o,e,i,null,null)},cc.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;P_(e.current,2,null,e,null,null),Gu(),i[ci]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Go();e={blockedOn:null,target:e,priority:i};for(var r=0;r<zs.length&&i!==0&&i<zs[r].priority;r++);zs.splice(r,0,e),r===0&&K_(e)}};var W_=t.version;if(W_!=="19.2.0")throw Error(s(527,W_,"19.2.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var JE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Qn=hc.inject(JE),qe=hc}catch{}}return ao.createRoot=function(e,i){if(!l(e))throw Error(s(299));var r=!1,o="",h=ap,d=lp,y=op;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=j_(e,1,!1,null,null,r,o,null,h,d,y,J_),e[ci]=i.current,Pf(e),new od(i)},ao.hydrateRoot=function(e,i,r){if(!l(e))throw Error(s(299));var o=!1,h="",d=ap,y=lp,A=op,O=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(O=r.formState)),i=j_(e,1,!0,i,r??null,o,h,O,d,y,A,J_),i.context=q_(null),r=i.current,o=Rn(),o=cr(o),h=Es(o),h.callback=null,Ts(r,h,o),r=o,i.current.lanes=r,or(i,r),Ri(i),e[ci]=i.current,Pf(e),new cc(i)},ao.version="19.2.0",ao}var uy;function o1(){if(uy)return hd.exports;uy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),hd.exports=l1(),hd.exports}var u1=o1();const c1="_preview_1fp51_1",h1={preview:c1};function cy(a){if(typeof a!="string")return console.error("Input must be a string."),[];const t=[];let n=0,s=0;for(;s<a.length;){const l=a.indexOf("{",s);if(l===-1){n<a.length&&t.push(a.substring(n));break}let u=1,f=-1;for(let g=l+1;g<a.length;g++){const p=a[g];if(p==="{"?u++:p==="}"&&u--,u===0){f=g;break}}if(f!==-1){const g=a.substring(l,f+1);let p=!1;try{const m=JSON.parse(g);m&&typeof m=="object"&&m.name&&m.parameters&&typeof m.parameters=="object"&&(p=!0)}catch{p=!1}p?(l>n&&t.push(a.substring(n,l)),t.push(JSON.parse(g)),n=f+1,s=f+1):s=l+1}else{n<a.length&&t.push(a.substring(n));break}}for(let l=0;l<t.length;l++)typeof t[l]=="string"?t[l]={type:"text",text:t[l]}:typeof t[l]=="object"&&(t[l]={type:"jsonObj",jsonObj:t[l]});return t}const f1="_diagram_1amgz_7",d1={diagram:f1};class Dt{constructor(t,n){this.x=t,this.y=n}add(t){return new Dt(this.x+t.x,this.y+t.y)}sub(t){return new Dt(this.x-t.x,this.y-t.y)}scale(t){return new Dt(this.x*t,this.y*t)}mul(t){return new Dt(this.x*t.x,this.y*t.y)}rotate(t){let n=this.x*Math.cos(t)-this.y*Math.sin(t),s=this.x*Math.sin(t)+this.y*Math.cos(t);return new Dt(n,s)}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}equals(t){return this.x==t.x&&this.y==t.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}length_sq(){return this.x*this.x+this.y*this.y}angle(){return Math.atan2(this.y,this.x)}normalize(){let t=this.length();return new Dt(this.x/t,this.y/t)}copy(){return new Dt(this.x,this.y)}apply(t){return t(this.copy())}}function F(a,t){return new Dt(a,t)}class ks{static translate(t){return n=>n.add(t)}static rotate(t,n){return s=>s.sub(n).rotate(t).add(n)}static scale(t,n){return s=>s.sub(n).mul(t).add(n)}static reflect_over_point(t){return n=>n.sub(t).rotate(Math.PI).add(t)}static reflect_over_line(t,n){let l=n.sub(t).rotate(Math.PI/2).normalize();return u=>{let f=l.dot(u.sub(t));return u.sub(l.scale(2*f))}}static skewX(t,n){return s=>{let l=s.x+(n-s.y)*Math.tan(t);return new Dt(l,s.y)}}static skewY(t,n){return s=>{let l=s.y+(n-s.x)*Math.tan(t);return new Dt(s.x,l)}}}var hy;(function(a){a.TEXT="TEXT",a.OPEN_TAG="OPEN_TAG",a.CLOSE_TAG="CLOSE_TAG",a.EOF="EOF"})(hy||(hy={}));var Me;(function(a){a.EMPTY="empty",a.LINE="line",a.CIRCLE="circle",a.TEXTVAR="textvar",a.ROW_="row_",a.COL_="col_",a.ARROW_LINE="arrow_line",a.ARROW_HEAD="arrow_head",a.TABLE="table",a.CONTAIN_TABLE="contain_table",a.TABLE_CELL="table_cell",a.TABLE_CONTENT="table_content",a.EMPTY_CELL="empty_cell",a.GRAPH_AXIS="graph_axis_line",a.GRAPH_TICK="graph_tick",a.GRAPH_TICK_LABEL="graph_tick_label",a.GRAPH_GRID="graph_grid"})(Me||(Me={}));function g1(a,t){if(!a)throw new Error(t)}var ut;(function(a){a.Polygon="polygon",a.Curve="curve",a.Text="text",a.Image="image",a.Diagram="diagram",a.MultilineText="multilinetext",a.ForeignObject="foreignObject"})(ut||(ut={}));const $d="16";function m1(a){switch(a){case"top-left":return{"text-anchor":"start",dy:"0.75em"};case"top-center":return{"text-anchor":"middle",dy:"0.75em"};case"top-right":return{"text-anchor":"end",dy:"0.75em"};case"center-left":return{"text-anchor":"start",dy:"0.25em"};case"center-center":return{"text-anchor":"middle",dy:"0.25em"};case"center-right":return{"text-anchor":"end",dy:"0.25em"};case"bottom-left":return{"text-anchor":"start",dy:"-0.25em"};case"bottom-center":return{"text-anchor":"middle",dy:"-0.25em"};case"bottom-right":return{"text-anchor":"end",dy:"-0.25em"};default:throw new Error("Unknown anchor "+a)}}let Pc=class vc{constructor(t,n={}){this.children=[],this.path=void 0,this.origin=new Dt(0,0),this.style={},this.textdata={},this.multilinedata={},this.imgdata={},this.foreignobjdata={},this.mutable=!1,this.tags=[],this._bbox_cache=void 0,this.type=t,this.path=n.path,n.children&&(this.children=n.children),n.textdata&&(this.textdata=n.textdata),n.imgdata&&(this.imgdata=n.imgdata),n.tags&&(this.tags=n.tags),n.multilinedata&&(this.multilinedata=n.multilinedata),n.foreignobjdata&&(this.foreignobjdata=n.foreignobjdata)}mut(){this.mutable=!0,this.path!=null&&(this.path.mutable=!0);for(let t=0;t<this.children.length;t++)this.children[t].mut();return this}mut_parent_only(){return this.mutable=!0,this.path!=null&&(this.path.mutable=!0),this}immut(){let t=this.copy();t.mutable=!1,this.path!=null&&(this.path.mutable=!1);for(let n=0;n<t.children.length;n++)t.children[n].immut();return t}static deep_setPrototypeOf(t){Object.setPrototypeOf(t,vc.prototype);let n=t;n.origin=Object.setPrototypeOf(n.origin,Dt.prototype);for(let s=0;s<n.children.length;s++)vc.deep_setPrototypeOf(n.children[s]);n.path!=null&&(Object.setPrototypeOf(n.path,Ka.prototype),n.path=n.path.copy()),n._bbox_cache!=null&&n._bbox_cache.length==2&&(Object.setPrototypeOf(n._bbox_cache[0],Dt.prototype),Object.setPrototypeOf(n._bbox_cache[1],Dt.prototype))}copy(){let t=JSON.parse(JSON.stringify(this));return vc.deep_setPrototypeOf(t),t}copy_if_not_mutable(){return this.mutable?this:this.copy()}append_tags(t){let n=this.copy_if_not_mutable();Array.isArray(t)||(t=[t]);for(let s of t)n.tags.includes(s)||n.tags.push(s);return n}remove_tags(t){let n=this.copy_if_not_mutable();return n.tags=n.tags.filter(s=>!t.includes(s)),n}reset_tags(){let t=this.copy_if_not_mutable();return t.tags=[],t}contain_tag(t){return this.tags.includes(t)}contain_all_tags(t){for(let n of t)if(!this.tags.includes(n))return!1;return!0}collect_children(){let t=[];if(this.type==ut.Diagram)for(let n of this.children)t=t.concat(n.collect_children());else t.push(this);return t}flatten(){let t=this.copy_if_not_mutable();return t.children=t.collect_children(),t}apply(t){return t(this.copy_if_not_mutable())}apply_recursive(t){let n=this.copy_if_not_mutable();n=t(n);for(let s=0;s<n.children.length;s++)n.children[s]=n.children[s].apply_recursive(t);return n}apply_to_tagged_recursive(t,n){Array.isArray(t)||(t=[t]);let s=this.copy_if_not_mutable();s.contain_all_tags(t)&&(s=n(s));for(let l=0;l<s.children.length;l++)s.children[l]=s.children[l].apply_to_tagged_recursive(t,n);return s}get_tagged_elements(t){Array.isArray(t)||(t=[t]);let n=[];this.contain_all_tags(t)&&n.push(this.copy_if_not_mutable());for(let s=0;s<this.children.length;s++)n=n.concat(this.children[s].get_tagged_elements(t));return n}combine(...t){return Xt(this,...t)}to_curve(){let t=this.copy_if_not_mutable();if(t.type==ut.Polygon)t.type=ut.Curve;else if(t.type==ut.Diagram)for(let n=0;n<t.children.length;n++)t.children[n]=t.children[n].to_curve();return t}to_polygon(){let t=this.copy_if_not_mutable();if(t.type==ut.Curve)t.type=ut.Polygon;else if(t.type==ut.Diagram)for(let n=0;n<t.children.length;n++)t.children[n]=t.children[n].to_polygon();return t}add_points(t){let n=this.copy_if_not_mutable();if(n.type==ut.Polygon||n.type==ut.Curve){if(n.path==null)throw new Error(this.type+" must have a path");n.path=n.path.add_points(t)}else if(n.type==ut.Diagram){let s=n.children[n.children.length-1];n.children[n.children.length-1]=s.add_points(t)}return n}update_style(t,n,s){let l=this.copy_if_not_mutable();if(s?.includes(l.type))return l;if(l.type==ut.Polygon||l.type==ut.Curve||l.type==ut.Text||l.type==ut.Image||l.type==ut.MultilineText||l.type==ut.ForeignObject)l.style[t]=n;else if(l.type==ut.Diagram)for(let u=0;u<l.children.length;u++)l.children[u]=l.children[u].update_style(t,n,s);else throw new Error("Unreachable, unknown diagram type : "+l.type);return l}clone_style_from(t){return this.apply_recursive(n=>(n.style=Object.assign({},t.style),n))}fill(t){return this.update_style("fill",t,[ut.Text])}stroke(t){return this.update_style("stroke",t,[ut.Text])}opacity(t){return this.update_style("opacity",t.toString())}strokewidth(t){return this.update_style("stroke-width",t.toString(),[ut.Text])}strokelinecap(t){return this.update_style("stroke-linecap",t)}strokelinejoin(t){return this.update_style("stroke-linejoin",t)}strokedasharray(t){return this.update_style("stroke-dasharray",t.join(","))}vectoreffect(t){return this.update_style("vector-effect",t)}filter(t){return this.update_style("filter",`url(#${t})`)}textfill(t){return this.update_style("fill",t,[ut.Polygon,ut.Curve])}textstroke(t){return this.update_style("stroke",t,[ut.Polygon,ut.Curve])}textstrokewidth(t){return this.update_style("stroke-width",t.toString(),[ut.Polygon,ut.Curve])}update_textdata(t,n){let s=this.copy_if_not_mutable();if(s.type==ut.Text||s.type==ut.MultilineText)s.textdata[t]=n;else if(s.type==ut.Diagram)for(let l=0;l<s.children.length;l++)s.children[l]=s.children[l].update_textdata(t,n);else if(!(s.type==ut.Polygon||s.type==ut.Curve))throw new Error("Unreachable, unknown diagram type : "+s.type);return s}fontfamily(t){return this.update_textdata("font-family",t)}fontstyle(t){return this.update_textdata("font-style",t)}fontsize(t){return this.update_textdata("font-size",t.toString())}fontweight(t){return this.update_textdata("font-weight",t.toString())}fontscale(t){return this.update_textdata("font-scale",t.toString())}textanchor(t){return this.update_textdata("text-anchor",t)}textdy(t){return this.update_textdata("dy",t)}textangle(t){return this.update_textdata("angle",t.toString())}text_tovar(){let t=this.copy_if_not_mutable();if(t.type==ut.Text)t=t.append_tags(Me.TEXTVAR);else if(t.type==ut.Diagram)for(let n=0;n<t.children.length;n++)t.children[n]=t.children[n].text_tovar();return t}text_totext(){let t=this.copy_if_not_mutable();if(t.type==ut.Text)t=t.remove_tags("textvar");else if(t.type==ut.Diagram)for(let n=0;n<t.children.length;n++)t.children[n]=t.children[n].text_totext();return t}bounding_box(){if(this._bbox_cache!=null)return this._bbox_cache;let t=1/0,n=1/0,s=-1/0,l=-1/0;if(this.type==ut.Diagram){for(let f=0;f<this.children.length;f++){let g=this.children[f],[p,m]=g.bounding_box();t=Math.min(t,p.x),n=Math.min(n,p.y),s=Math.max(s,m.x),l=Math.max(l,m.y)}const u=[new Dt(t,n),new Dt(s,l)];return this._bbox_cache=u,u}else if(this.type==ut.Curve||this.type==ut.Polygon||this.type==ut.Image||this.type==ut.ForeignObject){if(this.path==null)throw new Error(this.type+" must have a path");for(let f=0;f<this.path.points.length;f++){let g=this.path.points[f];t=Math.min(t,g.x),n=Math.min(n,g.y),s=Math.max(s,g.x),l=Math.max(l,g.y)}const u=[new Dt(t,n),new Dt(s,l)];return this._bbox_cache=u,u}else if(this.type==ut.Text||this.type==ut.MultilineText){const u=[this.origin.copy(),this.origin.copy()];return this._bbox_cache=u,u}else throw new Error("Unreachable, unknown diagram type : "+this.type)}transform(t){let n=this.copy_if_not_mutable();n._bbox_cache=void 0;for(let s=0;s<n.children.length;s++)n.children[s]=n.children[s].transform(t);return n.path!=null&&(n.path=n.path.transform(t)),n.origin=t(n.origin),n}translate(t){const n=this._bbox_cache,s=this.transform(ks.translate(t));return n!=null&&(s._bbox_cache=n.map(l=>ks.translate(t)(l))),s}position(t=new Dt(0,0)){let n=t.sub(this.origin);return this.translate(n)}rotate(t,n=void 0){return n==null&&(n=this.origin),this.transform(ks.rotate(t,n))}scale(t,n){return n==null&&(n=this.origin),typeof t=="number"&&(t=new Dt(t,t)),this.transform(ks.scale(t,n))}scaletext(t){return this.apply_recursive(n=>{switch(n.type){case ut.Text:{let s=parseFloat(n.textdata["font-size"]||$d),l=n.copy_if_not_mutable();return l.textdata["font-size"]=(s*t).toString(),l}case ut.MultilineText:{let s=n.copy_if_not_mutable();return s.multilinedata["scale-factor"]=(s.multilinedata["scale-factor"]||1)*t,s}default:return n}})}skewX(t,n){return n==null&&(n=this.origin),this.transform(ks.skewX(t,n.y))}skewY(t,n){return n==null&&(n=this.origin),this.transform(ks.skewY(t,n.x))}reflect_over_point(t){return this.transform(ks.reflect_over_point(t))}reflect_over_line(t,n){return this.transform(ks.reflect_over_line(t,n))}reflect(t,n){if(t==null&&n==null)return this.reflect_over_point(this.origin);if(t!=null&&n==null)return this.reflect_over_point(t);if(t!=null&&n!=null)return this.reflect_over_line(t,n);throw new Error("Unreachable")}vflip(t){return t==null&&(t=this.origin.y),this.reflect(new Dt(0,t),new Dt(1,t))}hflip(t){return t==null&&(t=this.origin.x),this.reflect(new Dt(t,0),new Dt(t,1))}get_anchor(t){let[n,s]=this.bounding_box(),l=n.x,u=n.y,f=s.x,g=s.y,p=(l+f)/2,m=(u+g)/2;switch(t){case"top-left":return new Dt(l,g);case"top-center":return new Dt(p,g);case"top-right":return new Dt(f,g);case"center-left":return new Dt(l,m);case"center-center":return new Dt(p,m);case"center-right":return new Dt(f,m);case"bottom-left":return new Dt(l,u);case"bottom-center":return new Dt(p,u);case"bottom-right":return new Dt(f,u);default:return console.error("Unknown anchor "+t),new Dt(p,m)}}move_origin(t){let n=this.copy_if_not_mutable();return t instanceof Dt?n.origin=t:n.origin=n.get_anchor(t),n}__move_origin_text(t){let n=this.copy_if_not_mutable(),s=m1(t);return n.textdata["text-anchor"]=s["text-anchor"],n.textdata.dy=s.dy,n}move_origin_text(t){let n=this.copy_if_not_mutable();if(this.type==ut.Text||this.type==ut.MultilineText)n=n.__move_origin_text(t);else if(this.type==ut.Diagram)for(let s=0;s<n.children.length;s++)n.children[s]=n.children[s].move_origin_text(t);return n}path_length(){if(this.type==ut.Diagram){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].path_length();return t}else if(this.type==ut.Curve||this.type==ut.Polygon){if(this.path==null)throw new Error(this.type+" must have a path");return this.path.length()}else throw new Error("Unreachable, unknown diagram type : "+this.type)}reverse_path(){var t;let n=this.copy_if_not_mutable();return n.path&&(n.path=(t=n.path)===null||t===void 0?void 0:t.reverse()),n}parametric_point(t,n){if(this.type==ut.Diagram){let s=[],l=0;for(let g=0;g<this.children.length;g++)l+=this.children[g].path_length(),s.push(l);let u=l,f=s.map(g=>g/u);for(let g=0;g<f.length;g++)if(t<=f[g]){let p=g,m=g==0?0:f[g-1],b=(t-m)/(f[g]-m);return this.children[p].parametric_point(b)}throw Error("Unreachable")}else if(this.type==ut.Curve){if(this.path==null)throw new Error(this.type+" must have a path");return this.path.parametric_point(t,!1,n)}else if(this.type==ut.Polygon){if(this.path==null)throw new Error(this.type+" must have a path");return this.path.parametric_point(t,!0,n)}else throw new Error("Unreachable, unknown diagram type : "+this.type)}debug_bbox(){let t=f=>f.fill("none").stroke("gray").strokedasharray([5,5]),[n,s]=this.bounding_box(),l=Ys([new Dt(n.x,n.y),new Dt(s.x,n.y),new Dt(s.x,s.y),new Dt(n.x,s.y)]).apply(t),u=Xs("+").position(this.origin);return l.combine(u)}debug(t=!0){let n=l=>l.fill("none").stroke("red").strokedasharray([5,5]),s=l=>{let u=l.textfill("white").textstroke("white").textstrokewidth(5),f=l.fill("black");return u.combine(f)};if(this.type==ut.Diagram)return this.debug_bbox();if(this.type==ut.Text)return nr(this.origin);if(this.type==ut.Polygon||this.type==ut.Curve||this.type==ut.Image){let l=this.type==ut.Polygon||ut.Image?Ys:Fn,u=this.debug_bbox();if(this.path==null)throw new Error(this.type+" must have a path");let f=l(this.path.points).apply(n);if(t==!1)return u.combine(f);let g=this.path.points,p=[],m,[b,E]=this.bounding_box(),T=Math.min(E.x-b.x,E.y-b.y)/10;for(let N=0;N<g.length;N++)(m==null?1/0:g[N].sub(m).length())<T||(p.push(Xs(N.toString()).position(g[N]).apply(s)),m=g[N]);return u.combine(f,...p)}else throw new Error("Unreachable, unknown diagram type : "+this.type)}is_empty(){return this.contain_tag(Me.EMPTY)}};class Ka{constructor(t){this.points=t,this.mutable=!1}copy(){let t=this.points.map(n=>new Dt(n.x,n.y));return new Ka(t)}copy_if_not_mutable(){return this.mutable?this:this.copy()}reverse(){let t=this.copy_if_not_mutable();return t.points=t.points.reverse(),t}length(){let t=0;for(let n=1;n<this.points.length;n++)t+=this.points[n].sub(this.points[n-1]).length();return t}add_points(t){let n=this.copy_if_not_mutable();return n.points=n.points.concat(t),n}parametric_point(t,n=!1,s){let l=this.points;if(n&&(l=this.points.concat(this.points[0])),s==null){if(t<0||t>1)throw Error("t must be between 0 and 1");let u=[],f=0;for(let m=1;m<l.length;m++)f+=l[m].sub(l[m-1]).length(),u.push(f);let g=f,p=u.map(m=>m/g);for(let m=0;m<p.length;m++)if(t<=p[m]){let b=m,E=m==0?0:p[m-1],T=(t-E)/(p[m]-E);return this.parametric_point(T,n,b)}throw Error("Unreachable")}else{if(s<0||s>l.length-1)throw Error("segment_index must be between 0 and n-1");let u=l[s],g=l[s+1].sub(u);return u.add(g.scale(t))}}transform(t){let n=this.copy_if_not_mutable();for(let s=0;s<n.points.length;s++)n.points[s]=t(n.points[s]);return n}}function Xt(...a){if(a.length==0)return nr();let t=a.map(l=>l.copy_if_not_mutable()),n=!0;for(let l=0;l<t.length;l++)if(!t[l].mutable){n=!1;break}let s=new Pc(ut.Diagram,{children:t});return s.mutable=n,s.move_origin(a[0].origin)}function Fn(a){let t=new Ka(a);return new Pc(ut.Curve,{path:t})}function jn(a,t){return Fn([a,t]).append_tags(Me.LINE)}function Ys(a){g1(a.length>=3,"Polygon must have at least 3 points");let t=new Ka(a);return new Pc(ut.Polygon,{path:t})}function nr(a=F(0,0)){return Fn([a]).append_tags(Me.EMPTY)}function Xs(a){return new Pc(ut.Text,{textdata:{text:a,"font-size":$d},path:new Ka([new Dt(0,0)])})}function Xe(a){return a*Math.PI/180}function p1(a){return a*180/Math.PI}function _1(a,t,n=100){let s=[],l=(t-a)/(n-1);for(let u=0;u<n;u++)s.push(a+l*u);return s}function md(a,t,n=1){if(n==0)return[];if(Math.floor((t-a)/n)<=0)return[];let l=[];if(n>0)for(let u=a;u<t;u+=n)l.push(u);else for(let u=a;u>t;u+=n)l.push(u);return l}function bo(a){let t=a;return typeof t=="number"?[t,t,t,t]:Array.isArray(t)?t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[0],t[1],t[0],t[1]]:t.length===3?[t[0],t[1],t[2],t[1]]:t.length>=4?[t[0],t[1],t[2],t[3]]:[0,0,0,0]:[0,0,0,0]}const Ni={blue:"#1f77b4",lightblue:"#aec7e8",orange:"#ff7f0e",lightorange:"#ffbb78",green:"#2ca02c",lightgreen:"#98df8a",red:"#d62728",lightred:"#ff9896",purple:"#9467bd",lightpurple:"#c5b0d5",brown:"#8c564b",lightbrown:"#c49c94",pink:"#e377c2",lightpink:"#f7b6d2",grey:"#7f7f7f",lightgrey:"#c7c7c7",gray:"#7f7f7f",lightgray:"#c7c7c7",olive:"#bcbd22",lightolive:"#dbdb8d",cyan:"#17becf",lightcyan:"#9edae5"};function Oi(a,t){var n;return(n=t[a])!==null&&n!==void 0?n:a}const Iv={A:"𝐴",B:"𝐵",C:"𝐶",D:"𝐷",E:"𝐸",F:"𝐹",G:"𝐺",H:"𝐻",I:"𝐼",J:"𝐽",K:"𝐾",L:"𝐿",M:"𝑀",N:"𝑁",O:"𝑂",P:"𝑃",Q:"𝑄",R:"𝑅",S:"𝑆",T:"𝑇",U:"𝑈",V:"𝑉",W:"𝑊",X:"𝑋",Y:"𝑌",Z:"𝑍",a:"𝑎",b:"𝑏",c:"𝑐",d:"𝑑",e:"𝑒",f:"𝑓",g:"𝑔",h:"ℎ",i:"𝑖",j:"𝑗",k:"𝑘",l:"𝑙",m:"𝑚",n:"𝑛",o:"𝑜",p:"𝑝",q:"𝑞",r:"𝑟",s:"𝑠",t:"𝑡",u:"𝑢",v:"𝑣",w:"𝑤",x:"𝑥",y:"𝑦",z:"𝑧",Α:"𝛢",Β:"𝛣",Γ:"𝛤",Δ:"𝛥",Ε:"𝛦",Ζ:"𝛧",Η:"𝛨",Θ:"𝛩",Ι:"𝛪",Κ:"𝛫",Λ:"𝛬",Μ:"𝛭",Ν:"𝛮",Ξ:"𝛯",Ο:"𝛰",Π:"𝛱",Ρ:"𝛲",Σ:"𝛴",Τ:"𝛵",Υ:"𝛶",Φ:"𝛷",Χ:"𝛸",Ψ:"𝛹",Ω:"𝛺",α:"𝛼",β:"𝛽",γ:"𝛾",δ:"𝛿",ε:"𝜀",ζ:"𝜁",η:"𝜂",θ:"𝜃",ι:"𝜄",κ:"𝜅",λ:"𝜆",μ:"𝜇",ν:"𝜈",ξ:"𝜉",ο:"𝜊",π:"𝜋",ρ:"𝜌",ς:"𝜍",σ:"𝜎",τ:"𝜏",υ:"𝜐",φ:"𝜑",χ:"𝜒",ψ:"𝜓",ω:"𝜔",ϑ:"𝜗",ϰ:"𝜘",ϕ:"𝜙",ϱ:"𝜚",ϖ:"𝜛"};Object.fromEntries(Object.entries(Iv).map(([a,t])=>[t,a]));const fy={"\\alpha":"α","\\beta":"β","\\gamma":"γ","\\delta":"δ","\\epsilon":"ε","\\zeta":"ζ","\\eta":"η","\\theta":"θ","\\iota":"ι","\\kappa":"κ","\\lambda":"λ","\\mu":"μ","\\nu":"ν","\\xi":"ξ","\\omicron":"ο","\\pi":"π","\\rho":"ρ","\\sigma":"σ","\\tau":"τ","\\upsilon":"υ","\\phi":"ϕ","\\chi":"χ","\\psi":"ψ","\\omega":"ω","\\vartheta":"ϑ","\\varchi":"ϰ","\\varphi":"φ","\\varepsilon":"ε","\\varrho":"ϱ","\\varsigma":"ς"},dy={textfractionsolidus:"⁄",leftrightsquigarrow:"↭",textpertenthousand:"‱",blacktriangleright:"▸",blacktriangledown:"▾",blacktriangleleft:"◂",twoheadrightarrow:"↠",leftrightharpoons:"⇋",rightleftharpoons:"⇌",textreferencemark:"※",circlearrowright:"↻",rightrightarrows:"⇉",vartriangleright:"⊳",textordmasculine:"º",textvisiblespace:"␣",twoheadleftarrow:"↞",downharpoonright:"⇂",ntrianglerighteq:"⋭",rightharpoondown:"⇁",textperthousand:"‰",leftrightarrows:"⇆",textmusicalnote:"♪",nleftrightarrow:"↮",rightleftarrows:"⇄",bigtriangledown:"▽",textordfeminine:"ª",ntrianglelefteq:"⋬",rightthreetimes:"⋌",trianglerighteq:"⊵",vartriangleleft:"⊲",rightsquigarrow:"⇝",downharpoonleft:"⇃",curvearrowright:"↷",circlearrowleft:"↺",leftharpoondown:"↽",nLeftrightarrow:"⇎",curvearrowleft:"↶",guilsinglright:"›",leftthreetimes:"⋋",leftrightarrow:"↔",rightharpoonup:"⇀",guillemotright:"»",downdownarrows:"⇊",hookrightarrow:"↪",dashrightarrow:"⇢",leftleftarrows:"⇇",trianglelefteq:"⊴",ntriangleright:"⋫",doublebarwedge:"⌆",upharpoonright:"↾",rightarrowtail:"↣",looparrowright:"↬",Leftrightarrow:"⇔",sphericalangle:"∢",divideontimes:"⋇",measuredangle:"∡",blacktriangle:"▴",ntriangleleft:"⋪",mathchar1356:"⁁",texttrademark:"™",mathchar2208:"⌖",triangleright:"▹",leftarrowtail:"↢",guilsinglleft:"‹",upharpoonleft:"↿","mathbb{gamma}":"ℽ",fallingdotseq:"≒",looparrowleft:"↫",textbrokenbar:"¦",hookleftarrow:"↩",smallsetminus:"﹨",dashleftarrow:"⇠",guillemotleft:"«",leftharpoonup:"↼","mathbb{Gamma}":"ℾ",bigtriangleup:"△",textcircledP:"℗",risingdotseq:"≓",triangleleft:"◃",mathsterling:"£",textcurrency:"¤",triangledown:"▿",blacklozenge:"","sfrac{5}{6}":"⅚",preccurlyeq:"≼",Rrightarrow:"⇛",circledcirc:"⊚",nRightarrow:"⇏","sfrac{3}{8}":"⅜","sfrac{1}{3}":"⅓","sfrac{2}{5}":"⅖",vartriangle:"▵",Updownarrow:"⇕",nrightarrow:"↛","sfrac{1}{2}":"½","sfrac{3}{5}":"⅗",succcurlyeq:"≽","sfrac{4}{5}":"⅘",diamondsuit:"♦","sfrac{1}{6}":"⅙",curlyeqsucc:"⋟",blacksquare:"▪",curlyeqprec:"⋞","sfrac{1}{8}":"⅛","sfrac{7}{8}":"⅞","sfrac{1}{5}":"⅕","sfrac{2}{3}":"⅔",updownarrow:"↕",backepsilon:"∍",circleddash:"⊝",eqslantless:"⋜","sfrac{3}{4}":"¾","sfrac{5}{8}":"⅝","sfrac{1}{4}":"¼","mathbb{Pi}":"ℿ","mathcal{M}":"ℳ","mathcal{o}	":"ℴ","mathcal{O}	":"𝒪",nsupseteqq:"⊉","mathcal{B}":"ℬ",textrecipe:"℞",nsubseteqq:"⊈",subsetneqq:"⊊","mathcal{I}":"ℑ",upuparrows:"⇈","mathcal{e}":"ℯ","mathcal{L}":"ℒ",nleftarrow:"↚","mathcal{H}":"ℋ","mathcal{E}":"ℰ",eqslantgtr:"⋝",curlywedge:"⋏",varepsilon:"ε",supsetneqq:"⊋",rightarrow:"→","mathcal{R}":"ℛ",sqsubseteq:"⊑","mathcal{g}":"ℊ",sqsupseteq:"⊒",complement:"∁",Rightarrow:"⇒",gtreqqless:"⋛",lesseqqgtr:"⋚",circledast:"⊛",nLeftarrow:"⇍",Lleftarrow:"⇚",varnothing:"∅","mathcal{N}":"𝒩",Leftarrow:"⇐",gvertneqq:"≩","mathbb{C}":"ℂ",supsetneq:"⊋",leftarrow:"←",nleqslant:"≰","mathbb{Q}":"ℚ","mathbb{Z}":"ℤ",llbracket:"〚","mathbb{H}":"ℍ",spadesuit:"♠","mathit{o}":"ℴ","mathbb{P}":"ℙ",rrbracket:"〛",supseteqq:"⊇",copyright:"©","textsc{k}":"ĸ",gtreqless:"⋛","mathbb{j}":"ⅉ",pitchfork:"⋔",estimated:"℮",ngeqslant:"≱","mathbb{e}":"ⅇ",therefore:"∴",triangleq:"≜",varpropto:"∝",subsetneq:"⊊",heartsuit:"♥","mathbb{d}":"ⅆ",lvertneqq:"≨",checkmark:"✓",nparallel:"∦","mathbb{R}":"ℝ",lesseqgtr:"⋚",downarrow:"↓","mathbb{D}":"ⅅ","mathbb{i}":"ⅈ",backsimeq:"⋍","mathbb{N}":"ℕ",Downarrow:"⇓",subseteqq:"⊆",setminus:"∖",succnsim:"⋩",doteqdot:"≑",clubsuit:"♣",emptyset:"∅",sqsupset:"⊐","fbox{~~}":"▭",curlyvee:"⋎",varkappa:"ϰ",llcorner:"⌞",varsigma:"ς",approxeq:"≊",backcong:"≌",supseteq:"⊇",circledS:"Ⓢ",circledR:"®",textcent:"¢",urcorner:"⌝",lrcorner:"⌟",boxminus:"⊟",texteuro:"€",vartheta:"ϑ",barwedge:"⊼","ding{86}":"✶",sqsubset:"⊏",subseteq:"⊆",intercal:"⊺","ding{73}":"☆",ulcorner:"⌜",recorder:"⌕",precnsim:"⋨",parallel:"∥",boxtimes:"⊠","ding{55}":"✗",multimap:"⊸",maltese:"✠",nearrow:"↗",swarrow:"↙",lozenge:"◊","sqrt[3]":"∛",succsim:"≿",dotplus:"∔","tilde{}":"~","check{}":"ˇ",lessgtr:"≶",Upsilon:"ϒ",Cdprime:"Ъ",gtrless:"≷",backsim:"∽",nexists:"∄",searrow:"↘",lessdot:"⋖",boxplus:"⊞",upsilon:"υ",epsilon:"ε",diamond:"⋄",bigstar:"★",ddagger:"‡",cdprime:"ъ",Uparrow:"⇑","sqrt[4]":"∜",between:"≬",sqangle:"∟",digamma:"Ϝ",uparrow:"↑",nwarrow:"↖",precsim:"≾","breve{}":"˘",because:"∵",bigcirc:"◯","acute{}":"´","grave{}":"`",lesssim:"≲",partial:"∂",natural:"♮",supset:"⊃",hstrok:"ħ",Tstrok:"Ŧ",coprod:"∐",models:"⊧",otimes:"⊗",degree:"°",gtrdot:"⋗",preceq:"≼",Lambda:"Λ",lambda:"λ",cprime:"ь",varrho:"ϱ",Bumpeq:"≎",hybull:"⁃",lmidot:"ŀ",nvdash:"⊬",lbrace:"{",bullet:"•",varphi:"φ",bumpeq:"≏","ddot{}":"¨",Lmidot:"Ŀ",Cprime:"Ь",female:"♀",rtimes:"⋊",gtrsim:"≳",mapsto:"↦",daleth:"ℸ",square:"■",nVDash:"⊯",rangle:"⟩",tstrok:"ŧ",oslash:"⊘",ltimes:"⋉",lfloor:"⌊",marker:"▮",Subset:"⋐",Vvdash:"⊪",propto:"∝",Hstrok:"Ħ",dlcrop:"⌍",forall:"∀",nVdash:"⊮",Supset:"⋑",langle:"⟨",ominus:"⊖",rfloor:"⌋",circeq:"≗",eqcirc:"≖",drcrop:"⌌",veebar:"⊻",ulcrop:"⌏",nvDash:"⊭",urcrop:"⌎",exists:"∃",approx:"≈",dagger:"†",boxdot:"⊡",succeq:"≽",bowtie:"⋈",subset:"⊂",notin:"∉",Sigma:"Σ",Omega:"Ω",nabla:"∇",colon:":",boxHu:"╧",boxHd:"╤",aleph:"ℵ",gnsim:"⋧",boxHU:"╩",boxHD:"╦",equiv:"≡",lneqq:"≨",alpha:"α",amalg:"∐",boxhU:"╨",boxhD:"╥",uplus:"⊎",boxhu:"┴",kappa:"κ",sigma:"σ",boxDL:"╗",Theta:"Θ",Vdash:"⊩",boxDR:"╔",boxDl:"╖",sqcap:"⊓",boxDr:"╓","bar{}":"¯",dashv:"⊣",vDash:"⊨",boxdl:"┐",boxVl:"╢",boxVh:"╫",boxVr:"╟",boxdr:"┌",boxdL:"╕",boxVL:"╣",boxVH:"╬",boxVR:"╠",boxdR:"╒",theta:"θ",lhblk:"▄",uhblk:"▀",ldotp:".",ldots:"…",boxvL:"╡",boxvH:"╪",boxvR:"╞",boxvl:"┤",boxvh:"┼",boxvr:"├",Delta:"Δ",boxUR:"╚",boxUL:"╝",oplus:"⊕",boxUr:"╙",boxUl:"╜",doteq:"≐",happy:"㋡",varpi:"ϖ",smile:"☺",boxul:"┘",simeq:"≃",boxuR:"╘",boxuL:"╛",boxhd:"┬",gimel:"ℷ",Gamma:"Γ",lnsim:"⋦",sqcup:"⊔",omega:"ω",sharp:"♯",times:"×",block:"█","hat{}":"^",wedge:"∧",vdash:"⊢",angle:"∠",infty:"∞",gamma:"γ",asymp:"≍",rceil:"⌉","dot{}":"˙",lceil:"⌈",delta:"δ",gneqq:"≩",frown:"⌢",phone:"☎",vdots:"⋮",boxr:"└","k{i}":"į","`{I}":"Ì",perp:"⊥",'"{o}':"ö","={I}":"Ī","`{a}":"à","v{T}":"Ť",surd:"√","H{O}":"Ő",vert:"|","k{I}":"Į",'"{y}':"ÿ",'"{O}':"Ö","u{u}":"ў","u{G}":"Ğ",".{E}":"Ė",".{z}":"ż","v{t}":"ť",prec:"≺","H{o}":"ő",mldr:"…",cong:"≅",".{e}":"ė",star:"*",".{Z}":"Ż",geqq:"≧",cdot:"⋅",cdots:"…","`{U}":"Ù","v{L}":"Ľ","c{s}":"ş","~{A}":"Ã",Vert:"‖","k{e}":"ę",lnot:"¬",leqq:"≦",beta:"β",beth:"ℶ","~{n}":"ñ","u{i}":"й","c{S}":"Ş","c{N}":"Ņ","H{u}":"ű","v{n}":"ň","={U}":"Ū","~{O}":"Õ","v{E}":"Ě","H{U}":"Ű","v{N}":"Ň",prod:"∏","v{s}":"š",'"{U}':"Ü","c{n}":"ņ","k{U}":"Ų","c{R}":"Ŗ","~{o}":"õ","v{e}":"ě","v{S}":"Š","u{A}":"Ă",circ:"∘",'"{u}':"ü",flat:"♭","v{z}":"ž","r{U}":"Ů","`{O}":"Ò","={u}":"ū",oint:"∮","c{K}":"Ķ","k{u}":"ų","not<":"≮","not>":"≯","`{o}":"ò",'"{I}':"Ï","v{D}":"Ď",".{G}":"Ġ","r{u}":"ů","not=":"≠","`{u}":"ù","v{c}":"č","c{k}":"ķ",".{g}":"ġ",odot:"⊙","`{e}":"э","c{T}":"Ţ","v{d}":"ď",'"{e}':"ё","v{R}":"Ř","k{a}":"ą",nldr:"‥","`{A}":"À","~{N}":"Ñ",nmid:"∤",".{C}":"Ċ",zeta:"ζ","~{u}":"ũ","`{E}":"Э","~{a}":"ã","c{t}":"ţ","={o}":"ō","v{r}":"ř","={A}":"Ā",".{c}":"ċ","~{U}":"Ũ","k{A}":"Ą",'"{a}':"ä","u{U}":"Ў",iota:"ι","={O}":"Ō","c{C}":"Ç",gneq:"≩",boxH:"═",hbar:"ℏ",'"{A}':"Ä",boxv:"│",boxh:"─",male:"♂",sqrt:"√",succ:"≻","c{c}":"ç","v{l}":"ľ","u{a}":"ă","v{Z}":"Ž","c{G}":"Ģ","v{C}":"Č",lneq:"≨","{E}":"Ё","={a}":"ā","c{l}":"ļ","={E}":"Ē",boxV:"║","u{g}":"ğ","u{I}":"Й","c{L}":"Ļ","k{E}":"Ę",".{I}":"İ","~{I}":"Ĩ","c{r}":"ŗ","{Y}":"Ÿ","={e}":"ē",leq:"≤",Cup:"⋓",Psi:"Ψ",neq:"≠","k{}":"˛","={}":"‾","H{}":"˝",cup:"∪",geq:"≥",mho:"℧",Dzh:"Џ",cap:"∩",bot:"⊥",psi:"ψ",chi:"χ","c{}":"¸",Phi:"Φ",ast:"*",ell:"ℓ",top:"⊤",lll:"⋘",tau:"τ",Cap:"⋒",sad:"☹",iff:"⇔",eta:"η",eth:"ð","d{":"	̣",rho:"ρ",dzh:"џ",div:"÷",phi:"ϕ",Rsh:"↱",vee:"∨","b{}":"ˍ","t{":"	͡",int:"∫",sim:"∼","r{}":"˚",Lsh:"↰",yen:"¥",ggg:"⋙",mid:"∣",sum:"∑",neg:"¬",Dz:"Ѕ",Re:"ℜ",oe:"œ",DH:"Ð",ll:"≪",ng:"ŋ",wr:"≀",wp:"℘","=I":"І",":)":"☺",":(":"☹",AE:"Æ",AA:"Å",ss:"ß",dz:"ѕ",ae:"æ",aa:"å",th:"þ",to:"→",Pi:"Π",mp:"∓",Im:"ℑ",pm:"±",pi:"π",'"I':"Ї",in:"∈",ni:"∋",ne:"≠",TH:"Þ",Xi:"Ξ",nu:"ν",NG:"Ŋ",":G":"㋡",xi:"ξ",OE:"Œ",gg:"≫",DJ:"Đ","=e":"є","=E":"Є",mu:"μ",dj:"đ",S:"§",P:"¶",O:"Ø",L:"Ł",o:"ø",l:"ł",h:"ℎ",i:"ℹ","'{Y}":"Ý","'{y}":"ý","'{L}":"Ĺ","'{e}":"é","'{l}":"ĺ","'{s}":"ś","'{z}":"ź","'{E}":"É","'{S}":"Ś","'{Z}":"Ź","'{R}":"Ŕ","'{A}":"Á","'{N}":"Ń","'{I}":"Í","'{n}":"ń","'{c}":"ć","'{u}":"ú","'{C}":"Ć","'{o}":"ó","'{a}":"á","'{O}":"Ó","'{g}":"ǵ","'{r}":"ŕ","'{U}":"Ú","'G":"Ѓ","'C":"Ћ","'K":"Ќ","'k":"ќ","'c":"ћ","'g":"ѓ"};function y1(a){a=a;for(let t in fy)a=a.replaceAll(t,fy[t]);for(let t in dy)a=a.replaceAll("\\"+t,dy[t]);return a}function Gc(a){return[...y1(a)].map(t=>Iv[t]||t).join("")}const v1=typeof navigator<"u"&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Zd={fill:"none",stroke:"black","stroke-width":"1","stroke-linecap":"butt","stroke-dasharray":"none","stroke-linejoin":"round","vector-effect":"non-scaling-stroke",opacity:"1"};Object.assign({},Zd);const Jd={fill:"black",stroke:"none","stroke-width":"1","stroke-linecap":"butt","stroke-dasharray":"none","stroke-linejoin":"round","vector-effect":"non-scaling-stroke",opacity:"1"};Object.assign({},Jd);const Wd={text:"","font-family":"Latin Modern Math, sans-serif","font-size":$d,"font-weight":"normal","text-anchor":"middle",dy:"0.25em",angle:"0","font-style":"normal","font-scale":"auto"};Object.assign({},Wd);function b1(a,t,n,s=1,l){let u=Object.assign(Object.assign({},Zd),n.style);u.fill=Oi(u.fill,Ni),u.stroke=Oi(u.stroke,Ni);let f=document.createElementNS("http://www.w3.org/2000/svg","polygon");for(let p in u)f.style[p]=u[p];if(l!=null&&f.setAttribute("_dg_tag",l),t.appendChild(f),n.path!=null)for(let p=0;p<n.path.points.length;p++){let m=n.path.points[p];var g=a.createSVGPoint();g.x=m.x*s,g.y=-m.y*s,f.points.appendItem(g)}n.tags&&f.setAttribute("_dg_elem_tag",n.tags.join(" "))}function E1(a,t,n,s,l){let u=Object.assign(Object.assign({},Zd),n.style);u.fill="none",u.stroke=Oi(u.stroke,Ni);let f=document.createElementNS("http://www.w3.org/2000/svg","polyline");for(let p in u)f.style[p]=u[p];if(l!=null&&f.setAttribute("_dg_tag",l),t.appendChild(f),n.path!=null)for(let p=0;p<n.path.points.length;p++){let m=n.path.points[p];var g=a.createSVGPoint();g.x=m.x*s,g.y=-m.y*s,f.points.appendItem(g)}n.tags&&f.setAttribute("_dg_elem_tag",n.tags.join(" "))}function T1(a){return/^data:image\/(png|jpeg|jpg|gif|svg\+xml);base64,/.test(a)}const pd=new Map;function A1(a,t){if(T1(t)){a.setAttribute("href",t),a.setAttribute("xlink:href",t);return}if(pd.has(t)){const u=pd.get(t);if(!u)return;a.setAttribute("href",u),a.setAttribute("xlink:href",u);return}let n=document.createElement("canvas"),s=n.getContext("2d"),l=new Image;l.crossOrigin="anonymous",l.onload=()=>{n.height=l.height,n.width=l.width,s?.drawImage(l,0,0);const u=n.toDataURL("image/png");a.setAttribute("href",u),a.setAttribute("xlink:href",u),pd.set(t,u),n.remove()},l.src=t}function S1(a,t,n,s,l){let u=document.createElementNS("http://www.w3.org/2000/svg","image");if(u.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.imgdata.src==null||t.path==null||t.path.points.length!=4)return;let f=t.path.points[1].sub(t.path.points[0]).length()*s,g=t.path.points[2].sub(t.path.points[1]).length()*s,p=t.path.points[1].sub(t.path.points[0]).normalize(),m=t.path.points[3].sub(t.path.points[0]).normalize(),b=p.x,E=-p.y,T=-m.x,N=m.y,x=t.path.points[3].x*s,I=-t.path.points[3].y*s;n?A1(u,t.imgdata.src):u.setAttribute("href",t.imgdata.src),u.setAttribute("width",f.toString()),u.setAttribute("height",g.toString()),u.setAttribute("transform",`matrix(${b} ${E} ${T} ${N} ${x} ${I})`),u.setAttribute("preserveAspectRatio","none"),l!=null&&u.setAttribute("_dg_tag",l),a.appendChild(u),t.tags&&u.setAttribute("_dg_elem_tag",t.tags.join(" "))}function w1(a,t,n,s,l){var u,f,g,p;let m=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),b=document.createElement("div");if(t.foreignobjdata.innerHTML==null||t.path==null||t.path.points.length!=4)return;let E=t.path.points[1].sub(t.path.points[0]).length(),T=t.path.points[2].sub(t.path.points[1]).length(),N=t.foreignobjdata,x=E/((u=N["original-width"])!==null&&u!==void 0?u:1)*((f=N["scale-factor"])!==null&&f!==void 0?f:1),I=T/((g=N["original-height"])!==null&&g!==void 0?g:1)*((p=N["scale-factor"])!==null&&p!==void 0?p:1),k=t.path.points[1].sub(t.path.points[0]).normalize(),st=t.path.points[3].sub(t.path.points[0]).normalize(),X=k.x,K=-k.y,at=-st.x,nt=st.y,tt=t.path.points[3].x,w=-t.path.points[3].y;const R=s;m.setAttribute("width",E.toString()),m.setAttribute("height",T.toString()),m.setAttribute("transform",`matrix(${X*x} ${K*x} ${at*I} ${nt*I} ${tt*R} ${w*R})`),m.style.overflow="visible",b.style.textWrap="nowrap",b.style.transformOrigin="top left",b.innerHTML=t.foreignobjdata.innerHTML,l!=null&&m.setAttribute("_dg_tag",l),m.appendChild(b),a.appendChild(m),t.tags&&m.setAttribute("_dg_elem_tag",t.tags.join(" "))}function Rd(a,t){if(a.type==t)return[a];if(a.type==ut.Diagram){let n=[];for(let s of a.children)n=n.concat(Rd(s,t));return n}else return[]}function qn(a,t){const n=bo(t??0);let s=a.getBBox(),l=a.width.baseVal.value-n[1]-n[3],u=a.height.baseVal.value-n[0]-n[2];return Math.max(s.width/l,s.height/u)}function R1(a,t,n,s,l){for(let u of t){let f=Object.assign(Object.assign({},Jd),u.style);f.fill=Oi(f.fill,Ni),f.stroke=Oi(f.stroke,Ni);let g=Object.assign(Object.assign({},Wd),u.textdata);if(u.path==null)throw new Error("Text must have a path");let p=document.createElementNS("http://www.w3.org/2000/svg","text"),m=u.path.points[0].x,b=-u.path.points[0].y,E=p1(parseFloat(g.angle)),T=g["font-scale"]=="auto"?n:parseFloat(g["font-scale"])*s,N=parseFloat(g["font-size"])*T;p.setAttribute("font-family",g["font-family"]),p.setAttribute("font-style",g["font-style"]),p.setAttribute("font-size",N.toString()),p.setAttribute("font-weight",g["font-weight"]),p.setAttribute("text-anchor",g["text-anchor"]),p.setAttribute("dy",g.dy),p.setAttribute("transform",`translate(${m} ${b}) rotate(${E}) `),l!=null&&p.setAttribute("_dg_tag",l),p.setAttribute("_x",m.toString()),p.setAttribute("_y",b.toString()),p.setAttribute("_angle",E.toString());for(let I in f)p.style[I]=f[I];let x=g.text;u.tags.includes(Me.TEXTVAR)&&!tg(x)&&(x=Gc(x)),p.innerHTML=x,a.appendChild(p),u.tags&&p.setAttribute("_dg_elem_tag",u.tags.join(" "))}}function x1(a,t,n,s,l){var u,f,g,p,m;for(let b of t){if(b.path==null)throw new Error("Text must have a path");let E=document.createElementNS("http://www.w3.org/2000/svg","text"),T=b.path.points[0].x,N=-b.path.points[0].y,x=0,I=Object.assign(Object.assign(Object.assign({},Wd),{dy:"0","text-anchor":"start"}),b.textdata),k=I["font-size"];if(((u=b.multilinedata)===null||u===void 0?void 0:u.content)==null)throw new Error("MultilineText must have multilinedata");let st=(f=b.multilinedata["scale-factor"])!==null&&f!==void 0?f:1,X=!0;for(let at of b.multilinedata.content){let nt=document.createElementNS("http://www.w3.org/2000/svg","tspan"),tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Jd),I),{dy:"0",dx:"0"}),{"font-size":k}),at.style);if(X){nt.setAttribute("x","0");let C=(g=I.dy)!==null&&g!==void 0?g:"0";tt.dy=C,X=!1}let w=tt["font-scale"]=="auto"?n:parseFloat(tt["font-scale"])*s,R=(p=tt["font-size-scale-factor"])!==null&&p!==void 0?p:1,D=parseFloat(tt["font-size"])*w*st*R;tt.tag&&nt.setAttribute("_dg_tag",tt.tag);let V=[];tt["text-decoration@underline"]&&V.push("underline"),tt["text-decoration@line-through"]&&V.push("line-through"),nt.style.whiteSpace="pre",nt.setAttribute("dx",tt.dx),nt.setAttribute("dy",tt.dy),nt.setAttribute("font-style",tt["font-style"]),nt.setAttribute("font-family",tt["font-family"]),nt.setAttribute("font-size",D.toString()),nt.setAttribute("font-weight",tt["font-weight"]),nt.style.fill=Oi(tt.fill,Ni),nt.style.stroke=Oi(tt.stroke,Ni),nt.style.opacity=tt.opacity;let M="";if(tt["baseline-shift"])if(v1){const[C,Nt]=C1(tt["baseline-shift"]);M=Nt,nt.setAttribute("dy",C)}else nt.setAttribute("baseline-shift",tt["baseline-shift"]);V.length>0&&(nt.style.textDecoration=V.join(" "));let z=at.text;if(z==`
`){nt.innerHTML="&#8203;",nt.setAttribute("x","0");const C=(m=at.style.dy)!==null&&m!==void 0?m:"1em";nt.setAttribute("dy",C)}else tt.textvar&&(z=Gc(z)),nt.innerHTML=z;if(E.appendChild(nt),M){let C=nt.cloneNode(!0);C.setAttribute("dy",M),C.innerHTML="&#8203;",E.appendChild(C)}}const K=s;E.setAttribute("dy",I.dy),E.setAttribute("text-anchor",I["text-anchor"]),E.setAttribute("transform",`translate(${T*K} ${N*K}) rotate(${x}) `),l!=null&&E.setAttribute("_dg_tag",l),a.appendChild(E),b.tags&&E.setAttribute("_dg_elem_tag",b.tags.join(" "))}}function C1(a){switch(a){case"super":return["-0.6em","0.6em"];case"-20%":return["0.2em","-0.2em"];default:return["0","0"]}}function Pn(a,t,n,s=!0,l=!1,u,f=1,g){if(n.type==ut.Polygon)b1(a,t,n,f,g);else if(n.type==ut.Curve)E1(a,t,n,f,g);else if(!(n.type==ut.Text||n.type==ut.MultilineText))if(n.type==ut.Image)S1(t,n,l,f,g);else if(n.type==ut.ForeignObject)w1(t,n,l,f,g);else if(n.type==ut.Diagram)for(let p of n.children)Pn(a,t,p,!1,l,void 0,f,g);else console.warn("Unreachable, unknown diagram type : "+n.type);if(s){u==null&&(u=qn(a));let p=Rd(n,ut.Text),m=Rd(n,ut.MultilineText);R1(t,p,u??1,f,g),x1(t,m,u??1,f,g)}}function Fc(a,t,n=!0,s=!0,l=!0){D1(a,t,{set_html_attribute:n,render_text:s,clear_svg:l})}function D1(a,t,n={}){var s,l,u,f,g,p,m,b;const E=(s=n.set_html_attribute)!==null&&s!==void 0?s:!0,T=(l=n.render_text)!==null&&l!==void 0?l:!0,N=(u=n.clear_svg)!==null&&u!==void 0?u:!0,x=(f=n.embed_image)!==null&&f!==void 0?f:!1,I=(g=n.global_scale_factor)!==null&&g!==void 0?g:1;let k;for(let X in a.children){let K=a.children[X];if(K instanceof SVGSVGElement&&K.getAttribute("meta")=="diagram_svg"){k=K;break}}k==null&&(k=document.createElementNS("http://www.w3.org/2000/svg","svg"),k.setAttribute("meta","diagram_svg"),k.setAttribute("width","100%"),k.setAttribute("height","100%"),a.appendChild(k)),V1(a,n.filter_strings);let st;if(n.text_scaling_reference_svg&&(n.text_scaling_reference_padding=(m=(p=n.text_scaling_reference_padding)!==null&&p!==void 0?p:n.padding)!==null&&m!==void 0?m:10,n.text_scaling_reference_padding=bo(n.text_scaling_reference_padding),st=qn(n.text_scaling_reference_svg,n.text_scaling_reference_padding)),N&&(k.innerHTML=""),Pn(k,k,t,T,x,st,I),E){const X=bo((b=n.padding)!==null&&b!==void 0?b:10);let K=k.getBBox(),at=k.width.baseVal.value-X[1]-X[3],nt=k.height.baseVal.value-X[0]-X[2],tt=Math.max(K.width/at,K.height/nt),w=X.map(R=>R*tt);K.x-=w[3],K.y-=w[0],K.width+=w[1]+w[3],K.height+=w[0]+w[2],k.setAttribute("viewBox",`${K.x} ${K.y} ${K.width} ${K.height}`),k.setAttribute("preserveAspectRatio","xMidYMid meet"),a.style.overflow="visible"}if(n.background_color){let X=k.getBBox();k.viewBox.baseVal.width!==0&&(X=k.viewBox.baseVal);let K=document.createElementNS("http://www.w3.org/2000/svg","rect");K.setAttribute("x",X.x.toString()),K.setAttribute("y",X.y.toString()),K.setAttribute("width",X.width.toString()),K.setAttribute("height",X.height.toString()),K.style.fill=Oi(n.background_color,Ni),K.style.stroke="none",k.insertBefore(K,k.firstChild)}}function V1(a,t){if(t==null||t.length==0)return;let n=a.querySelector("defs");n==null&&(n=document.createElementNS("http://www.w3.org/2000/svg","defs"),a.insertBefore(n,a.firstChild)),n.innerHTML="";for(let s of t)n.innerHTML+=s}function tg(a){return a.startsWith("$")&&a.endsWith("$")}function Lv(a){return a.startsWith("$$")&&a.endsWith("$$")}function M1(a){return Lv(a)?a.substring(2,a.length-2):tg(a)?a.substring(1,a.length-1):a}function Vo(a,t){for(let n=0;n<a.children.length;n++){let s=a.children[n];if(s instanceof SVGTextElement){let l=s.innerHTML;if(!tg(l))continue;let u=s.getAttribute("font-size");if(u==null)continue;let f=parseFloat(u),g=t(M1(l),{display:Lv(l)}),p=s.getAttribute("_x"),m=s.getAttribute("_y");if(p==null||m==null)continue;let b=s.getAttribute("text-anchor"),E=s.getAttribute("dy");if(b==null||E==null)continue;s.outerHTML=g,s=a.children[n];let T=s.getAttribute("width");if(T==null)continue;let N=parseFloat(T.substring(0,T.length-2)),x=s.getAttribute("height");if(x==null)continue;let I=parseFloat(x.substring(0,x.length-2));const k=2;let st=N*f/k,X=I*f/k,K=parseFloat(p),at=parseFloat(m);switch(b){case"start":break;case"middle":K-=st/2;break;case"end":K-=st;break}switch(E){case"0.75em":break;case"0.25em":at-=X/2;break;case"-0.25em":at-=X;break}s.setAttribute("width",st.toString()),s.setAttribute("height",X.toString()),s.setAttribute("x",K.toString()),s.setAttribute("y",at.toString())}else s instanceof SVGElement&&Vo(s,t)}}function Hs(a,t){let n=[F(-a/2,-t/2),F(a/2,-t/2),F(a/2,t/2),F(-a/2,t/2)];return Ys(n)}function N1(a,t){let n=[a,F(t.x,a.y),t,F(a.x,t.y)];return Ys(n)}function O1(a=1){return Hs(a,a)}function I1(a,t=1){let n=[];for(let s=0;s<a;s++)n.push(F(0,t).rotate(s*2*Math.PI/a));return Ys(n)}function eg(a=1){return I1(50,a).append_tags(Me.CIRCLE)}function L1(a=1,t=Xe(360)){let n=100,s=[];for(let l=0;l<n;l++)s.push(F(a,0).rotate(l*t/(n-1)));return Fn(s)}function z1(a,t=1){let n=jn(F(0,0),a).append_tags(Me.ARROW_LINE),l=Ys([F(0,0),F(-t,t/2),F(-t,-t/2)]).rotate(a.angle()).position(a).append_tags(Me.ARROW_HEAD);return Xt(n,l)}function gy(a,t,n=1){let s=jn(a,t).append_tags(Me.ARROW_LINE),l=t.sub(a),u=Ys([F(0,0),F(-n,n/2),F(-n,-n/2)]),f=u.rotate(l.angle()).position(t).append_tags(Me.ARROW_HEAD),g=u.rotate(l.angle()+Math.PI).position(a).append_tags(Me.ARROW_HEAD);return Xt(s,f,g)}function Mo(a){return Xs(a).append_tags(Me.TEXTVAR)}function co(a){let t=a.bounding_box();return[t[1].x-t[0].x,t[1].y-t[0].y]}function U1(a,t="center"){if(a.length==0)return nr();let n=[...a];if(t=="top"){let s=n[0].get_anchor("top-left").y;for(let l=0;l<n.length;l++)n[l]=n[l].translate(F(0,s-n[l].get_anchor("top-left").y));return Xt(...n)}else if(t=="center"){let s=n[0].get_anchor("center-left").y;for(let l=0;l<n.length;l++)n[l]=n[l].translate(F(0,s-n[l].get_anchor("center-left").y));return Xt(...n)}else if(t=="bottom"){let s=n[0].get_anchor("bottom-left").y;for(let l=0;l<n.length;l++)n[l]=n[l].translate(F(0,s-n[l].get_anchor("bottom-left").y));return Xt(...n)}else throw new Error("Unknown vertical alignment : "+t)}function k1(a,t="center"){if(a.length==0)return nr();let n=[...a];if(t=="left"){let s=n[0].get_anchor("top-left").x;for(let l=0;l<n.length;l++)n[l]=n[l].translate(F(s-n[l].get_anchor("top-left").x,0));return Xt(...n)}else if(t=="center"){let s=n[0].get_anchor("top-center").x;for(let l=0;l<n.length;l++)n[l]=n[l].translate(F(s-n[l].get_anchor("top-center").x,0));return Xt(...n)}else if(t=="right"){let s=n[0].get_anchor("top-right").x;for(let l=0;l<n.length;l++)n[l]=n[l].translate(F(s-n[l].get_anchor("top-right").x,0));return Xt(...n)}else throw new Error("Unknown horizontal alignment : "+t)}function B1(a,t=0){if(a.length==0)return nr();let n=[...a],s=[n[0]];for(let l=1;l<n.length;l++){let u=s[l-1],f=n[l],g=u.get_anchor("top-right").x,p=f.get_anchor("top-left").x,m=g-p+t;s.push(f.translate(F(m,0)))}return Xt(...s)}function H1(a,t=0){if(a.length==0)return nr();let n=[...a],s=[n[0]];for(let l=1;l<n.length;l++){let u=s[l-1],f=n[l],g=u.get_anchor("bottom-left").y,p=f.get_anchor("top-left").y,m=g-p-t;s.push(f.translate(F(0,m)))}return Xt(...s)}function zv(a,t=0,n="center"){return B1(U1(a,n).children,t)}function Uv(a,t=0,n="center"){return H1(k1(a,n).children,t)}function j1(a,t,n=0,s=0,l="center",u="left",f=1){if(a.length==0)return nr();let g=[],p=[],m=0;const b=t*f/100;function E(x){let I=zv(x,s,l);g.push(I),p=[],m=0}for(let x=0;x<a.length;x++){let I=a[x],k=co(I)[0];if(k>t+b){p.length>0&&E(p),p.push(I),E(p);continue}m+s+k>t+b&&E(p),p.push(I),m+=k+s}p.length>0&&E(p);let T=Uv(g,n,u),N=[];for(let x=0;x<T.children.length;x++)for(let I=0;I<T.children[x].children.length;I++)N.push(T.children[x].children[I]);return Xt(...N)}const kv="diagramatics-focusrect",q1="diagramatics-focusable-no-outline";function P1(a,t){return a.toFixed(t).replace(/\.?0+$/,"")}const my=(a,t,n)=>{let s=typeof t=="number"&&n!=null?P1(t,n):t.toString();return`${Gc(a)} = ${s}`};var Bs;(function(a){a.locator="control_svg",a.dnd="dnd_svg",a.custom="custom_int_svg",a.button="button_svg"})(Bs||(Bs={}));var Rc;(function(a){a.DOCUMENT="document",a.SVG="svg"})(Rc||(Rc={}));class G1{constructor(t,n,s,l=Rc.SVG){this.control_container_div=t,this.diagram_outer_svg=n,this.event_target=l,this.inp_variables={},this.inp_setter={},this.display_mode="svg",this.diagram_svg=void 0,this.locator_svg=void 0,this.dnd_svg=void 0,this.custom_svg=void 0,this.button_svg=void 0,this.locatorHandler=void 0,this.dragAndDropHandler=void 0,this.buttonHandler=void 0,this.focus_padding=1,this.global_scale_factor=1,this.draw_function=u=>{},this.display_precision=5,this.intervals={},this.registeredEventListenerRemoveFunctions=[],this.single_int_mode=!1,s!=null&&(this.inp_variables=s)}draw(){var t,n;this.draw_function(this.inp_variables,this.inp_setter),(t=this.locatorHandler)===null||t===void 0||t.setViewBox(),(n=this.dragAndDropHandler)===null||n===void 0||n.setViewBox(),py(this.custom_svg,this.diagram_svg),py(this.button_svg,this.diagram_svg)}set(t,n){this.inp_setter[t](n)}get(t){return this.inp_variables[t]}label(t,n,s=my){let l=document.createElement("div");l.classList.add("diagramatics-label"),l.innerHTML=s(t,n,this.display_precision),this.inp_variables[t]=n;const u=g=>{this.inp_variables[t]=g,l.innerHTML=s(t,g,this.display_precision)};this.inp_setter[t]=u;let f=document.createElement("div");f.classList.add("diagramatics-label-container"),f.appendChild(l),this.control_container_div.appendChild(f)}locator_draw(){var t;(t=this.locatorHandler)===null||t===void 0||t.setViewBox()}locator_initial_draw(){var t;(t=this.locatorHandler)===null||t===void 0||t.setViewBox()}drag_and_drop_initial_draw(){this.dnd_initial_draw()}dnd_initial_draw(){var t,n;(t=this.dragAndDropHandler)===null||t===void 0||t.setViewBox(),(n=this.dragAndDropHandler)===null||n===void 0||n.drawSvg()}registerEventListener(t,n,s,l){t.addEventListener(n,s,l);const u=()=>t.removeEventListener(n,s);this.registeredEventListenerRemoveFunctions.push(u)}removeRegisteredEventListener(){this.registeredEventListenerRemoveFunctions.forEach(t=>t()),this.registeredEventListenerRemoveFunctions=[]}get_svg_element(t,n=!1){var s;if(this.diagram_outer_svg==null)throw Error("diagram_outer_svg in Interactive class is undefined");let l;for(let u in this.diagram_outer_svg.children){let f=this.diagram_outer_svg.children[u];f instanceof SVGSVGElement&&f.getAttribute("meta")==t&&(l=f)}return this.single_int_mode&&n&&l!=null&&((s=l.remove)===null||s===void 0||s.call(l),l=void 0),l==null&&(l=document.createElementNS("http://www.w3.org/2000/svg","svg"),l.setAttribute("meta",t),l.setAttribute("width","100%"),l.setAttribute("height","100%"),this.isTargetingDocument()&&(l.style.overflow="visible"),this.diagram_outer_svg.appendChild(l)),l}get_diagram_svg(){let t=this.get_svg_element("diagram_svg");return this.diagram_svg=t,t}isTargetingDocument(){return this.event_target==Rc.DOCUMENT}set_focus_padding(t){this.focus_padding=t,this.dragAndDropHandler&&(this.dragAndDropHandler.focus_padding=t),this.buttonHandler&&(this.buttonHandler.focus_padding=t)}locator(t,n,s,l="blue",u,f=!0,g){if(this.diagram_outer_svg==null)throw Error("diagram_outer_svg in Interactive class is undefined");this.inp_variables[t]=n;let p=this.get_diagram_svg(),m=this.get_svg_element(Bs.locator,!this.locator_svg);if(this.locator_svg=m,this.locatorHandler==null){let x=new yy(m,p,this.global_scale_factor);this.locatorHandler=x;const I=this.isTargetingDocument()?document:this.diagram_outer_svg;this.registerEventListener(I,"mousemove",k=>{x.drag(k)}),this.registerEventListener(I,"mouseup",k=>{x.endDrag(k)}),this.registerEventListener(I,"touchmove",k=>{x.drag(k)}),this.registerEventListener(I,"touchend",k=>{x.endDrag(k)}),this.registerEventListener(I,"touchcancel",k=>{x.endDrag(k)})}const b=(x,I=!0)=>{this.inp_variables[t]=x,g&&I&&g(t,x),I&&this.draw()};this.locatorHandler.registerCallback(t,b);let E=this.locatorHandler.create_locator_circle_pointer_svg(t,s,n,l,f);if(f){let x=E.getElementsByClassName("diagramatics-locator-blink");for(let I=0;I<x.length;I++)this.locatorHandler.addBlinkingCircleOuter(x[I])}this.registerEventListener(E,"mousedown",x=>{this.locatorHandler.startDrag(x,t,E)}),this.registerEventListener(E,"touchstart",x=>{this.locatorHandler.startDrag(x,t,E)});let T;if(u){if(u.type!=ut.Polygon&&u.type!=ut.Curve)throw Error("Track diagram must be a polygon or curve");if(u.path==null)throw Error("diagram {diagtam.type} must have a path");let x=u.path.points;T=I=>{const k=this.global_scale_factor;let st=_y(I,x);return E.setAttribute("transform",`translate(${st.x*k},${-st.y*k})`),st}}else T=x=>{const I=this.global_scale_factor;return E.setAttribute("transform",`translate(${x.x*I},${-x.y*I})`),x};this.locatorHandler.registerSetter(t,T),this.inp_setter[t]=T;let N=T(n);this.locatorHandler.setPos(t,N)}locator_custom(t,n,s,l,u=!0,f,g){if(this.diagram_outer_svg==null)throw Error("diagram_outer_svg in Interactive class is undefined");this.inp_variables[t]=n;let p=this.get_diagram_svg(),m=this.get_svg_element(Bs.locator,!this.locator_svg);if(this.locator_svg=m,this.locatorHandler==null){let x=new yy(m,p,this.global_scale_factor);this.locatorHandler=x;const I=this.isTargetingDocument()?document:this.diagram_outer_svg;this.registerEventListener(I,"mousemove",k=>{x.drag(k)}),this.registerEventListener(I,"mouseup",k=>{x.endDrag(k)}),this.registerEventListener(I,"touchmove",k=>{x.drag(k)}),this.registerEventListener(I,"touchend",k=>{x.endDrag(k)}),this.registerEventListener(I,"touchcancel",k=>{x.endDrag(k)})}const b=(x,I=!0)=>{this.inp_variables[t]=x,f&&I&&f(t,x),I&&this.draw()};this.locatorHandler.registerCallback(t,b);let E=this.locatorHandler.create_locator_diagram_svg(t,s,u);this.registerEventListener(E,"mousedown",x=>{this.locatorHandler.startDrag(x,t,E)}),this.registerEventListener(E,"touchstart",x=>{this.locatorHandler.startDrag(x,t,E)}),g&&this.registerEventListener(E,"contextmenu",x=>{x.preventDefault(),g(t)});let T;if(l){if(l.type!=ut.Polygon&&l.type!=ut.Curve)throw Error("Track diagram must be a polygon or curve");if(l.path==null)throw Error("diagram {diagtam.type} must have a path");let x=l.path.points;T=I=>{let k=_y(I,x);const st=this.global_scale_factor;return E.setAttribute("transform",`translate(${k.x*st},${-k.y*st})`),k}}else T=x=>{const I=this.global_scale_factor;return E.setAttribute("transform",`translate(${x.x*I},${-x.y*I})`),x};this.locatorHandler.registerSetter(t,T),this.inp_setter[t]=T;let N=T(n);this.locatorHandler.setPos(t,N)}slider(t,n=0,s=100,l=50,u=-1,f=1.5,g=my){u==-1&&(u=(s-n)/100),this.inp_variables[t]=l;let p=document.createElement("div");p.classList.add("diagramatics-label"),p.innerHTML=g(t,l,this.display_precision);const m=(K,at=!0)=>{this.inp_variables[t]=K,p.innerHTML=g(t,K,this.display_precision),at&&this.draw()};let b=F1(m,n,s,l,u);const E=K=>{b.value=K.toString(),m(K,!1)};this.inp_setter[t]=E;let T=(s-n)/u;const N=1e3*f/T;let x=document.createElement("button"),I=document.createElement("div");I.classList.add("diagramatics-slider-playbutton-symbol"),x.appendChild(I),x.classList.add("diagramatics-slider-playbutton"),x.onclick=()=>{this.intervals[t]==null?(x.classList.add("paused"),this.intervals[t]=setInterval(()=>{let K=parseFloat(b.value);K+=u,K=(K-n)%(s-n)+n,b.value=K.toString(),m(K)},N)):(x.classList.remove("paused"),clearInterval(this.intervals[t]),this.intervals[t]=void 0)};let k=document.createElement("div");k.classList.add("diagramatics-slider-leftcontainer"),k.appendChild(document.createElement("br")),k.appendChild(x);let st=document.createElement("div");st.classList.add("diagramatics-slider-rightcontainer"),st.appendChild(p),st.appendChild(b);let X=document.createElement("div");X.classList.add("diagramatics-slider-container"),X.appendChild(k),X.appendChild(st),this.control_container_div.appendChild(X)}init_drag_and_drop(){if(this.diagram_outer_svg==null)throw Error("diagram_outer_svg in Interactive class is undefined");let t=this.get_diagram_svg(),n=this.get_svg_element(Bs.dnd,!this.dnd_svg);if(this.dnd_svg=n,this.dragAndDropHandler==null){let s=new X1(n,t,this.global_scale_factor);s.focus_padding=this.focus_padding,this.dragAndDropHandler=s;const l=this.isTargetingDocument()?document:this.diagram_outer_svg;this.registerEventListener(l,"mousemove",u=>{s.drag(u)}),this.registerEventListener(l,"mouseup",u=>{s.endDrag(u)}),this.registerEventListener(l,"touchmove",u=>{s.drag(u)}),this.registerEventListener(l,"touchend",u=>{s.endDrag(u)}),this.registerEventListener(l,"touchcancel",u=>{s.endDrag(u)})}}set_global_scale_factor(t){this.global_scale_factor=t,this.buttonHandler&&(this.buttonHandler.global_scale_factor=t),this.locatorHandler&&(this.locatorHandler.global_scale_factor=t),this.dragAndDropHandler&&(this.dragAndDropHandler.global_scale_factor=t)}dnd_container(t,n,s,l){var u;this.init_drag_and_drop(),(u=this.dragAndDropHandler)===null||u===void 0||u.add_container(t,n,s,l)}dnd_draggable_to_container(t,n,s,l,u){if(this.init_drag_and_drop(),this.dragAndDropHandler==null)throw Error("dragAndDropHandler in Interactive class is undefined");this.inp_variables[t]=n.origin,this.dragAndDropHandler.add_draggable_to_container(t,n,s);const f=(g,p=!0)=>{this.inp_variables[t]=g,l&&l(t,s),p&&this.draw()};this.dragAndDropHandler.registerCallback(t,f),u&&this.dragAndDropHandler.register_clickstart_callback(t,u)}dnd_draggable(t,n,s,l,u){if(this.init_drag_and_drop(),this.dragAndDropHandler==null)throw Error("dragAndDropHandler in Interactive class is undefined");this.inp_variables[t]=n.origin,this.dragAndDropHandler.add_draggable_with_container(t,n,s);const f=(g,p=!0)=>{this.inp_variables[t]=g,l&&l(t,g),p&&this.draw()};this.dragAndDropHandler.registerCallback(t,f),u&&this.dragAndDropHandler.register_clickstart_callback(t,u)}dnd_register_drop_outside_callback(t){var n;this.init_drag_and_drop(),(n=this.dragAndDropHandler)===null||n===void 0||n.register_dropped_outside_callback(t)}dnd_register_move_validation_function(t){var n;this.init_drag_and_drop(),(n=this.dragAndDropHandler)===null||n===void 0||n.register_move_validation_function(t)}dnd_move_to_container(t,n){var s;(s=this.dragAndDropHandler)===null||s===void 0||s.try_move_draggable_to_container(t,n)}get_dnd_data(){var t,n;return(n=(t=this.dragAndDropHandler)===null||t===void 0?void 0:t.getData())!==null&&n!==void 0?n:[]}set_dnd_data(t){var n;(n=this.dragAndDropHandler)===null||n===void 0||n.setData(t)}dnd_reorder_tabindex(t){var n;(n=this.dragAndDropHandler)===null||n===void 0||n.reorder_svg_container_tabindex(t)}get_dnd_container_content_size(t){return this.dragAndDropHandler?this.dragAndDropHandler.get_container_content_size(t):[NaN,NaN]}set_dnd_content_sort(t){this.dragAndDropHandler&&(this.dragAndDropHandler.sort_content=t)}remove_dnd_draggable(t){var n;(n=this.dragAndDropHandler)===null||n===void 0||n.remove_draggable(t)}remove_locator(t){var n;(n=this.locatorHandler)===null||n===void 0||n.remove(t)}remove_button(t){var n;(n=this.buttonHandler)===null||n===void 0||n.remove(t)}custom_object(t,n,s){if(this.diagram_outer_svg==null)throw Error("diagram_outer_svg in Interactive class is undefined");let l=this.get_diagram_svg(),u=this.get_svg_element(Bs.custom,!this.custom_svg),f=document.createElementNS("http://www.w3.org/2000/svg","svg");return Pn(f,f,s,!0,!1,qn(l),this.global_scale_factor),f.setAttribute("overflow","visible"),f.setAttribute("class",n.join(" ")),f.setAttribute("id",t),u.setAttribute("viewBox",l.getAttribute("viewBox")),u.setAttribute("preserveAspectRatio",l.getAttribute("preserveAspectRatio")),u.style.overflow="visible",u.appendChild(f),this.custom_svg=u,f}custom_object_g(t,n,s){if(this.diagram_outer_svg==null)throw Error("diagram_outer_svg in Interactive class is undefined");let l=this.get_diagram_svg(),u=this.get_svg_element(Bs.custom,!this.custom_svg),f=document.createElementNS("http://www.w3.org/2000/svg","g");return Pn(u,f,s,!0,!1,qn(l),this.global_scale_factor),f.setAttribute("overflow","visible"),f.setAttribute("class",n.join(" ")),f.setAttribute("id",t),u.setAttribute("viewBox",l.getAttribute("viewBox")),u.setAttribute("preserveAspectRatio",l.getAttribute("preserveAspectRatio")),u.style.overflow="visible",u.appendChild(f),this.custom_svg=u,f}init_button(){if(this.diagram_outer_svg==null)throw Error("diagram_outer_svg in Interactive class is undefined");let t=this.get_diagram_svg(),n=this.get_svg_element(Bs.button,!this.button_svg);if(this.button_svg=n,this.buttonHandler==null){let s=new K1(n,t,this.global_scale_factor);s.focus_padding=this.focus_padding,this.buttonHandler=s}}button_toggle(t,n,s,l=!1,u){if(this.init_button(),this.buttonHandler==null)throw Error("buttonHandler in Interactive class is undefined");this.inp_variables[t]=l;let f;u?f=(p,m=!0)=>{this.inp_variables[t]=p,u(t,p),m&&this.draw()}:f=(p,m=!0)=>{this.inp_variables[t]=p,m&&this.draw()};let g=this.buttonHandler.try_add_toggle(t,n,s,l,f);this.inp_setter[t]=g}button_click(t,n,s,l){if(this.init_button(),this.buttonHandler==null)throw Error("buttonHandler in Interactive class is undefined");let u=()=>{l(),this.draw()};this.buttonHandler.try_add_click(t,n,s,n,u)}button_click_hover(t,n,s,l,u){if(this.init_button(),this.buttonHandler==null)throw Error("buttonHandler in Interactive class is undefined");let f=()=>{u(),this.draw()};this.buttonHandler.try_add_click(t,n,s,l,f)}}function py(a,t){a!=null&&t!=null&&(a.setAttribute("viewBox",t.getAttribute("viewBox")),a.setAttribute("preserveAspectRatio",t.getAttribute("preserveAspectRatio")))}function F1(a,t=0,n=100,s=50,l){let u=document.createElement("input");return u.type="range",u.min=t.toString(),u.max=n.toString(),u.value=s.toString(),u.step=l.toString(),u.oninput=()=>{let f=u.value;a(parseFloat(f))},u.classList.add("diagramatics-slider"),u}function _y(a,t){if(t.length==0)return a;let n=1/0,s=t[0];for(let l=0;l<t.length;l++){let u=t[l].sub(a).length_sq();u<n&&(n=u,s=t[l])}return s}function Q1(a){let t=a.getScreenCTM(),n=a.width.baseVal.value,s=a.height.baseVal.value,l=a.viewBox.baseVal,u=n/l.width,f=s/l.height,g=Math.min(u,f),p=n/2-(l.width/2+l.x)*g,m=s/2-(l.height/2+l.y)*g;return DOMMatrix.fromMatrix(t).translate(p,m).scale(g)}function Y1(a,t){let n;return navigator.userAgent.toLowerCase().indexOf("firefox")>-1?n=Q1(t):n=t.getScreenCTM(),{x:(a.x-n.e)/n.a,y:-(a.y-n.f)/n.d}}function xd(a,t){window.TouchEvent&&a instanceof TouchEvent&&(a=a.touches[0]);let n={x:a.clientX,y:a.clientY};return Y1(n,t)}class yy{constructor(t,n,s){this.control_svg=t,this.diagram_svg=n,this.global_scale_factor=s,this.selectedElement=null,this.selectedVariable=null,this.mouseOffset=F(0,0),this.callbacks={},this.setter={},this.svg_elements={},this.blinking_circle_outers=[],this.first_touch_callback=null,this.element_pos={}}startDrag(t,n,s){this.selectedElement=s,this.selectedVariable=n;const l=this.global_scale_factor;t instanceof MouseEvent&&t.preventDefault(),window.TouchEvent&&t instanceof TouchEvent&&t.preventDefault();let u=xd(t,this.control_svg),f=F(u.x/l,u.y/l),g=this.element_pos[n];g&&(this.mouseOffset=g.sub(f)),this.handleBlinking()}drag(t){if(this.selectedElement==null||this.selectedVariable==null)return;t instanceof MouseEvent&&t.preventDefault(),window.TouchEvent&&t instanceof TouchEvent&&t.preventDefault();let n=xd(t,this.control_svg);const s=this.global_scale_factor;let l=F(n.x/s,n.y/s).add(this.mouseOffset);this.element_pos[this.selectedVariable]=l,this.setter[this.selectedVariable]!=null&&(l=this.setter[this.selectedVariable](l)),this.selectedVariable!=null&&(this.callbacks[this.selectedVariable]!=null&&this.callbacks[this.selectedVariable](l),this.setViewBox())}setViewBox(){this.control_svg.setAttribute("viewBox",this.diagram_svg.getAttribute("viewBox")),this.control_svg.setAttribute("preserveAspectRatio",this.diagram_svg.getAttribute("preserveAspectRatio"))}endDrag(t){this.selectedElement=null,this.selectedVariable=null}remove(t){var n;this.selectedVariable==t&&(this.selectedElement=null,this.selectedVariable=null),delete this.callbacks[t],delete this.setter[t],(n=this.svg_elements[t])===null||n===void 0||n.remove(),delete this.svg_elements[t],delete this.element_pos[t]}setPos(t,n){this.element_pos[t]=n,this.callbacks[t](n,!1)}registerCallback(t,n){this.callbacks[t]=n}registerSetter(t,n){this.setter[t]=n}addBlinkingCircleOuter(t){this.blinking_circle_outers.push(t)}handleBlinking(){if(this.blinking_circle_outers.length!=0){for(let t=0;t<this.blinking_circle_outers.length;t++)this.blinking_circle_outers[t].classList.remove("diagramatics-locator-blink");this.blinking_circle_outers=[],this.first_touch_callback!=null&&this.first_touch_callback()}}create_locator_diagram_svg(t,n,s){let l=document.createElementNS("http://www.w3.org/2000/svg","g");return Pn(this.control_svg,l,n.position(F(0,0)),!0,!1,qn(this.diagram_svg),this.global_scale_factor),l.style.cursor="pointer",l.setAttribute("overflow","visible"),s&&(l.classList.add("diagramatics-locator-blink"),this.addBlinkingCircleOuter(l)),this.svg_elements[t]?this.svg_elements[t].replaceWith(l):this.control_svg.appendChild(l),this.svg_elements[t]=l,this.element_pos[t],l}create_locator_circle_pointer_svg(t,n,s,l,u){let f=document.createElementNS("http://www.w3.org/2000/svg","g");f.setAttribute("overflow","visible"),f.style.cursor="pointer";let g=document.createElementNS("http://www.w3.org/2000/svg","circle"),p=document.createElementNS("http://www.w3.org/2000/svg","circle"),m=n*.4;g.setAttribute("r",n.toString()),g.setAttribute("fill",Oi(l,Ni)),g.setAttribute("fill-opacity","0.3137"),g.setAttribute("stroke","none"),g.classList.add("diagramatics-locator-outer"),u&&g.classList.add("diagramatics-locator-blink"),p.setAttribute("r",m.toString()),p.setAttribute("fill",Oi(l,Ni)),p.setAttribute("stroke","none"),p.classList.add("diagramatics-locator-inner");const b=this.global_scale_factor;return f.appendChild(g),f.appendChild(p),f.setAttribute("transform",`translate(${s.x*b},${-s.y*b})`),this.svg_elements[t]?this.svg_elements[t].replaceWith(f):this.control_svg.appendChild(f),this.svg_elements[t]=f,f}}var pn;(function(a){a.container="diagramatics-dnd-container",a.draggable="diagramatics-dnd-draggable",a.ghost="diagramatics-dnd-draggable-ghost"})(pn||(pn={}));class X1{constructor(t,n,s){this.dnd_svg=t,this.diagram_svg=n,this.global_scale_factor=s,this.containers={},this.draggables={},this.callbacks={},this.onclickstart_callback={},this.hoveredContainerName=null,this.draggedElementName=null,this.draggedElementGhost=null,this.dropped_outside_callback=null,this.move_validation_function=null,this.sort_content=!1,this.active_draggable_name=null,this.focus_padding=1,this.dom_to_id_map=new WeakMap}add_container(t,n,s,l){if(this.containers[t]!=null){this.replace_container_svg(t,n,s,l);return}this.containers[t]={name:t,diagram:n,position:n.origin,content:[],config:l??{type:"horizontal-uniform"},capacity:s??1}}generate_position_map(t,n,s,l){var u;const f=t[0].add(t[1]).scale(.5);switch(n.type){case"horizontal-uniform":{let p=(t[1].x-t[0].x)/s,m=t[0].x+p/2,b=f.y;return md(0,s).map(E=>F(m+p*E,b))}case"vertical-uniform":{let p=(t[1].y-t[0].y)/s,m=f.x,b=t[1].y-p/2;return md(0,s).map(E=>F(m,b-p*E))}case"grid":{let[g,p]=n.value,m=t[1].y-t[0].y,E=(t[1].x-t[0].x)/g,T=m/p,N=t[0].x+E/2,x=t[1].y-T/2;return md(0,s).map(I=>{let k=N+E*(I%g),st=x-T*Math.floor(I/g);return F(k,st)})}case"vertical":{const g=F(f.x,t[1].y),m=l.map(E=>{var T,N;return(N=(T=this.draggables[E])===null||T===void 0?void 0:T.diagram_size)!==null&&N!==void 0?N:[0,0]}).map(([E,T])=>Hs(E,T).mut());return Uv(m,n.padding).mut().move_origin("top-center").position(g).translate(F(0,-n.padding)).children.map(E=>E.origin)}case"horizontal":{const g=F(t[0].x,f.y),m=l.map(E=>{var T,N;return(N=(T=this.draggables[E])===null||T===void 0?void 0:T.diagram_size)!==null&&N!==void 0?N:[0,0]}).map(([E,T])=>Hs(E,T).mut());return zv(m,n.padding).mut().move_origin("center-left").position(g).translate(F(n.padding,0)).children.map(E=>E.origin)}case"flex-row":{const g=bo((u=n.padding)!==null&&u!==void 0?u:0),p=n.gap?bo(n.gap):g,m=t[1].x-t[0].x-g[1]-g[3],E=l.map(N=>{var x,I;return(I=(x=this.draggables[N])===null||x===void 0?void 0:x.diagram_size)!==null&&I!==void 0?I:[0,0]}).map(([N,x])=>Hs(N,x).mut());let T=j1(E,m,p[0],p[1],n.vertical_alignment,n.horizontal_alignment).mut();switch(n.horizontal_alignment){case"center":T=T.move_origin("top-center").position(F(f.x,t[1].y-g[0]));break;case"right":T=T.move_origin("top-right").position(F(t[1].x-g[1],t[1].y-g[0]));break;case"center":default:T=T.move_origin("top-left").position(F(t[0].x+g[3],t[1].y-g[0]))}return T.children.map(N=>N.origin)}default:return[]}}get_container_content_size(t){var n;const s=this.containers[t];if(s==null)return[NaN,NaN];const l=(n=s.config.padding)!==null&&n!==void 0?n:0,u=s.content.map(p=>{var m,b;return(b=(m=this.draggables[p])===null||m===void 0?void 0:m.diagram)!==null&&b!==void 0?b:nr()}),[f,g]=co(Xt(...u));return[f+2*l,g+2*l]}replace_draggable_svg(t,n){var s,l;let u=this.draggables[t];if(u==null)return;let f=(s=u.svgelement)===null||s===void 0?void 0:s.parentNode;f!=null&&((l=u.svgelement)===null||l===void 0||l.remove(),u.diagram=n,u.diagram_size=co(n),this.add_draggable_svg(t,n,f),this.reposition_container_content(u.container))}replace_container_svg(t,n,s,l){var u;let f=this.containers[t];if(f==null)return;const g=this.get_container_outer_g(t);g!=null&&((u=f.svgelement)===null||u===void 0||u.remove(),f.diagram=n,s&&(f.capacity=s),l&&(f.config=l),this.add_container_svg(t,n,g),this.reposition_container_content(t))}add_draggable_to_container(t,n,s){if(this.draggables[t]!=null){this.replace_draggable_svg(t,n),this.move_draggable_to_container(t,s,!0);return}const l=co(n);this.draggables[t]={name:t,diagram:n.mut(),diagram_size:l,position:n.origin,container:s},this.containers[s].content.push(t)}add_draggable_with_container(t,n,s){if(this.draggables[t]!=null){this.replace_draggable_svg(t,n);return}let l=`_container0_${t}`;s==null&&(s=this.diagram_container_from_draggable(n)),this.add_container(l,s);const u=co(n);this.containers[l].content.push(t),this.draggables[t]={name:t,diagram:n.mut(),diagram_size:u,position:n.origin,container:l}}remove_draggable(t){var n;for(let s in this.containers){const l=this.containers[s];l.content=l.content.filter(u=>u!=t)}(n=this.draggables[t].svgelement)===null||n===void 0||n.remove(),delete this.draggables[t]}registerCallback(t,n){this.callbacks[t]=n}register_clickstart_callback(t,n){this.onclickstart_callback[t]=n}register_dropped_outside_callback(t){this.dropped_outside_callback=t}register_move_validation_function(t){this.move_validation_function=t}setViewBox(){this.dnd_svg.setAttribute("viewBox",this.diagram_svg.getAttribute("viewBox")),this.dnd_svg.setAttribute("preserveAspectRatio",this.diagram_svg.getAttribute("preserveAspectRatio"))}drawSvg(){for(let t in this.containers){const n=this.containers[t];if(n?.svgelement==null){const l=document.createElementNS("http://www.w3.org/2000/svg","g");this.dnd_svg.append(l),this.add_container_svg(t,n.diagram,l)}const s=this.get_container_outer_g(t);if(s!=null)for(let l of n.content){const u=this.draggables[l];u?.svgelement||this.add_draggable_svg(l,u.diagram,s)}}for(let t in this.containers)this.reposition_container_content(t),this.reconfigure_container_tabindex(t)}getData(){let t=[];for(let n in this.containers)t.push({container:n,content:this.containers[n].content});return t}setData(t){try{for(let n of t)for(let s of n.content)this.try_move_draggable_to_container(s,n.container,!0)}catch{console.error("the data is not valid")}}diagram_container_from_draggable(t){return N1(...t.bounding_box()).move_origin(t.origin).strokedasharray([5])}register_tap_enter(t,n){t.onclick=s=>{n(!1)},t.onkeydown=s=>{s.key=="Enter"&&n(!0)}}tap_enter_draggable(t,n){var s,l,u;if(this.active_draggable_name==null){this.reset_picked_class(),this.active_draggable_name=t;let f=this.draggables[t];if(f.svgelement==null)return;f.svgelement.classList.add("picked"),n&&((l=(s=this.onclickstart_callback)[t])===null||l===void 0||l.call(s))}else if(t==this.active_draggable_name)this.reset_picked_class(),this.active_draggable_name=null;else{const f=(u=this.draggables[t])===null||u===void 0?void 0:u.container;f&&this.try_move_draggable_to_container(this.active_draggable_name,f),this.reset_picked_class(),this.active_draggable_name=null}}tap_enter_container(t){this.active_draggable_name!=null&&(this.try_move_draggable_to_container(this.active_draggable_name,t),this.active_draggable_name=null,this.reset_picked_class())}get_container_outer_g(t){var n;const s=this.containers[t];return(n=s?.svgelement)===null||n===void 0?void 0:n.parentNode}add_container_svg(t,n,s){let l=document.createElementNS("http://www.w3.org/2000/svg","g");Pn(this.dnd_svg,l,n.position(F(0,0)),!1,!1,qn(this.diagram_svg),this.global_scale_factor,pn.container);const u=this.global_scale_factor;let f=n.origin;l.setAttribute("transform",`translate(${f.x*u},${-f.y*u})`),l.setAttribute("class",pn.container),l.setAttribute("tabindex","0"),l.onmousedown=g=>{g.preventDefault()},this.register_tap_enter(l,()=>{this.tap_enter_container(t)}),s.prepend(l),this.containers[t].svgelement=l,this.dom_to_id_map.set(l,t),this.add_focus_rect(l,n)}add_draggable_svg(t,n,s){let l=document.createElementNS("http://www.w3.org/2000/svg","g");Pn(this.dnd_svg,l,n.position(F(0,0)),!0,!1,qn(this.diagram_svg),this.global_scale_factor,pn.draggable);const u=this.global_scale_factor;let f=n.origin;l.setAttribute("transform",`translate(${f.x*u},${-f.y*u})`),l.setAttribute("class",pn.draggable),l.setAttribute("draggable","true"),l.setAttribute("tabindex","0"),l.onmousedown=g=>{this.draggedElementName=t,this.startDrag(g)},l.ontouchstart=g=>{this.draggedElementName=t,this.tap_enter_draggable(t),this.startDrag(g)},this.register_tap_enter(l,g=>{this.tap_enter_draggable(t,g)}),s.append(l),this.draggables[t].svgelement=l,this.dom_to_id_map.set(l,t),this.add_focus_rect(l,n)}add_focus_rect(t,n){const s=n.position(F(0,0)).bounding_box(),l=this.focus_padding,u=this.global_scale_factor,f=s[1].x-s[0].x+2*l,g=s[1].y-s[0].y+2*l,p=document.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("width",(f*u).toString()),p.setAttribute("height",(g*u).toString()),p.setAttribute("x",((s[0].x-l)*u).toString()),p.setAttribute("y",((-s[1].y-l)*u).toString()),p.setAttribute("fill","none"),p.setAttribute("stroke","black"),p.setAttribute("stroke-width","1"),p.setAttribute("vector-effect","non-scaling-stroke"),p.setAttribute("class",kv),t.appendChild(p)}move_svg_draggable_to_container(t,n){var s;const l=(s=this.draggables[t])===null||s===void 0?void 0:s.svgelement;if(l==null)return;const u=this.get_container_outer_g(n);u?.appendChild(l)}reorder_svg_container_content(t){var n,s;const l=(n=this.containers[t])===null||n===void 0?void 0:n.content,u=this.get_container_outer_g(t);if(!(l==null||u==null))for(let f of l){const g=(s=this.draggables[f])===null||s===void 0?void 0:s.svgelement;g!=null&&u.appendChild(g)}}reconfigure_container_tabindex(t){var n,s,l,u;const f=this.containers[t];if(f!=null&&f.capacity==1)if(f.content.length==1){if((n=f.svgelement)===null||n===void 0||n.setAttribute("tabindex","-1"),f.svgelement==document.activeElement){const g=f.content[0];(l=(s=this.draggables[g])===null||s===void 0?void 0:s.svgelement)===null||l===void 0||l.focus()}}else(u=f.svgelement)===null||u===void 0||u.setAttribute("tabindex","0")}reorder_svg_container_tabindex(t){for(let n of t){const s=this.get_container_outer_g(n);s!=null&&this.dnd_svg.appendChild(s)}}reposition_container_content(t){var n,s,l,u;let f=this.containers[t];if(f==null)return;this.sort_content?(f.content.sort(),this.reorder_svg_container_content(t)):!((n=f.config)===null||n===void 0)&&n.sorting_function&&(f.content.sort(f.config.sorting_function),this.reorder_svg_container_content(t));const g=(s=f.config.custom_region_box)!==null&&s!==void 0?s:f.diagram.bounding_box(),p=this.generate_position_map(g,f.config,f.capacity,f.content),m=this.global_scale_factor;for(let b=0;b<f.content.length;b++){let E=this.draggables[f.content[b]],T=(l=p[b])!==null&&l!==void 0?l:f.diagram.origin;E.diagram=E.diagram.position(T),E.position=T,(u=E.svgelement)===null||u===void 0||u.setAttribute("transform",`translate(${T.x*m},${-T.y*m})`)}}remove_draggable_from_container(t,n){this.containers[n].content=this.containers[n].content.filter(s=>s!=t)}move_draggable_to_container(t,n,s=!1){let l=this.draggables[t];if(l==null||l.container==n)return;let u=this.containers[n],f=l.container;if(this.remove_draggable_from_container(t,f),l.container=n,u.content.push(t),this.move_svg_draggable_to_container(t,n),this.reposition_container_content(n),this.reposition_container_content(f),this.reconfigure_container_tabindex(n),this.reconfigure_container_tabindex(f),s)return;let g=this.draggables[t];this.callbacks[g.name](g.position)}try_move_draggable_to_container(t,n,s=!1){if(this.move_validation_function&&!this.move_validation_function(t,n))return;let l=this.draggables[t],u=this.containers[n];if(u.content.length+1<=u.capacity)this.move_draggable_to_container(t,n,s);else if(u.capacity==1){let f=l.container,g=u.content[0];this.move_draggable_to_container(t,n,!0),this.move_draggable_to_container(g,f,s)}}startDrag(t){var n,s;t instanceof MouseEvent&&t.preventDefault(),window.TouchEvent&&t instanceof TouchEvent&&t.preventDefault(),this.hoveredContainerName=null,this.reset_hovered_class();let l=this.dnd_svg.getElementsByClassName(pn.ghost);for(let f=0;f<l.length;f++)l[f].remove();if(this.draggedElementName==null)return;let u=this.draggables[this.draggedElementName];u.svgelement!=null&&(u.svgelement.classList.add("picked"),(s=(n=this.onclickstart_callback)[this.draggedElementName])===null||s===void 0||s.call(n),this.draggedElementGhost=u.svgelement.cloneNode(!0),this.draggedElementGhost.style.pointerEvents="none",this.draggedElementGhost.setAttribute("opacity","0.5"),this.draggedElementGhost.setAttribute("class",pn.ghost),this.dnd_svg.append(this.draggedElementGhost))}get_dnd_element_data_from_evt(t){let n=null;if(window.TouchEvent&&t instanceof TouchEvent){let l=t.touches[0];n=document.elementFromPoint(l.clientX,l.clientY)}else{const l=t;n=document.elementFromPoint(l.clientX,l.clientY)}if(n==null||(n.localName=="tspan"&&(n=n.parentElement),n==null))return null;let s=n.getAttribute("_dg_tag");if(s==null)return null;if(s==pn.container){let l=n.parentElement;if(l==null)return null;let u=this.dom_to_id_map.get(l);return u==null?null:{name:u,type:pn.container}}if(s==pn.draggable){let l=n.parentElement;if(l==null)return null;let u=this.dom_to_id_map.get(l);return u==null?null:{name:u,type:pn.draggable}}return null}drag(t){var n,s,l;if(this.draggedElementName==null||this.draggedElementGhost==null)return;t instanceof MouseEvent&&t.preventDefault(),window.TouchEvent&&t instanceof TouchEvent&&t.preventDefault(),this.reset_hovered_class();let u=this.get_dnd_element_data_from_evt(t);u==null?this.hoveredContainerName=null:u.type==pn.container?(this.hoveredContainerName=u.name,(n=this.containers[u.name].svgelement)===null||n===void 0||n.classList.add("hovered")):u.type==pn.draggable&&(this.hoveredContainerName=(s=this.draggables[u.name])===null||s===void 0?void 0:s.container,(l=this.draggables[u.name].svgelement)===null||l===void 0||l.classList.add("hovered"));let f=xd(t,this.dnd_svg);this.draggedElementGhost.setAttribute("transform",`translate(${f.x},${-f.y})`)}endDrag(t){this.hoveredContainerName!=null&&this.draggedElementName!=null&&this.try_move_draggable_to_container(this.draggedElementName,this.hoveredContainerName),this.hoveredContainerName==null&&this.draggedElementName!=null&&this.dropped_outside_callback!=null&&this.dropped_outside_callback(this.draggedElementName),this.draggedElementName=null,this.hoveredContainerName=null,this.reset_hovered_class(),this.reset_picked_class(),this.draggedElementGhost!=null&&(this.draggedElementGhost.remove(),this.draggedElementGhost=null)}reset_hovered_class(){var t,n;for(let s in this.containers)(t=this.containers[s].svgelement)===null||t===void 0||t.classList.remove("hovered");for(let s in this.draggables)(n=this.draggables[s].svgelement)===null||n===void 0||n.classList.remove("hovered")}reset_picked_class(){var t;for(let n in this.draggables)(t=this.draggables[n].svgelement)===null||t===void 0||t.classList.remove("picked")}}class K1{constructor(t,n,s){this.button_svg=t,this.diagram_svg=n,this.global_scale_factor=s,this.states={},this.svg_g_element={},this.touchdownName=null,this.focus_padding=1}remove(t){delete this.states[t];const n=this.svg_g_element[t];n?.remove(),delete this.svg_g_element[t]}try_add_toggle(t,n,s,l,u){let f=this.svg_g_element[t];return f?f.innerHTML="":(f=document.createElementNS("http://www.w3.org/2000/svg","g"),this.button_svg.appendChild(f)),this.add_toggle(t,n,s,l,f,u)}add_toggle(t,n,s,l,u,f){let g=document.createElementNS("http://www.w3.org/2000/svg","g");Pn(this.button_svg,g,s,!0,!1,qn(this.diagram_svg),this.global_scale_factor),g.setAttribute("overflow","visible"),g.style.cursor="pointer";let p=document.createElementNS("http://www.w3.org/2000/svg","g");Pn(this.button_svg,p,n,!0,!1,qn(this.diagram_svg),this.global_scale_factor),p.setAttribute("overflow","visible"),p.style.cursor="pointer",u.setAttribute("overflow","visible"),u.setAttribute("tabindex","0"),u.appendChild(p),u.appendChild(g),this.svg_g_element[t]=u,this.states[t]=l;const m=T=>{p.setAttribute("display",T?"block":"none"),g.setAttribute("display",T?"none":"block")};m(this.states[t]);const b=(T,N=!0)=>{this.states[t]=T,f(this.states[t],N),m(this.states[t])};return u.onmousedown=T=>{T.preventDefault()},u.onclick=T=>{T.preventDefault(),b(!this.states[t])},u.onkeydown=T=>{T.key=="Enter"&&b(!this.states[t])},T=>{b(T,!1)}}try_add_click(t,n,s,l,u){let f=this.svg_g_element[t];f?f.innerHTML="":(f=document.createElementNS("http://www.w3.org/2000/svg","g"),this.button_svg.appendChild(f)),this.add_click(t,n,s,l,f,u)}add_click(t,n,s,l,u,f){let g=document.createElementNS("http://www.w3.org/2000/svg","g");Pn(this.button_svg,g,n,!0,!1,qn(this.diagram_svg),this.global_scale_factor),g.setAttribute("overflow","visible"),g.style.cursor="pointer";let p=document.createElementNS("http://www.w3.org/2000/svg","g");Pn(this.button_svg,p,s,!0,!1,qn(this.diagram_svg),this.global_scale_factor),p.setAttribute("overflow","visible"),p.style.cursor="pointer";let m=document.createElementNS("http://www.w3.org/2000/svg","g");Pn(this.button_svg,m,l,!0,!1,qn(this.diagram_svg),this.global_scale_factor),m.setAttribute("overflow","visible"),m.style.cursor="pointer",u.setAttribute("class",q1),u.setAttribute("overflow","visible"),u.setAttribute("tabindex","0"),u.appendChild(g),u.appendChild(p),u.appendChild(m),this.add_focus_rect(u,n),this.svg_g_element[t]=u;const b=(x,I)=>{g.setAttribute("display",!x&&!I?"block":"none"),p.setAttribute("display",x?"block":"none"),m.setAttribute("display",I&&!x?"block":"none")};b(!1,!1);let E=!1,T=!1;const N=()=>{b(E,T)};u.onblur=x=>{T=!1,E=!1,N()},u.onmouseenter=x=>{T=!0,N()},u.onmouseleave=x=>{T=!1,E=!1,N()},u.onmousedown=x=>{x.preventDefault(),E=!0,N()},u.onmouseup=x=>{E=!1,N()},u.onclick=x=>{f(),T=!1,E=!1,N()},u.onkeydown=x=>{x.key=="Enter"&&(f(),E=!0,N())},u.onkeyup=x=>{E=!1,N()}}add_focus_rect(t,n){const s=n.bounding_box(),l=this.focus_padding,u=s[1].x-s[0].x+2*l,f=s[1].y-s[0].y+2*l,g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("width",u.toString()),g.setAttribute("height",f.toString()),g.setAttribute("x",(s[0].x-l).toString()),g.setAttribute("y",(-s[1].y-l).toString()),g.setAttribute("fill","none"),g.setAttribute("stroke","black"),g.setAttribute("stroke-width","1"),g.setAttribute("vector-effect","non-scaling-stroke"),g.setAttribute("class",kv),t.appendChild(g)}}var ln;(function(a){a[a.BeforeStart=0]="BeforeStart",a[a.EqualStart=1]="EqualStart",a[a.BetweenStartAndEnd=2]="BetweenStartAndEnd",a[a.EqualEnd=3]="EqualEnd",a[a.AfterEnd=4]="AfterEnd"})(ln||(ln={}));class $1{pointsSame(t,n){return this.pointsSameX(t,n)&&this.pointsSameY(t,n)}pointsCompare(t,n){return this.pointsSameX(t,n)?this.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1}}class Z1 extends $1{constructor(t=1e-10){super(),this.epsilon=t}pointAboveOrOnLine(t,n,s){const l=n[0],u=n[1],f=s[0],g=s[1],p=t[0],m=t[1];return(f-l)*(m-u)-(g-u)*(p-l)>=-this.epsilon}pointBetween(t,n,s){const l=t[1]-n[1],u=s[0]-n[0],f=t[0]-n[0],g=s[1]-n[1],p=f*u+l*g;if(p<this.epsilon)return!1;const m=u*u+g*g;return!(p-m>-this.epsilon)}pointsSameX(t,n){return Math.abs(t[0]-n[0])<this.epsilon}pointsSameY(t,n){return Math.abs(t[1]-n[1])<this.epsilon}pointsCollinear(t,n,s){const l=t[0]-n[0],u=t[1]-n[1],f=n[0]-s[0],g=n[1]-s[1];return Math.abs(l*g-f*u)<this.epsilon}linesIntersect(t,n,s,l){const u=n[0]-t[0],f=n[1]-t[1],g=l[0]-s[0],p=l[1]-s[1],m=u*p-f*g;if(Math.abs(m)<this.epsilon)return null;const b=t[0]-s[0],E=t[1]-s[1],T=(g*E-p*b)/m,N=(u*E-f*b)/m,x=k=>k<=-this.epsilon?ln.BeforeStart:k<this.epsilon?ln.EqualStart:k-1<=-this.epsilon?ln.BetweenStartAndEnd:k-1<this.epsilon?ln.EqualEnd:ln.AfterEnd,I=[t[0]+T*u,t[1]+T*f];return{alongA:x(T),alongB:x(N),p:I}}}class vy{constructor(){this.nodes=[]}remove(t){const n=this.nodes.indexOf(t);n>=0&&this.nodes.splice(n,1)}getIndex(t){return this.nodes.indexOf(t)}isEmpty(){return this.nodes.length<=0}getHead(){return this.nodes[0]}removeHead(){this.nodes.shift()}insertBefore(t,n){this.findTransition(t,n).insert(t)}findTransition(t,n){var s,l;const u=(p,m)=>n(m)-n(p);let f=0,g=this.nodes.length;for(;f<g;){const p=f+g>>1;u(this.nodes[p],t)>0?g=p:f=p+1}return{before:f<=0?null:(s=this.nodes[f-1])!==null&&s!==void 0?s:null,after:(l=this.nodes[f])!==null&&l!==void 0?l:null,insert:p=>(this.nodes.splice(f,0,p),p)}}}class ka{constructor(t,n,s,l){var u;this.otherFill=null,this.id=(u=l?.segmentId())!==null&&u!==void 0?u:-1,this.start=t,this.end=n,this.myFill={above:s?s.myFill.above:null,below:s?s.myFill.below:null}}}let by=class{constructor(t,n,s,l){this.status=null,this.isStart=t,this.p=n,this.seg=s,this.primary=l}};class Ey{constructor(t,n,s=null){this.events=new vy,this.status=new vy,this.selfIntersection=t,this.geo=n,this.log=s}compareEvents(t,n,s,l,u,f){const g=this.geo.pointsCompare(n,u);return g!==0?g:this.geo.pointsSame(s,f)?0:t!==l?t?1:-1:this.geo.pointAboveOrOnLine(s,l?u:f,l?f:u)?1:-1}addEvent(t){this.events.insertBefore(t,n=>n===t?0:this.compareEvents(t.isStart,t.p,t.other.p,n.isStart,n.p,n.other.p))}divideEvent(t,n){var s;const l=new ka(n,t.seg.end,t.seg,this.log);return(s=this.log)===null||s===void 0||s.segmentChop(t.seg,n),this.events.remove(t.other),t.seg.end=n,t.other.p=n,this.addEvent(t.other),this.addSegment(l,t.primary)}newSegment(t,n){const s=this.geo.pointsCompare(t,n);return s===0?null:s<0?new ka(t,n,null,this.log):new ka(n,t,null,this.log)}addSegment(t,n){const s=new by(!0,t.start,t,n),l=new by(!1,t.end,t,n);return s.other=l,l.other=s,this.addEvent(s),this.addEvent(l),s}addRegion(t){let n,s=t[t.length-1];for(let l=0;l<t.length;l++){n=s,s=t[l];const u=this.newSegment(n,s);u&&this.addSegment(u,!0)}}compareStatus(t,n){const s=t.seg.start,l=t.seg.end,u=n.seg.start,f=n.seg.end;return this.geo.pointsCollinear(s,u,f)?this.geo.pointsCollinear(l,u,f)||this.geo.pointAboveOrOnLine(l,u,f)?1:-1:this.geo.pointAboveOrOnLine(s,u,f)?1:-1}statusFindSurrounding(t){return this.status.findTransition(t,n=>n===t?0:-this.compareStatus(t,n))}checkIntersection(t,n){var s;const l=t.seg,u=n.seg,f=l.start,g=l.end,p=u.start,m=u.end;(s=this.log)===null||s===void 0||s.checkIntersection(l,u);const b=this.geo.linesIntersect(f,g,p,m);if(b===null){if(!this.geo.pointsCollinear(f,g,p)||this.geo.pointsSame(f,m)||this.geo.pointsSame(g,p))return null;const E=this.geo.pointsSame(f,p),T=this.geo.pointsSame(g,m);if(E&&T)return n;const N=!E&&this.geo.pointBetween(f,p,m),x=!T&&this.geo.pointBetween(g,p,m);if(E)return x?this.divideEvent(n,g):this.divideEvent(t,m),n;N&&(T||(x?this.divideEvent(n,g):this.divideEvent(t,m)),this.divideEvent(n,f))}else b.alongA===ln.BetweenStartAndEnd&&(b.alongB===ln.EqualStart?this.divideEvent(t,p):b.alongB===ln.BetweenStartAndEnd?this.divideEvent(t,b.p):b.alongB===ln.EqualEnd&&this.divideEvent(t,m)),b.alongB===ln.BetweenStartAndEnd&&(b.alongA===ln.EqualStart?this.divideEvent(n,f):b.alongA===ln.BetweenStartAndEnd?this.divideEvent(n,b.p):b.alongA===ln.EqualEnd&&this.divideEvent(n,g));return null}calculate(t,n){var s,l,u,f,g,p,m,b;const E=[];for(;!this.events.isEmpty();){const T=this.events.getHead();if((s=this.log)===null||s===void 0||s.vert(T.p[0]),T.isStart){(l=this.log)===null||l===void 0||l.segmentNew(T.seg,T.primary);const N=this.statusFindSurrounding(T),x=N.before,I=N.after;(u=this.log)===null||u===void 0||u.tempStatus(T.seg,x?x.seg:!1,I?I.seg:!1);const st=(()=>{if(x){const X=this.checkIntersection(T,x);if(X)return X}return I?this.checkIntersection(T,I):null})();if(st){if(this.selfIntersection){let X;T.seg.myFill.below===null?X=!0:X=T.seg.myFill.above!==T.seg.myFill.below,X&&(st.seg.myFill.above=!st.seg.myFill.above)}else st.seg.otherFill=T.seg.myFill;(f=this.log)===null||f===void 0||f.segmentUpdate(st.seg),this.events.remove(T.other),this.events.remove(T)}if(this.events.getHead()!==T){(g=this.log)===null||g===void 0||g.rewind(T.seg);continue}if(this.selfIntersection){let X;T.seg.myFill.below===null?X=!0:X=T.seg.myFill.above!==T.seg.myFill.below,I?T.seg.myFill.below=I.seg.myFill.above:T.seg.myFill.below=t,X?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){let X;if(!I)X=T.primary?n:t;else if(T.primary===I.primary){if(I.seg.otherFill===null)throw new Error("otherFill is null");X=I.seg.otherFill.above}else X=I.seg.myFill.above;T.seg.otherFill={above:X,below:X}}(p=this.log)===null||p===void 0||p.status(T.seg,x?x.seg:!1,I?I.seg:!1),T.other.status=N.insert(T)}else{const N=T.status;if(N===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");const x=this.status.getIndex(N);if(x>0&&x<this.status.nodes.length-1){const I=this.status.nodes[x-1],k=this.status.nodes[x+1];this.checkIntersection(I,k)}if((m=this.log)===null||m===void 0||m.statusRemove(N.seg),this.status.remove(N),!T.primary){if(!T.seg.otherFill)throw new Error("otherFill is null");const I=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=I}E.push(T.seg)}this.events.removeHead()}return(b=this.log)===null||b===void 0||b.done(),E}}function lo(a,t,n){const s=[];for(const l of a){const u=(l.myFill.above?8:0)+(l.myFill.below?4:0)+(l.otherFill&&l.otherFill.above?2:0)+(l.otherFill&&l.otherFill.below?1:0);if(t[u]!==0){const f=new ka(l.start,l.end,null,n);f.myFill.above=t[u]===1,f.myFill.below=t[u]===2,s.push(f)}}return n?.selected(s),s}class oo{static union(t,n){return lo(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)}static intersect(t,n){return lo(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)}static difference(t,n){return lo(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)}static differenceRev(t,n){return lo(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)}static xor(t,n){return lo(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}}function J1(a,t,n){const s=[],l=[];for(const p of a){let x=function(at,nt,tt){return N&&(N.index=at,N.matches_head=nt,N.matches_pt1=tt),N===E?(N=T,!1):(N=null,!0)},I=function(at){n?.chainReverse(at),s[at].reverse()},k=function(at,nt){const tt=s[at],w=s[nt];let R=tt[tt.length-1];const D=tt[tt.length-2],V=w[0],M=w[1];t.pointsCollinear(D,R,V)&&(n?.chainRemoveTail(at,R),tt.pop(),R=D),t.pointsCollinear(R,V,M)&&(n?.chainRemoveHead(nt,V),w.shift()),n?.chainJoin(at,nt),s[at]=tt.concat(w),s.splice(nt,1)};var u=x,f=I,g=k;const m=p.start,b=p.end;if(t.pointsSame(m,b)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");continue}n?.chainStart(p);const E={index:0,matches_head:!1,matches_pt1:!1},T={index:0,matches_head:!1,matches_pt1:!1};let N=E;for(let at=0;at<s.length;at++){const nt=s[at],tt=nt[0],w=nt[nt.length-1];if(t.pointsSame(tt,m)){if(x(at,!0,!0))break}else if(t.pointsSame(tt,b)){if(x(at,!0,!1))break}else if(t.pointsSame(w,m)){if(x(at,!1,!0))break}else if(t.pointsSame(w,b)&&x(at,!1,!1))break}if(N===E){s.push([m,b]),n?.chainNew(m,b);continue}if(N===T){n?.chainMatch(E.index);const at=E.index,nt=E.matches_pt1?b:m,tt=E.matches_head,w=s[at];let R=tt?w[0]:w[w.length-1];const D=tt?w[1]:w[w.length-2],V=tt?w[w.length-1]:w[0],M=tt?w[w.length-2]:w[1];if(t.pointsCollinear(D,R,nt)&&(tt?(n?.chainRemoveHead(E.index,nt),w.shift()):(n?.chainRemoveTail(E.index,nt),w.pop()),R=D),t.pointsSame(V,nt)){s.splice(at,1),t.pointsCollinear(M,V,R)&&(tt?(n?.chainRemoveTail(E.index,R),w.pop()):(n?.chainRemoveHead(E.index,R),w.shift())),n?.chainClose(E.index),l.push(w);continue}tt?(n?.chainAddHead(E.index,nt),w.unshift(nt)):(n?.chainAddTail(E.index,nt),w.push(nt));continue}const st=E.index,X=T.index;n?.chainConnect(st,X);const K=s[st].length<s[X].length;E.matches_head?T.matches_head?K?(I(st),k(st,X)):(I(X),k(X,st)):k(X,st):T.matches_head?k(st,X):K?(I(st),k(X,st)):(I(X),k(st,X))}return l}class W1{constructor(){this.list=[],this.nextSegmentId=0,this.curVert=NaN}push(t,n){this.list.push({type:t,data:JSON.parse(JSON.stringify(n))})}segmentId(){return this.nextSegmentId++}checkIntersection(t,n){this.push("check",{seg1:t,seg2:n})}segmentChop(t,n){this.push("div_seg",{seg:t,p:n}),this.push("chop",{seg:t,p:n})}statusRemove(t){this.push("pop_seg",{seg:t})}segmentUpdate(t){this.push("seg_update",{seg:t})}segmentNew(t,n){this.push("new_seg",{seg:t,primary:n})}tempStatus(t,n,s){this.push("temp_status",{seg:t,above:n,below:s})}rewind(t){this.push("rewind",{seg:t})}status(t,n,s){this.push("status",{seg:t,above:n,below:s})}vert(t){t!==this.curVert&&(this.push("vert",{x:t}),this.curVert=t)}selected(t){this.push("selected",{segs:t})}chainStart(t){this.push("chain_start",{seg:t})}chainRemoveHead(t,n){this.push("chain_rem_head",{index:t,p:n})}chainRemoveTail(t,n){this.push("chain_rem_tail",{index:t,p:n})}chainNew(t,n){this.push("chain_new",{p1:t,p2:n})}chainMatch(t){this.push("chain_match",{index:t})}chainClose(t){this.push("chain_close",{index:t})}chainAddHead(t,n){this.push("chain_add_head",{index:t,p:n})}chainAddTail(t,n){this.push("chain_add_tail",{index:t,p:n})}chainConnect(t,n){this.push("chain_con",{index1:t,index2:n})}chainReverse(t){this.push("chain_rev",{index:t})}chainJoin(t,n){this.push("chain_join",{index1:t,index2:n})}done(){this.push("done",null)}}class tT{constructor(t){this.log=null,this.geo=t}buildLog(t){var n;return this.log=t?new W1:null,(n=this.log)===null||n===void 0?void 0:n.list}segments(t){const n=new Ey(!0,this.geo,this.log);for(const s of t.regions)n.addRegion(s);return{segments:n.calculate(t.inverted,!1),inverted:t.inverted}}combine(t,n){const s=new Ey(!1,this.geo,this.log);for(const l of t.segments)s.addSegment(new ka(l.start,l.end,l,this.log),!0);for(const l of n.segments)s.addSegment(new ka(l.start,l.end,l,this.log),!1);return{combined:s.calculate(t.inverted,n.inverted),inverted1:t.inverted,inverted2:n.inverted}}selectUnion(t){return{segments:oo.union(t.combined,this.log),inverted:t.inverted1||t.inverted2}}selectIntersect(t){return{segments:oo.intersect(t.combined,this.log),inverted:t.inverted1&&t.inverted2}}selectDifference(t){return{segments:oo.difference(t.combined,this.log),inverted:t.inverted1&&!t.inverted2}}selectDifferenceRev(t){return{segments:oo.differenceRev(t.combined,this.log),inverted:!t.inverted1&&t.inverted2}}selectXor(t){return{segments:oo.xor(t.combined,this.log),inverted:t.inverted1!==t.inverted2}}polygon(t){return{regions:J1(t.segments,this.geo,this.log),inverted:t.inverted}}union(t,n){const s=this.segments(t),l=this.segments(n),u=this.combine(s,l),f=this.selectUnion(u);return this.polygon(f)}intersect(t,n){const s=this.segments(t),l=this.segments(n),u=this.combine(s,l),f=this.selectIntersect(u);return this.polygon(f)}difference(t,n){const s=this.segments(t),l=this.segments(n),u=this.combine(s,l),f=this.selectDifference(u);return this.polygon(f)}differenceRev(t,n){const s=this.segments(t),l=this.segments(n),u=this.combine(s,l),f=this.selectDifferenceRev(u);return this.polygon(f)}xor(t,n){const s=this.segments(t),l=this.segments(n),u=this.combine(s,l),f=this.selectXor(u);return this.polygon(f)}}new tT(new Z1);var Ty;(function(a){function t(n,s,l,u,f,g="outer-shadow",p,m,b=1){const E=(p-1)/2,T=(m-1)/2;return`
        <filter id="${g}" x="-${E*100}%" y="-${T*100}%" width="${p*100}%" height="${m*100}%">
            <feMorphology operator="dilate" radius="${l*b}" in="SourceAlpha" result="dilated" />
            <feGaussianBlur in="dilated" stdDeviation="${u*b}" />
            <feOffset dx="${n*b}" dy="${s*b}" result="offsetblur" />
            <feFlood flood-color="${f}" result="colorblur"/>
            <feComposite in="colorblur" in2="offsetblur" operator="in" result="shadow" />
            <feComposite in="shadow" in2="SourceAlpha" operator="out" result="clipped-shadow"/>
        </filter>
        `}a.outer_shadow=t})(Ty||(Ty={}));let Hr={bbox:void 0,xrange:[-2,2],yrange:[-2,2],xticks:void 0,yticks:void 0,n_sample:100,ticksize:.1,headsize:.05,tick_label_offset:0};function No(a){let t=Object.assign(Object.assign({},Hr),a);if(t.bbox==null){let[p,m]=t.xrange,[b,E]=t.yrange;t.bbox=[F(p,b),F(m,E)]}let[n,s]=t.bbox,[l,u]=t.xrange,[f,g]=t.yrange;return function(p){let m=n.x+(p.x-l)/(u-l)*(s.x-n.x),b=n.y+(p.y-f)/(g-f)*(s.y-n.y);return F(m,b)}}function eT(a){let t=Object.assign(Object.assign({},Hr),a);if(t.bbox==null){let[p,m]=t.xrange,[b,E]=t.yrange;t.bbox=[F(p,b),F(m,E)]}let[n,s]=t.bbox,l=n.x+(s.x-n.x)/(t.xrange[1]-t.xrange[0])*(0-t.xrange[0]),u=n.y+(s.y-n.y)/(t.yrange[1]-t.yrange[0])*(0-t.yrange[0]),f=gy(F(n.x,u),F(s.x,u),t.headsize).append_tags(Me.GRAPH_AXIS),g=gy(F(l,n.y),F(l,s.y),t.headsize).append_tags(Me.GRAPH_AXIS);return Xt(f,g).stroke("gray").fill("gray")}function nT(a,t,n){let s=Object.assign(Object.assign({},Hr),n),l=s.ticksize,u=No(s)(F(a,t));return jn(F(u.x,u.y+l/2),F(u.x,u.y-l/2)).stroke("gray").append_tags(Me.GRAPH_TICK)}function uo(a,t,n,s){let l=nT(a,t,s),u=Mo(n).move_origin_text("top-center").translate(l.get_anchor("bottom-center")).translate(F(0,-(s?.tick_label_offset||0))).textfill("gray").append_tags(Me.GRAPH_TICK_LABEL);return Xt(l,u)}function iT(a,t,n){let s=Object.assign(Object.assign({},Hr),n),l=s.ticksize,u=No(s)(F(t,a));return jn(F(u.x+l/2,u.y),F(u.x-l/2,u.y)).stroke("gray").append_tags(Me.GRAPH_TICK)}function fc(a,t,n,s){let l=iT(a,t,s),u=Mo(n).move_origin_text("center-right").translate(l.get_anchor("center-left")).translate(F(-(s?.tick_label_offset||0),0)).textfill("gray").append_tags(Me.GRAPH_TICK_LABEL);return Xt(l,u)}function sT(a,t){let n=Object.assign(Object.assign({},Hr),t),[s,l]=n.xrange,[u,f]=n.yrange,g=[],p=[];for(let E=0;E<a.length;E++){let T=a[E];T.x>=s&&T.x<=l&&T.y>=u&&T.y<=f?p.push(T):(p.length>1&&g.push(p),p=[])}p.length>1&&g.push(p);let m,b=g.map(E=>Fn(E));return b.length==1?m=b[0]:m=Xt(...b).stroke("black").fill("none"),m.transform(No(n))}function Bv(a,t){let n=Object.assign(Object.assign({},Hr),t),l=_1(...n.xrange,n.n_sample).map(u=>F(u,a(u)));return sT(l,t)}function rT(a,t,n,s){let l=Object.assign(Object.assign({},Hr),s),u=Object.assign({},l);return u.xrange=[t,n],u.bbox=void 0,Bv(a,u).add_points([F(n,0),F(t,0)]).to_polygon().transform(No(l))}function aT(a,t,n,s){n==null&&(n=F(0,0));let l=z1(a,s);if(t==""||t==null)return l;let u=Mo(t).position(a.add(n));return Xt(l,u)}function Hv(a,t,n=1,s){let[l,u,f]=a,g=l.sub(u),p=f.sub(u);s==null&&(s=F(0,0)),typeof s=="number"&&(s=g.normalize().add(p.normalize()).normalize().scale(s));let m=g.angle(),b=p.angle();b<m&&(b+=2*Math.PI);let E=L1(n,b-m).rotate(m).add_points([F(0,0)]).to_polygon();if(t==""||t==null)return E.position(u);let T=Mo(t).translate(s);return Xt(E,T).position(u)}function lT(a,t,n=1,s){let[l,u,f]=a,g=l.sub(u),p=f.sub(u),m=g.angle(),b=p.angle();b<m&&(b+=2*Math.PI);let T=b-m>Math.PI?[f,u,l]:[l,u,f];return Hv(T,t,n,s)}function oT(a,t=1){let[n,s,l]=a,u=n.sub(s).normalize().scale(t).add(s),f=l.sub(s).normalize().scale(t).add(s),g=F(u.x,f.y);return Fn([u,g,f])}function uT(a,t,n,s,l,u,f=!0){l=l??t.sub(a).length()/20,u=u??s*2;let g=a.equals(t)?F(0,0):t.sub(a).normalize(),p=F(g.y,-g.x),m=a.add(p.scale(s)),b=t.add(p.scale(s)),E=f?jn(m.sub(p.scale(l/2)),m.add(p.scale(l/2))):jn(m,m.sub(p.scale(l))),T=f?jn(b.sub(p.scale(l/2)),b.add(p.scale(l/2))):jn(b,b.sub(p.scale(l))),N=jn(m,b),x=Xt(N,E,T),I=a.add(t).scale(.5),k=Mo(n).position(I.add(p.scale(u)));return Xt(x,k)}function cT(a,t,n,s=1,l){let u=t.sub(a),f=Math.atan2(u.x,-u.y),g=a.add(t).scale(.5);l=l??s/2;let p=[];for(let b=0;b<n;b++){let E=jn(F(-s/2,b*l),F(s/2,b*l));p.push(E)}return Xt(...p).rotate(f).move_origin("center-center").position(g)}function hT(a,t,n,s=1,l,u=.5){let f=t.sub(a),g=Math.atan2(f.x,-f.y),p=a.add(t).scale(.5);l=l??s/2;let m=[],b=s/2*Math.cos(u);for(let T=0;T<n;T++){let N=F(0,T*l-b),x=jn(F(-s/2,T*l),N),I=jn(F(s/2,T*l),N);m.push(x.combine(I))}return Xt(...m).rotate(g).move_origin("center-center").position(p)}var on=Object.freeze({__proto__:null,angle:Hv,angle_smaller:lT,congruence_mark:cT,length:uT,parallel_mark:hT,right_angle:oT,vector:aT}),Ay;(function(a){a.ROWS="rows",a.COLUMNS="columns"})(Ay||(Ay={}));var Sy;(function(a){a.LINE="LINE"})(Sy||(Sy={}));function Lr(a){if(typeof a!="string"||!a.trim())return"$$";const t=a.trim(),n=t.indexOf("$"),s=t.lastIndexOf("$");if(n===-1)return t.includes("\\")?`$${t}$`:`$\\text{${t}}$`;if(n===s||n===0&&s===t.length-1)return t;const l=t.substring(0,n).trim(),u=t.substring(n+1,s).trim(),f=t.substring(s+1).trim();let g=[];return l&&g.push(`\\text{${l} }`),u&&g.push(u),f&&g.push(`\\text{ ${f}}`),`$${g.join(" ")}$`}function fT(a,t){let n=t.angle,s=t.angleLabel,l=t.isSmooth,u=t.showFBD,f=t.showGraviCompo,g=t.massLabel,p=t.normalLabel,m=t.fricLabel,b=t.graviLabel,E=t.perGraviLabel,T=t.parGraviLabel,N=(dt,St)=>MathJax.tex2svg(dt,St).innerHTML,x=1/Math.tan(Xe(n));x>1.7&&(x=1.7),a.innerHTML="",a.style.aspectRatio=x.toString();const I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.classList.add("diagramSvg"),I.style.aspectRatio=x.toString(),I.style.width="100%",a.appendChild(I);let k=(...dt)=>{Fc(I,Xt(...dt).fontscale(.014))};s=Lr(s);let st=s;g=Lr(g),b=Lr(b),p=Lr(p),m=Lr(m),T=Lr(T),E=Lr(E),l&&(m=""),u==!1&&(f==!1&&(b=""),p="",m=""),f==!1&&(st="",T="",E="");let X=Ys([F(0,0),F(10,0),F(10,10*Math.tan(Xe(n)))]).fill("white"),K=O1(2).move_origin("bottom-center").position(X.parametric_point(.5,2)).rotate(Xe(n)).fill("lightblue").stroke("none"),at=on.angle([F(1,0),F(0,0),F(1,Math.tan(Xe(n)))],s,2.4,1.8),nt=Xs(g).position(K.get_anchor("center-center")).translate(F(0,.3)),tt=.28,w;n>45?w=4:w=3;let R=on.vector(F(0,-.8*w),b,F(0,-.4),tt).position(K.get_anchor("center-center")).fill("blue").stroke("blue").opacity(0),D=on.vector(F(-w*Math.sin(Xe(n)),w*Math.cos(Xe(n))),p,F(0,.4),tt).position(K.origin).fill("blue").stroke("blue").opacity(0),V=on.vector(F(.3*w*Math.cos(Xe(n)),.3*w*Math.sin(Xe(n))),m,F(.5,-.4),tt).position(K.origin).fill("blue").stroke("blue").opacity(0);u==!0&&(R=R.opacity(1),D=D.opacity(1),l==!1&&(V=V.opacity(1)));let M=.8*w*Math.cos(Xe(n)),z=.8*w*Math.sin(Xe(n)),C=on.vector(F(M*Math.sin(Xe(n)),-M*Math.cos(Xe(n))),E,F(.4,-.4),tt),Nt=on.vector(F(-z*Math.cos(Xe(n)),-z*Math.sin(Xe(n))),T,F(-.25,-.4),tt),lt=Xt(C,Nt).position(K.get_anchor("center-center")).stroke("red").fill("red").opacity(0),H=Fn([F(-.12,-.12),F(.12,-.06),F(-.12,0),F(.12,.06),F(-.12,.12),F(.12,.18)]).position(R.origin).translate(F(0,-1.74)).stroke("red").opacity(0),rt=on.angle([F(0,-1),F(0,0),F(Math.sin(Xe(n)),-Math.cos(Xe(n)))],st,1.4,1.2).position(R.origin).fill("#ffffff96").opacity(0);f==!0&&(R=R.opacity(1),lt=lt.opacity(1),H=H.opacity(1),rt=rt.opacity(1)),k(D,K,X,at,nt,R,V,lt,H,rt),Vo(I,N)}function dT(a,t){const n=t.points,s=t.showDisplacement,l=t.showSectionLength;let u=(V,M)=>MathJax.tex2svg(V,M).innerHTML;const f=n.map(V=>V.x),g=Math.min(...f);let m=Math.max(...f)-g;const b=n.map(V=>V.y),E=Math.min(...b);let N=Math.max(...b)-E;m==0&&N!=0&&(m=N),N==0&&m!=0&&(N=.2*m),m==0&&N==0&&(m=10,N=10);const x=m/N;a.innerHTML="",a.style.aspectRatio=x.toString();const I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.classList.add("diagramSvg"),I.style.aspectRatio=x.toString(),I.style.width="100%",a.appendChild(I);let k=(...V)=>{Fc(I,Xt(...V))},st=n.map(V=>F(V.x,V.y)),X=Fn(st).strokewidth(3).stroke("blue").opacity(.5),K=[],at=[];n.forEach(V=>{let M=eg(.025*m).position(F(V.x,V.y)).fill("lightblue").stroke("white").strokewidth(3);if(K.push(M),V.label){let z=Xs(V.label).position(F(V.x,V.y)).fontfamily("mitr, sans-serif").fontsize(20).textstroke("white").textstrokewidth(1);at.push(z)}});let nt=n[n.length-1],tt=n[0],w=F(nt.x-tt.x,nt.y-tt.y),R=on.vector(w,"",F(0),.03*m).position(F(tt.x,tt.y)).fill("lightred").stroke("lightred").strokewidth(3).opacity(0);s&&w.length()!=0&&(R=R.opacity(1));let D=[];for(let V=0;V<n.length-1;V++){let M=F(n[V].x,n[V].y),z=F(n[V+1].x,n[V+1].y),C=Math.sqrt((n[V+1].x-n[V].x)**2+(n[V+1].y-n[V].y)**2).toFixed(0);D.push(on.length(M,z,C.toString(),.03*m,.03*m).opacity(0))}if(l)for(let V=0;V<D.length;V++)D[V]=D[V].opacity(1);k(X,...K,...D,R,...at),k(X,...K,...D,R,...at),Vo(I,u)}function gT(a,t){const n=t.u,s=t.a,l=t.t,u=t.direction,f=t.objectLabel,g=t.showAccel,p=t.showVelo,m=t.showDist,b=n*l+.5*s*l*l;let E=(M,z)=>MathJax.tex2svg(M,z).innerHTML,T=0,N=0;if(b>=0?T=b:N=b,s!=0){const M=-n/s;if(M>0&&M<l){const z=n*M+.5*s*M*M;z>=0&&z>T?T=z:z<0&&z<N&&(N=z)}}const x=T-N;let I;u=="horizontal"?I=4:I=1,a.innerHTML="",a.style.aspectRatio=I.toString();const k=document.createElementNS("http://www.w3.org/2000/svg","svg");k.classList.add("diagramSvg"),k.style.aspectRatio=I.toString(),k.style.width="100%",a.appendChild(k);const st=document.createElement("div");a.appendChild(st);let X=(...M)=>{Fc(k,Xt(...M))},K=new G1(st,k),at;u=="horizontal"?at=Hs(x,x/I).position(F((N+T)/2,0)):at=Hs(x*I,x).position(F(0,(N+T)/2)),at=at.scale(F(1.14,1.14)).strokewidth(0);let nt;u=="horizontal"?nt=Hs(.4*x,x/I).position(F(b,0)).strokewidth(0):nt=Hs(x*I,.4*x).position(F(0,b)).strokewidth(0);let tt=eg(.04*x).fill("lightblue").stroke("white").strokewidth(3),w=Xs(f).fontfamily("mitr, sans-serif").fontsize(16).textstroke("white").textstrokewidth(.4),R;u=="horizontal"?R=on.vector(F(.2*x*Math.sign(s),0),"a = "+s.toFixed(1)+" m/s²",F(-(.1*x*Math.sign(s)),.04*x),.02*x).fill("red").stroke("red").position(at.origin).translate(F(-(.1*x*Math.sign(s)),.06*x)):R=on.vector(F(0,.2*x*Math.sign(s)),"a = "+s.toFixed(1)+" m/s²",F(.12*x,-(.1*x*Math.sign(s))),.02*x).fill("red").stroke("red").position(at.origin).translate(F(.14*x,-(.1*x*Math.sign(s)))),(g==!1||s==0)&&(R=R.opacity(0));let D,V;K.draw_function=M=>{let z=M.t,C=n*z+.5*s*z*z,Nt=n+s*z,lt=.2*x/Math.max(Math.abs(n+s*l),Math.abs(n));u=="horizontal"?(tt=tt.position(F(C,-.03*x)),w=w.position(F(C,-.03*x))):(tt=tt.position(F(0,C)),w=w.position(F(0,C))),u=="horizontal"?D=on.vector(F(lt*Nt,0),Nt.toFixed(1)+" m/s",F(-(lt/2*Nt),.04*x),.02*x).fill("blue").stroke("blue").position(tt.origin):D=on.vector(F(0,lt*Nt),Nt.toFixed(1)+" m/s",F(.12*x,-(lt/2*Nt)),.02*x).fill("blue").stroke("blue").position(tt.origin),p==!1&&(D=D.opacity(0)),u=="horizontal"?V=on.length(F(0,-.03*x),tt.origin,"s = "+C.toFixed(1)+" m",.06*x*Math.sign(C),.03*x,.1*x*Math.sign(C)):V=on.length(F(0,0),tt.origin,"s = "+C.toFixed(1)+" m",-.1*x*Math.sign(C),.03*x,-.2*x*Math.sign(C)),(m==!1||C==0)&&(V=V.opacity(0)),X(at,nt,tt,w,R,D,V)},K.slider("t",0,l,0,l/1e3,l,(M,z)=>Gc(M)+" = "+z.toFixed(1)+" s"),K.draw(),K.draw(),Vo(k,E)}function mT(a,t){const n=t.graphSections,s=t.xLabel,l=t.yLabel,u=t.pointsToShowSlope,f=t.intervalsToShowArea;let g=(lt,H)=>MathJax.tex2svg(lt,H).innerHTML,p=n[0].domain.xStart,m=n[n.length-1].domain.xEnd,b=n[0].a*p*p+n[0].b*p+n[0].c,E=n[n.length-1].a*m*m+n[n.length-1].b*m+n[n.length-1].c;for(let lt=0;lt<n.length;lt++){let H=n[lt].domain.xStart,rt=n[lt].domain.xEnd;H<p&&(p=H),rt>m&&(m=rt);let dt=n[lt].a*H*H+n[lt].b*H+n[lt].c,St=n[lt].a*rt*rt+n[lt].b*rt+n[lt].c;dt<b&&(b=dt),St<b&&(b=St),dt>E&&(E=dt),St>E&&(E=St);let Ot=-n[lt].b/(2*n[lt].a);if(H<Ot&&Ot<rt){let L=n[lt].a*Ot*Ot+n[lt].b*Ot+n[lt].c;L<b&&(b=L),L>E&&(E=L)}}const T=2;a.innerHTML="",a.style.aspectRatio=T.toString();const N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.classList.add("diagramSvg"),N.style.aspectRatio=T.toString(),N.style.width="100%",a.appendChild(N);let x=(...lt)=>{Fc(N,Xt(...lt))},I={xrange:[p,m],yrange:[b,E],bbox:[F(-5*T,-5),F(5*T,5)],headsize:0,ticksize:.4,n_sample:500},k=No(I),st=eT(I),X=Fn([F(0,0),F(.8,0)]).position(k(F(m,0))),K=Fn([F(0,0),F(0,.8)]).position(k(F(0,E))),at=Xt(st,X,K).stroke("black").strokewidth(1.5),nt=lt=>{for(let H=0;H<n.length;H++)if(!(lt<n[H].domain.xStart||lt>n[H].domain.xEnd))return n[H].a*lt*lt+n[H].b*lt+n[H].c},tt=lt=>{for(let H=0;H<n.length;H++)if(!(lt<n[H].domain.xStart||lt>n[H].domain.xEnd))return 2*n[H].a*lt+n[H].b},w=Bv(nt,I).stroke("blue").strokewidth(3),R=Xs(s).position(k(F(m,0))).fontfamily("mitr, sans-serif").move_origin_text("center-left").translate(F(.4+.8,0)),D=Xs(l).position(k(F(0,E))).fontfamily("mitr, sans-serif").move_origin_text("bottom-center").translate(F(0,.4/T+.8)),V=Xt(R,D),M=[];for(let lt=0;lt<n.length;lt++){let H=n[lt].domain.xStart,rt=n[lt].domain.xEnd;M.push(uo(H,0,H.toString(),I)),M.push(uo(rt,0,rt.toString(),I));let dt=n[lt].a*H*H+n[lt].b*H+n[lt].c,St=n[lt].a*rt*rt+n[lt].b*rt+n[lt].c;M.push(fc(dt,0,dt.toString(),I)),M.push(fc(St,0,St.toString(),I))}let z=Fn([]),C=[];if(f){z=rT(nt,f.xStart,f.xEnd,I).fill("lightblue").opacity(.5).stroke("none"),C.push(uo(f.xStart,0,f.xStart.toString(),I)),C.push(uo(f.xEnd,0,f.xEnd.toString(),I));let lt=nt(f.xStart),H=nt(f.xEnd);C.push(fc(lt,0,lt.toString(),I)),C.push(fc(H,0,H.toString(),I))}let Nt=[];if(u)for(let lt=0;lt<u.length;lt++){let H=eg(.2).fill("lightred").strokewidth(0).position(k(F(u[lt],nt(u[lt])))),rt=Math.atan(tt(u[lt])),dt=k(F(u[lt]-Math.cos(rt),nt(u[lt])-Math.sin(rt))),Ot=k(F(u[lt]+Math.cos(rt),nt(u[lt])+Math.sin(rt))).sub(dt),L=Math.atan2(Ot.y,Ot.x),J=Fn([F(-1,0),F(1,0)]).rotate(L).strokewidth(3.5).stroke("red").position(k(F(u[lt],nt(u[lt])))),ct=Xt(J,H);Nt.push(ct),Nt.push(uo(u[lt],0,u[lt].toString(),I))}x(at,z,...C,w,...Nt,V,...M),x(at,z,...C,w,...Nt,V,...M),Vo(N,g)}function wy({objJson:a}){const t=$e.useRef(null);return $e.useEffect(()=>{a.name=="create_inclined_plane_diagram"?fT(t.current,a.parameters):a.name=="create_motion_path_diagram"?dT(t.current,a.parameters):a.name=="create_rectilinear_motion_animation"?gT(t.current,a.parameters):a.name=="create_polynomial_graph"?mT(t.current,a.parameters):t.current.innerHTML=""},[a]),ht.jsx("div",{ref:t,className:d1.diagram})}function pT({problem:a}){$e.useEffect(()=>{MathJax.typeset()},[a]);const n=cy(a.question).map((m,b)=>{if(m.type==="text")return ht.jsx("p",{children:m.text},b);if(m.type==="jsonObj")return ht.jsx(wy,{objJson:m.jsonObj},b)}),s=[];for(let m=0;m<a.choices.length;m++)s.push(ht.jsx("p",{children:m+1+". "+a.choices[m]},m));const l=ht.jsx("p",{children:"คำใบ้ : "+a.hint}),u=a.answer+1,f=ht.jsx("p",{children:"เฉลยหยาบ : "+u}),p=cy(a.solution).map((m,b)=>{if(m.type==="text")return ht.jsx("p",{children:m.text},b);if(m.type==="jsonObj")return ht.jsx(wy,{objJson:m.jsonObj},b)});return ht.jsxs("div",{className:h1.preview,children:[n,s,l,f,p]})}const _T="_editor_d8189_1",yT={editor:_T},vT=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(a){const t=[];let n=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},bT=function(a){const t=[];let n=0,s=0;for(;n<a.length;){const l=a[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],f=a[n++],g=a[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],f=a[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,g=f?a[l+1]:0,p=l+2<a.length,m=p?a[l+2]:0,b=u>>2,E=(u&3)<<4|g>>4;let T=(g&15)<<2|m>>6,N=m&63;p||(N=64,f||(T=64)),s.push(n[b],n[E],n[T],n[N])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(jv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):bT(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],g=l<a.length?n[a.charAt(l)]:0;++l;const m=l<a.length?n[a.charAt(l)]:64;++l;const E=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||g==null||m==null||E==null)throw new ET;const T=u<<2|g>>4;if(s.push(T),m!==64){const N=g<<4&240|m>>2;if(s.push(N),E!==64){const x=m<<6&192|E;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class ET extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TT=function(a){const t=jv(a);return qv.encodeByteArray(t,!0)},xc=function(a){return TT(a).replace(/\./g,"")},AT=function(a){try{return qv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=()=>ST().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof Ry>"u")return;const a=Ry.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},xT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&AT(a[1]);return t&&JSON.parse(t)},ng=()=>{try{return vT()||wT()||RT()||xT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},CT=a=>ng()?.emulatorHosts?.[a],DT=a=>{const t=CT(a);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Pv=()=>ng()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xc(JSON.stringify(n)),xc(JSON.stringify(f)),""].join(".")}const mo={};function OT(){const a={prod:[],emulator:[]};for(const t of Object.keys(mo))mo[t]?a.emulator.push(t):a.prod.push(t);return a}function IT(a){let t=document.getElementById(a),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),n=!0),{created:n,element:t}}let xy=!1;function LT(a,t){if(typeof window>"u"||typeof document>"u"||!ig(window.location.host)||mo[a]===t||mo[a]||xy)return;mo[a]=t;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=OT().prod.length>0;function f(){const T=document.getElementById(s);T&&T.remove()}function g(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{xy=!0,f()},T}function b(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=IT(s),N=n("text"),x=document.getElementById(N)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),st=n("preprendIcon"),X=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;g(K),b(k,I);const at=m();p(X,st),K.append(X,x,k,at),document.body.appendChild(K)}u?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){const a=ng()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kT(){return!UT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((a,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="FirebaseError";class $a extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=jT,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gv.prototype.create)}}class Gv{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?qT(u,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new $a(l,g,s)}}function qT(a,t){return a.replace(PT,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const PT=/\{\$([^}]+)}/g;function Cc(a,t){if(a===t)return!0;const n=Object.keys(a),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=a[l],f=t[l];if(Cy(u)&&Cy(f)){if(!Cc(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Cy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(a){return a&&a._delegate?a._delegate:a}class Eo{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new VT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QT(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FT(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FT(a){return a===zr?void 0:a}function QT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new GT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const XT={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},KT=Pt.INFO,$T={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},ZT=(a,t,...n)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=$T[t];if(l)console[l](`[${s}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fv{constructor(t){this.name=t,this._logLevel=KT,this._logHandler=ZT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const JT=(a,t)=>t.some(n=>a instanceof n);let Dy,Vy;function WT(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qv=new WeakMap,Cd=new WeakMap,Yv=new WeakMap,_d=new WeakMap,sg=new WeakMap;function eA(a){const t=new Promise((n,s)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(qs(a.result)),l()},f=()=>{s(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Qv.set(n,a)}).catch(()=>{}),sg.set(t,a),t}function nA(a){if(Cd.has(a))return;const t=new Promise((n,s)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Cd.set(a,t)}let Dd={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return Cd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Yv.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function iA(a){Dd=a(Dd)}function sA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=a.call(yd(this),t,...n);return Yv.set(s,t.sort?t.sort():[t]),qs(s)}:tA().includes(a)?function(...t){return a.apply(yd(this),t),qs(Qv.get(this))}:function(...t){return qs(a.apply(yd(this),t))}}function rA(a){return typeof a=="function"?sA(a):(a instanceof IDBTransaction&&nA(a),JT(a,WT())?new Proxy(a,Dd):a)}function qs(a){if(a instanceof IDBRequest)return eA(a);if(_d.has(a))return _d.get(a);const t=rA(a);return t!==a&&(_d.set(a,t),sg.set(t,a)),t}const yd=a=>sg.get(a);function aA(a,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(a,t),g=qs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qs(f.result),p.oldVersion,p.newVersion,qs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const lA=["get","getKey","getAll","getAllKeys","count"],oA=["put","add","delete","clear"],vd=new Map;function My(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(vd.get(t))return vd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=oA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||lA.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(g.shift())),(await Promise.all([m[n](...g),l&&p.done]))[0]};return vd.set(t,u),u}iA(a=>({...a,get:(t,n,s)=>My(t,n)||a.get(t,n,s),has:(t,n)=>!!My(t,n)||a.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cA(a){return a.getComponent()?.type==="VERSION"}const Vd="@firebase/app",Ny="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Fv("@firebase/app"),hA="@firebase/app-compat",fA="@firebase/analytics-compat",dA="@firebase/analytics",gA="@firebase/app-check-compat",mA="@firebase/app-check",pA="@firebase/auth",_A="@firebase/auth-compat",yA="@firebase/database",vA="@firebase/data-connect",bA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",AA="@firebase/installations",SA="@firebase/installations-compat",wA="@firebase/messaging",RA="@firebase/messaging-compat",xA="@firebase/performance",CA="@firebase/performance-compat",DA="@firebase/remote-config",VA="@firebase/remote-config-compat",MA="@firebase/storage",NA="@firebase/storage-compat",OA="@firebase/firestore",IA="@firebase/ai",LA="@firebase/firestore-compat",zA="firebase",UA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",kA={[Vd]:"fire-core",[hA]:"fire-core-compat",[dA]:"fire-analytics",[fA]:"fire-analytics-compat",[mA]:"fire-app-check",[gA]:"fire-app-check-compat",[pA]:"fire-auth",[_A]:"fire-auth-compat",[yA]:"fire-rtdb",[vA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[AA]:"fire-iid",[SA]:"fire-iid-compat",[wA]:"fire-fcm",[RA]:"fire-fcm-compat",[xA]:"fire-perf",[CA]:"fire-perf-compat",[DA]:"fire-rc",[VA]:"fire-rc-compat",[MA]:"fire-gcs",[NA]:"fire-gcs-compat",[OA]:"fire-fst",[LA]:"fire-fst-compat",[IA]:"fire-vertex","fire-js":"fire-js",[zA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,BA=new Map,Nd=new Map;function Oy(a,t){try{a.container.addComponent(t)}catch(n){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function Vc(a){const t=a.name;if(Nd.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,a);for(const n of Dc.values())Oy(n,a);for(const n of BA.values())Oy(n,a);return!0}function HA(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function jA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Gv("app","Firebase",qA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=UA;function Xv(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const s={name:Md,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Ps.create("bad-app-name",{appName:String(l)});if(n||(n=Pv()),!n)throw Ps.create("no-options");const u=Dc.get(l);if(u){if(Cc(n,u.options)&&Cc(s,u.config))return u;throw Ps.create("duplicate-app",{appName:l})}const f=new YT(l);for(const p of Nd.values())f.addComponent(p);const g=new PA(n,s,f);return Dc.set(l,g),g}function FA(a=Md){const t=Dc.get(a);if(!t&&a===Md&&Pv())return Xv();if(!t)throw Ps.create("no-app",{appName:a});return t}function Ba(a,t,n){let s=kA[a]??a;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(f.join(" "));return}Vc(new Eo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebase-heartbeat-database",YA=1,To="firebase-heartbeat-store";let bd=null;function Kv(){return bd||(bd=aA(QA,YA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(To)}catch(n){console.warn(n)}}}}).catch(a=>{throw Ps.create("idb-open",{originalErrorMessage:a.message})})),bd}async function XA(a){try{const n=(await Kv()).transaction(To),s=await n.objectStore(To).get($v(a));return await n.done,s}catch(t){if(t instanceof $a)ns.warn(t.message);else{const n=Ps.create("idb-get",{originalErrorMessage:t?.message});ns.warn(n.message)}}}async function Iy(a,t){try{const s=(await Kv()).transaction(To,"readwrite");await s.objectStore(To).put(t,$v(a)),await s.done}catch(n){if(n instanceof $a)ns.warn(n.message);else{const s=Ps.create("idb-set",{originalErrorMessage:n?.message});ns.warn(s.message)}}}function $v(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1024,$A=30;class ZA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ly();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$A){const l=tS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ly(),{heartbeatsToSend:n,unsentEntries:s}=JA(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function Ly(){return new Date().toISOString().substring(0,10)}function JA(a,t=KA){const n=[];let s=a.slice();for(const l of a){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),zy(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),zy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class WA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function zy(a){return xc(JSON.stringify({version:2,heartbeats:a})).length}function tS(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let s=1;s<a.length;s++)a[s].date<n&&(n=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(a){Vc(new Eo("platform-logger",t=>new uA(t),"PRIVATE")),Vc(new Eo("heartbeat",t=>new ZA(t),"PRIVATE")),Ba(Vd,Ny,a),Ba(Vd,Ny,"esm2020"),Ba("fire-js","")}eS("");var nS="firebase",iS="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ba(nS,iS,"app");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,Zv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,R){function D(){}D.prototype=R.prototype,w.F=R.prototype,w.prototype=new D,w.prototype.constructor=w,w.D=function(V,M,z){for(var C=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)C[Nt-2]=arguments[Nt];return R.prototype[M].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,R,D){D||(D=0);const V=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)V[M]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(M=0;M<16;++M)V[M]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=w.g[0],D=w.g[1],M=w.g[2];let z=w.g[3],C;C=R+(z^D&(M^z))+V[0]+3614090360&4294967295,R=D+(C<<7&4294967295|C>>>25),C=z+(M^R&(D^M))+V[1]+3905402710&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(D^z&(R^D))+V[2]+606105819&4294967295,M=z+(C<<17&4294967295|C>>>15),C=D+(R^M&(z^R))+V[3]+3250441966&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(z^D&(M^z))+V[4]+4118548399&4294967295,R=D+(C<<7&4294967295|C>>>25),C=z+(M^R&(D^M))+V[5]+1200080426&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(D^z&(R^D))+V[6]+2821735955&4294967295,M=z+(C<<17&4294967295|C>>>15),C=D+(R^M&(z^R))+V[7]+4249261313&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(z^D&(M^z))+V[8]+1770035416&4294967295,R=D+(C<<7&4294967295|C>>>25),C=z+(M^R&(D^M))+V[9]+2336552879&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(D^z&(R^D))+V[10]+4294925233&4294967295,M=z+(C<<17&4294967295|C>>>15),C=D+(R^M&(z^R))+V[11]+2304563134&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(z^D&(M^z))+V[12]+1804603682&4294967295,R=D+(C<<7&4294967295|C>>>25),C=z+(M^R&(D^M))+V[13]+4254626195&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(D^z&(R^D))+V[14]+2792965006&4294967295,M=z+(C<<17&4294967295|C>>>15),C=D+(R^M&(z^R))+V[15]+1236535329&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(M^z&(D^M))+V[1]+4129170786&4294967295,R=D+(C<<5&4294967295|C>>>27),C=z+(D^M&(R^D))+V[6]+3225465664&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(z^R))+V[11]+643717713&4294967295,M=z+(C<<14&4294967295|C>>>18),C=D+(z^R&(M^z))+V[0]+3921069994&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(D^M))+V[5]+3593408605&4294967295,R=D+(C<<5&4294967295|C>>>27),C=z+(D^M&(R^D))+V[10]+38016083&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(z^R))+V[15]+3634488961&4294967295,M=z+(C<<14&4294967295|C>>>18),C=D+(z^R&(M^z))+V[4]+3889429448&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(D^M))+V[9]+568446438&4294967295,R=D+(C<<5&4294967295|C>>>27),C=z+(D^M&(R^D))+V[14]+3275163606&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(z^R))+V[3]+4107603335&4294967295,M=z+(C<<14&4294967295|C>>>18),C=D+(z^R&(M^z))+V[8]+1163531501&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(D^M))+V[13]+2850285829&4294967295,R=D+(C<<5&4294967295|C>>>27),C=z+(D^M&(R^D))+V[2]+4243563512&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(z^R))+V[7]+1735328473&4294967295,M=z+(C<<14&4294967295|C>>>18),C=D+(z^R&(M^z))+V[12]+2368359562&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(D^M^z)+V[5]+4294588738&4294967295,R=D+(C<<4&4294967295|C>>>28),C=z+(R^D^M)+V[8]+2272392833&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^D)+V[11]+1839030562&4294967295,M=z+(C<<16&4294967295|C>>>16),C=D+(M^z^R)+V[14]+4259657740&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(D^M^z)+V[1]+2763975236&4294967295,R=D+(C<<4&4294967295|C>>>28),C=z+(R^D^M)+V[4]+1272893353&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^D)+V[7]+4139469664&4294967295,M=z+(C<<16&4294967295|C>>>16),C=D+(M^z^R)+V[10]+3200236656&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(D^M^z)+V[13]+681279174&4294967295,R=D+(C<<4&4294967295|C>>>28),C=z+(R^D^M)+V[0]+3936430074&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^D)+V[3]+3572445317&4294967295,M=z+(C<<16&4294967295|C>>>16),C=D+(M^z^R)+V[6]+76029189&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(D^M^z)+V[9]+3654602809&4294967295,R=D+(C<<4&4294967295|C>>>28),C=z+(R^D^M)+V[12]+3873151461&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^D)+V[15]+530742520&4294967295,M=z+(C<<16&4294967295|C>>>16),C=D+(M^z^R)+V[2]+3299628645&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(M^(D|~z))+V[0]+4096336452&4294967295,R=D+(C<<6&4294967295|C>>>26),C=z+(D^(R|~M))+V[7]+1126891415&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~D))+V[14]+2878612391&4294967295,M=z+(C<<15&4294967295|C>>>17),C=D+(z^(M|~R))+V[5]+4237533241&4294967295,D=M+(C<<21&4294967295|C>>>11),C=R+(M^(D|~z))+V[12]+1700485571&4294967295,R=D+(C<<6&4294967295|C>>>26),C=z+(D^(R|~M))+V[3]+2399980690&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~D))+V[10]+4293915773&4294967295,M=z+(C<<15&4294967295|C>>>17),C=D+(z^(M|~R))+V[1]+2240044497&4294967295,D=M+(C<<21&4294967295|C>>>11),C=R+(M^(D|~z))+V[8]+1873313359&4294967295,R=D+(C<<6&4294967295|C>>>26),C=z+(D^(R|~M))+V[15]+4264355552&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~D))+V[6]+2734768916&4294967295,M=z+(C<<15&4294967295|C>>>17),C=D+(z^(M|~R))+V[13]+1309151649&4294967295,D=M+(C<<21&4294967295|C>>>11),C=R+(M^(D|~z))+V[4]+4149444226&4294967295,R=D+(C<<6&4294967295|C>>>26),C=z+(D^(R|~M))+V[11]+3174756917&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~D))+V[2]+718787259&4294967295,M=z+(C<<15&4294967295|C>>>17),C=D+(z^(M|~R))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+R&4294967295,w.g[1]=w.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+M&4294967295,w.g[3]=w.g[3]+z&4294967295}s.prototype.v=function(w,R){R===void 0&&(R=w.length);const D=R-this.blockSize,V=this.C;let M=this.h,z=0;for(;z<R;){if(M==0)for(;z<=D;)l(this,w,z),z+=this.blockSize;if(typeof w=="string"){for(;z<R;)if(V[M++]=w.charCodeAt(z++),M==this.blockSize){l(this,V),M=0;break}}else for(;z<R;)if(V[M++]=w[z++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var R=1;R<w.length-8;++R)w[R]=0;R=this.o*8;for(var D=w.length-8;D<w.length;++D)w[D]=R&255,R/=256;for(this.v(w),w=Array(16),R=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)w[R++]=this.g[D]>>>V&255;return w};function u(w,R){var D=g;return Object.prototype.hasOwnProperty.call(D,w)?D[w]:D[w]=R(w)}function f(w,R){this.h=R;const D=[];let V=!0;for(let M=w.length-1;M>=0;M--){const z=w[M]|0;V&&z==R||(D[M]=z,V=!1)}this.g=D}var g={};function p(w){return-128<=w&&w<128?u(w,function(R){return new f([R|0],R<0?-1:0)}):new f([w|0],w<0?-1:0)}function m(w){if(isNaN(w)||!isFinite(w))return E;if(w<0)return k(m(-w));const R=[];let D=1;for(let V=0;w>=D;V++)R[V]=w/D|0,D*=4294967296;return new f(R,0)}function b(w,R){if(w.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w.charAt(0)=="-")return k(b(w.substring(1),R));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(R,8));let V=E;for(let z=0;z<w.length;z+=8){var M=Math.min(8,w.length-z);const C=parseInt(w.substring(z,z+M),R);M<8?(M=m(Math.pow(R,M)),V=V.j(M).add(m(C))):(V=V.j(D),V=V.add(m(C)))}return V}var E=p(0),T=p(1),N=p(16777216);a=f.prototype,a.m=function(){if(I(this))return-k(this).m();let w=0,R=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);w+=(V>=0?V:4294967296+V)*R,R*=4294967296}return w},a.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x(this))return"0";if(I(this))return"-"+k(this).toString(w);const R=m(Math.pow(w,6));var D=this;let V="";for(;;){const M=at(D,R).g;D=st(D,M.j(R));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(w);if(D=M,x(D))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},a.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function x(w){if(w.h!=0)return!1;for(let R=0;R<w.g.length;R++)if(w.g[R]!=0)return!1;return!0}function I(w){return w.h==-1}a.l=function(w){return w=st(this,w),I(w)?-1:x(w)?0:1};function k(w){const R=w.g.length,D=[];for(let V=0;V<R;V++)D[V]=~w.g[V];return new f(D,~w.h).add(T)}a.abs=function(){return I(this)?k(this):this},a.add=function(w){const R=Math.max(this.g.length,w.g.length),D=[];let V=0;for(let M=0;M<=R;M++){let z=V+(this.i(M)&65535)+(w.i(M)&65535),C=(z>>>16)+(this.i(M)>>>16)+(w.i(M)>>>16);V=C>>>16,z&=65535,C&=65535,D[M]=C<<16|z}return new f(D,D[D.length-1]&-2147483648?-1:0)};function st(w,R){return w.add(k(R))}a.j=function(w){if(x(this)||x(w))return E;if(I(this))return I(w)?k(this).j(k(w)):k(k(this).j(w));if(I(w))return k(this.j(k(w)));if(this.l(N)<0&&w.l(N)<0)return m(this.m()*w.m());const R=this.g.length+w.g.length,D=[];for(var V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<w.g.length;M++){const z=this.i(V)>>>16,C=this.i(V)&65535,Nt=w.i(M)>>>16,lt=w.i(M)&65535;D[2*V+2*M]+=C*lt,X(D,2*V+2*M),D[2*V+2*M+1]+=z*lt,X(D,2*V+2*M+1),D[2*V+2*M+1]+=C*Nt,X(D,2*V+2*M+1),D[2*V+2*M+2]+=z*Nt,X(D,2*V+2*M+2)}for(w=0;w<R;w++)D[w]=D[2*w+1]<<16|D[2*w];for(w=R;w<2*R;w++)D[w]=0;return new f(D,0)};function X(w,R){for(;(w[R]&65535)!=w[R];)w[R+1]+=w[R]>>>16,w[R]&=65535,R++}function K(w,R){this.g=w,this.h=R}function at(w,R){if(x(R))throw Error("division by zero");if(x(w))return new K(E,E);if(I(w))return R=at(k(w),R),new K(k(R.g),k(R.h));if(I(R))return R=at(w,k(R)),new K(k(R.g),R.h);if(w.g.length>30){if(I(w)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var D=T,V=R;V.l(w)<=0;)D=nt(D),V=nt(V);var M=tt(D,1),z=tt(V,1);for(V=tt(V,2),D=tt(D,2);!x(V);){var C=z.add(V);C.l(w)<=0&&(M=M.add(D),z=C),V=tt(V,1),D=tt(D,1)}return R=st(w,M.j(R)),new K(M,R)}for(M=E;w.l(R)>=0;){for(D=Math.max(1,Math.floor(w.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=m(D),C=z.j(R);I(C)||C.l(w)>0;)D-=V,z=m(D),C=z.j(R);x(z)&&(z=T),M=M.add(z),w=st(w,C)}return new K(M,w)}a.B=function(w){return at(this,w).h},a.and=function(w){const R=Math.max(this.g.length,w.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)&w.i(V);return new f(D,this.h&w.h)},a.or=function(w){const R=Math.max(this.g.length,w.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)|w.i(V);return new f(D,this.h|w.h)},a.xor=function(w){const R=Math.max(this.g.length,w.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)^w.i(V);return new f(D,this.h^w.h)};function nt(w){const R=w.g.length+1,D=[];for(let V=0;V<R;V++)D[V]=w.i(V)<<1|w.i(V-1)>>>31;return new f(D,w.h)}function tt(w,R){const D=R>>5;R%=32;const V=w.g.length-D,M=[];for(let z=0;z<V;z++)M[z]=R>0?w.i(z+D)>>>R|w.i(z+D+1)<<32-R:w.i(z+D);return new f(M,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Zv=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=b,Gs=f}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jv,ho,Wv,bc,Od,t0,e0,n0;(function(){var a,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,_){if(_)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break t;v=v[j]}c=c[c.length-1],S=v[c],_=_(S),_!=S&&_!=null&&t(v,c,{configurable:!0,writable:!0,value:_})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(_){var v=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&v.push([S,_[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function p(c,_,v){return c.call.apply(c.bind,arguments)}function m(c,_,v){return m=p,m.apply(null,arguments)}function b(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function E(c,_){function v(){}v.prototype=_.prototype,c.Z=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,j,Q){for(var ot=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ot[xt-2]=arguments[xt];return _.prototype[j].apply(S,ot)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const _=c.length;if(_>0){const v=Array(_);for(let S=0;S<_;S++)v[S]=c[S];return v}return[]}function x(c,_){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const Q=j.length||0;c.length=v+Q;for(let ot=0;ot<Q;ot++)c[v+ot]=j[ot]}else c.push(j)}}class I{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(c){f.setTimeout(()=>{throw c},0)}function st(){var c=w;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class X{constructor(){this.h=this.g=null}add(_,v){const S=K.get();S.set(_,v),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new I(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,tt=!1,w=new X,R=()=>{const c=Promise.resolve(void 0);nt=()=>{c.then(D)}};function D(){for(var c;c=st();){try{c.h.call(c.g)}catch(v){k(v)}var _=K;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,_),f.removeEventListener("test",v,_)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Nt(c,_){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}E(Nt,M),Nt.prototype.init=function(c,_){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),H=0;function rt(c,_,v,S,j){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!S,this.ha=j,this.key=++H,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function St(c,_,v){for(const S in c)_.call(v,c[S],S,c)}function Ot(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function L(c){const _={};for(const v in c)_[v]=c[v];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(c,_){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let Q=0;Q<J.length;Q++)v=J[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function gt(c){this.src=c,this.g={},this.h=0}gt.prototype.add=function(c,_,v,S,j){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ot=Vt(c,_,S,j);return ot>-1?(_=c[ot],v||(_.fa=!1)):(_=new rt(_,this.src,Q,!!S,j),_.fa=v,c.push(_)),_};function Tt(c,_){const v=_.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,_,void 0),Q;(Q=j>=0)&&Array.prototype.splice.call(S,j,1),Q&&(dt(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Vt(c,_,v,S){for(let j=0;j<c.length;++j){const Q=c[j];if(!Q.da&&Q.listener==_&&Q.capture==!!v&&Q.ha==S)return j}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Ne={};function oe(c,_,v,S,j){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)oe(c,_[Q],v,S,j);return null}return v=il(v),c&&c[lt]?c.J(_,v,g(S)?!!S.capture:!1,j):sr(c,_,v,!1,S,j)}function sr(c,_,v,S,j,Q){if(!_)throw Error("Invalid event type");const ot=g(j)?!!j.capture:!!j;let xt=rr(c);if(xt||(c[jt]=xt=new gt(c)),v=xt.add(_,v,S,ot,Q),v.proxy)return v;if(S=Gr(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)z||(j=ot),j===void 0&&(j=!1),c.addEventListener(_.toString(),S,j);else if(c.attachEvent)c.attachEvent(ri(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gr(){function c(v){return _.call(c.src,c.listener,v)}const _=el;return c}function Fr(c,_,v,S,j){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Fr(c,_[Q],v,S,j);else S=g(S)?!!S.capture:!!S,v=il(v),c&&c[lt]?(c=c.i,Q=String(_).toString(),Q in c.g&&(_=c.g[Q],v=Vt(_,v,S,j),v>-1&&(dt(_[v]),Array.prototype.splice.call(_,v,1),_.length==0&&(delete c.g[Q],c.h--)))):c&&(c=rr(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Vt(_,v,S,j)),(v=c>-1?_[c]:null)&&Qr(v))}function Qr(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[lt])Tt(_.i,c);else{var v=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(v,S,c.capture):_.detachEvent?_.detachEvent(ri(v),S):_.addListener&&_.removeListener&&_.removeListener(S),(v=rr(_))?(Tt(v,c),v.h==0&&(v.src=null,_[jt]=null)):dt(c)}}}function ri(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function el(c,_){if(c.da)c=!0;else{_=new Nt(_,this);const v=c.listener,S=c.ha||c.src;c.fa&&Qr(c),c=v.call(S,_)}return c}function rr(c){return c=c[jt],c instanceof gt?c:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(_){return c.handleEvent(_)}),c[nl])}function be(){V.call(this),this.i=new gt(this),this.M=this,this.G=null}E(be,V),be.prototype[lt]=!0,be.prototype.removeEventListener=function(c,_,v,S){Fr(this,c,_,v,S)};function Oe(c,_){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new M(_,c);else if(_ instanceof M)_.target=_.target||c;else{var j=_;_=new M(S,c),ct(_,j)}j=!0;let Q,ot;if(v)for(ot=v.length-1;ot>=0;ot--)Q=_.g=v[ot],j=rs(Q,S,!0,_)&&j;if(Q=_.g=c,j=rs(Q,S,!0,_)&&j,j=rs(Q,S,!1,_)&&j,v)for(ot=0;ot<v.length;ot++)Q=_.g=v[ot],j=rs(Q,S,!1,_)&&j}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const v=c.g[_];for(let S=0;S<v.length;S++)dt(v[S]);delete c.g[_],c.h--}}this.G=null},be.prototype.J=function(c,_,v,S){return this.i.add(String(c),_,!1,v,S)},be.prototype.K=function(c,_,v,S){return this.i.add(String(c),_,!0,v,S)};function rs(c,_,v,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let j=!0;for(let Q=0;Q<_.length;++Q){const ot=_[Q];if(ot&&!ot.da&&ot.capture==v){const xt=ot.listener,pe=ot.ha||ot.src;ot.fa&&Tt(c.i,ot),j=xt.call(pe,S)!==!1&&j}}return j&&!S.defaultPrevented}function ch(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:f.setTimeout(c,_||0)}function Uo(c){c.g=ch(()=>{c.g=null,c.i&&(c.i=!1,Uo(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class sn extends V{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(c){V.call(this),this.h=c,this.g={}}E(ar,V);var sl=[];function rl(c){St(c.g,function(_,v){this.g.hasOwnProperty(v)&&Qr(_)},c),c.g={}}ar.prototype.N=function(){ar.Z.N.call(this),rl(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=f.JSON.stringify,hh=f.JSON.parse,ko=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Bo(){}function Ho(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){M.call(this,"d")}E(qe,M);function Cn(){M.call(this,"c")}E(Cn,M);var me={},jo=null;function Yr(){return jo=jo||new be}me.Ia="serverreachability";function qo(c){M.call(this,me.Ia,c)}E(qo,M);function ai(c){const _=Yr();Oe(_,new qo(_))}me.STAT_EVENT="statevent";function lr(c,_){M.call(this,me.STAT_EVENT,c),this.stat=_}E(lr,M);function Ee(c){const _=Yr();Oe(_,new lr(_,c))}me.Ja="timingevent";function li(c,_){M.call(this,me.Ja,c),this.size=_}E(li,M);function oi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},_)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function fh(c,_,v,S,j,Q){c.info(function(){if(c.g)if(Q){var ot="",xt=Q.split("&");for(let Qt=0;Qt<xt.length;Qt++){var pe=xt[Qt].split("=");if(pe.length>1){const ue=pe[0];pe=pe[1];const Nn=ue.split("_");ot=Nn.length>=2&&Nn[1]=="type"?ot+(ue+"="+pe+"&"):ot+(ue+"=redacted&")}}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+_+`
`+v+`
`+ot})}function Po(c,_,v,S,j,Q,ot){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+_+`
`+v+`
`+Q+" "+ot})}function ui(c,_,v,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+dh(c,v)+(S?" "+S:"")})}function or(c,_){c.info(function(){return"TIMEOUT: "+_})}Yn.prototype.info=function(){};function dh(c,_){if(!c.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ot=1;ot<S.length;ot++)S[ot]=""}}}}return as(Q)}catch{return _}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function cr(){}E(cr,Bo),cr.prototype.g=function(){return new XMLHttpRequest},ll=new cr;function zi(c){return encodeURIComponent(String(c))}function Go(c){var _=1;c=c.split(":");const v=[];for(;_>0&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function Xn(c,_,v,S){this.j=c,this.i=_,this.l=v,this.S=S||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Te={},Ue={};function ci(c,_,v){c.M=1,c.A=hr(Se(_)),c.u=v,c.R=!0,Xr(c,null)}function Xr(c,_){c.F=Date.now(),hi(c),c.B=Se(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Jr(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Kn,c.g=ru(c.j,v?_:null,!c.u),c.P>0&&(c.O=new sn(m(c.Y,c,c.g),c.P)),_=c.V,v=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(sl[0]=j.toString()),j=sl);for(let Q=0;Q<j.length;Q++){const ot=oe(v,j[Q],S||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=c.J?L(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),ai(),fh(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const _=this.O;_&&Jn(c)==3?_.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)t:{const xt=Jn(this.g),pe=this.g.ya(),Qt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||xt!=4||pe==7||(pe==8||Qt<=0?ai(3):ai(2)),fi(this);var _=this.g.ca();this.X=_;var v=gh(this);if(this.o=_==200,Po(this.i,this.v,this.B,this.l,this.S,xt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Q=S;break e}}Q=null}if(c=Q)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Ee(12),yn(this),Dn(this);break t}}if(this.R){c=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=Qo(this,v),ue==Ue){xt==4&&(this.m=4,Ee(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Te){this.m=4,Ee(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ue,null),di(this,ue);if(Fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Tl(ot),ot.P=!0,Ee(11))}}else ui(this.i,this.l,v,null),di(this,v);xt==4&&yn(this),this.o&&!this.K&&(xt==4?eu(this.j,this):(this.o=!1,hi(this)))}else ki(this.g),_==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),yn(this),Dn(this)}}}catch{}finally{}};function gh(c){if(!Fo(c))return c.g.la();const _=Pe(c.g);if(_==="")return"";let v="";const S=_.length,j=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(_[Q],{stream:!(j&&Q==S-1)});return _.length=0,c.h.g+=v,c.C=0,c.h.g}function Fo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Qo(c,_){var v=c.C,S=_.indexOf(`
`,v);return S==-1?Ue:(v=Number(_.substring(v,S)),isNaN(v)?Te:(S+=1,S+v>_.length?Ue:(_=_.slice(S,S+v),c.C=S+v,_)))}Xn.prototype.cancel=function(){this.K=!0,yn(this)};function hi(c){c.T=Date.now()+c.H,Kr(c,c.H)}function Kr(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(m(c.aa,c),_)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(or(this.i,this.B),this.M!=2&&(ai(),Ee(17)),yn(this),this.m=2,Dn(this)):Kr(this,this.T-c)};function Dn(c){c.j.I==0||c.K||eu(c.j,c)}function yn(c){fi(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,rl(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function di(c,_){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ia(v),gs(v);else break t;yr(v),Ee(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(m(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&ia(v),!C(_))for(j=v.Ba.g.parse(_),_=0;_<j.length;_++){let Qt=j[_];const ue=Qt[0];if(!(ue<=v.K))if(v.K=ue,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Nn=Qt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ti=Qt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Wn=Qt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ti=c.g;if(ti){const vr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var Q=S.h;Q.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(cl(Q,Q.h),Q.h=null))}if(S.G){const sa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(S.wa=sa,$t(S.J,S.G,sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ot=c;if(S.na=su(S,S.L?S.ba:null,S.W),ot.L){hl(S.h,ot);var xt=ot,pe=S.O;pe&&(xt.H=pe),xt.D&&(fi(xt),hi(xt)),S.g=ot}else Wo(S);v.i.length>0&&bi(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ei(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ei(v,7):bl(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}ai(4)}catch{}}var Ae=class{constructor(c,_){this.g=c,this.map=_}};function ol(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function mi(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function cl(c,_){c.g?c.g.add(_):c.h=_}function hl(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}ol.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.G);return _}return N(c.i)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(c,_){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let j,Q=null;S>=0?(j=c[v].substring(0,S),Q=c[v].substring(S+1)):j=c[v],_(j,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof vn?(this.l=c.l,ke(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,dl(this,Zo(c.i)),this.m=c.m):c&&(_=String(c).match(Yo))?(this.l=!1,ke(this,_[1]||"",!0),this.o=pi(_[2]||""),this.g=pi(_[3]||"",!0),ls(this,_[4]),this.h=pi(_[5]||"",!0),dl(this,_[6]||"",!0),this.m=pi(_[7]||"")):(this.l=!1,this.i=new us(null,this.l))}vn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(fr(_,Zr,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(fr(_,Zr,!0),"@"),c.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(fr(v,v.charAt(0)=="/"?gl:Xo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",fr(v,Ko)),c.join("")},vn.prototype.resolve=function(c){const _=Se(this);let v=!!c.j;v?ke(_,c.j):v=!!c.o,v?_.o=c.o:v=!!c.g,v?_.g=c.g:v=c.u!=null;var S=c.h;if(v)ls(_,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=_.h.lastIndexOf("/");j!=-1&&(S=_.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const Q=[];for(let ot=0;ot<j.length;){const xt=j[ot++];xt=="."?S&&ot==j.length&&Q.push(""):xt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ot==j.length&&Q.push("")):(Q.push(xt),S=!0)}S=Q.join("/")}else S=j}return v?_.h=S:v=c.i.toString()!=="",v?dl(_,Zo(c.i)):v=!!c.m,v&&(_.m=c.m),_};function Se(c){return new vn(c)}function ke(c,_,v){c.j=v?pi(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function dl(c,_,v){_ instanceof us?(c.i=_,Wr(c.i,c.l)):(v||(_=fr(_,os)),c.i=new us(_,c.l))}function $t(c,_,v){c.i.set(_,v)}function hr(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fr(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zr=/[#\/\?@]/g,Xo=/[#\?:]/g,gl=/[#\?]/g,os=/[#\?@]/g,Ko=/#/g;function us(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&$r(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}a=us.prototype,a.add=function(c,_){cn(this),this.i=null,c=cs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function $o(c,_){cn(c),_=cs(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function ml(c,_){return cn(c),_=cs(c,_),c.g.has(_)}a.forEach=function(c,_){cn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(_,j,S,this)},this)},this)};function pl(c,_){cn(c);let v=[];if(typeof _=="string")ml(c,_)&&(v=v.concat(c.g.get(cs(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)v=v.concat(c[_]);return v}a.set=function(c,_){return cn(this),this.i=null,c=cs(this,c),ml(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},a.get=function(c,_){return c?(c=pl(this,c),c.length>0?String(c[0]):_):_};function Jr(c,_,v){$o(c,_),v.length>0&&(c.i=null,c.g.set(cs(c,_),N(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var v=_[S];const j=zi(v);v=pl(this,v);for(let Q=0;Q<v.length;Q++){let ot=j;v[Q]!==""&&(ot+="="+zi(v[Q])),c.push(ot)}}return this.i=c.join("&")};function Zo(c){const _=new us;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function cs(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Wr(c,_){_&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&($o(this,S),Jr(this,j,v))},c)),c.j=_}function $n(c,_){const v=new Yn;if(f.Image){const S=new Image;S.onload=b(Vn,v,"TestLoadImage: loaded",!0,_,S),S.onerror=b(Vn,v,"TestLoadImage: error",!1,_,S),S.onabort=b(Vn,v,"TestLoadImage: abort",!1,_,S),S.ontimeout=b(Vn,v,"TestLoadImage: timeout",!1,_,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function _l(c,_){const v=new Yn,S=new AbortController,j=setTimeout(()=>{S.abort(),Vn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(j),Q.ok?Vn(v,"TestPingServer: ok",!0,_):Vn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),Vn(v,"TestPingServer: error",!1,_)})}function Vn(c,_,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function hs(){this.g=new ko}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}E(_i,Bo),_i.prototype.g=function(){return new dr(this.i,this.h)};function dr(c,_){be.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(dr,be),a=dr.prototype,a.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Zn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||f).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?fs(this):Zn(this),this.readyState==3&&ta(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,fs(this))},a.Na=function(c){this.g&&(this.response=c,fs(this))},a.ga=function(){this.g&&fs(this)};function fs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}a.setRequestHeader=function(c,_){this.A.append(c,_)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let _="";return St(c,function(v,S){_+=S,_+=":",_+=v,_+=`\r
`}),_}function gr(c,_,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Mn(v),typeof c=="string"?v!=null&&zi(v):$t(c,_,v))}function Wt(c){be.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Wt,be);var yi=/^https?$/i,yl=["POST","PUT"];a=Wt.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,_,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Q){mr(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(yl,_,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of v)this.g.setRequestHeader(Q,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){mr(this,Q)}};function mr(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,vl(c),Ui(c)}function vl(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Wt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},a.Xa=function(){pr(this)};function pr(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const Q=c.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var v;if(!(v=_)){var S;if(S=Q===0){let ot=String(c.D).match(Yo)[1]||null;!ot&&f.self&&f.self.location&&(ot=f.self.location.protocol.slice(0,-1)),S=!yi.test(ot?ot.toLowerCase():"")}v=S}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var j=Jn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",vl(c)}}finally{Ui(c)}}}}function Ui(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,_||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),hh(_)}};function Pe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(c){const _={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=Go(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=_[j]||[];_[j]=Q,Q.push(v)}Ot(_,function(S){return S.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function ds(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(c&&c.concurrentRequestLimit),this.Ba=new hs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ds.prototype,a.ka=8,a.I=1,a.connect=function(c,_,v,S){Ee(0),this.W=c,this.H=_||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=su(this,null,this.W),bi(this)};function bl(c){if(ea(c),c.I==3){var _=c.V++,v=Se(c.J);if($t(v,"SID",c.M),$t(v,"RID",_),$t(v,"TYPE","terminate"),_r(c,v),_=new Xn(c,c.j,_),_.M=2,_.A=hr(Se(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(_.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=_.A,v=!0),v||(_.g=ru(_.j,null),_.g.ea(_.A)),_.F=Date.now(),hi(_)}iu(c)}function gs(c){c.g&&(Tl(c),c.g.cancel(),c.g=null)}function ea(c){gs(c),c.v&&(f.clearTimeout(c.v),c.v=null),ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!ul(c.h)&&!c.m){c.m=!0;var _=c.Ea;nt||R(),tt||(nt(),tt=!0),w.add(_,c),c.D=0}}function na(c,_){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(m(c.Ea,c,_),nu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Xn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ct(Q,this.U)):Q=this.U),this.u!==null||this.R||(j.J=Q,Q=null),this.S)t:{for(var _=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=v;break t}if(_===4096||v===this.i.length-1){_=v+1;break t}}_=1e3}else _=1e3;_=Jo(this,j,_),v=Se(this.J),$t(v,"RID",c),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),_r(this,v),Q&&(this.R?_="headers="+zi(Mn(Q))+"&"+_:this.u&&gr(v,this.u,Q)),cl(this.h,j),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",_),$t(v,"SID","null"),j.U=!0,ci(j,v,null)):ci(j,v,_),this.I=2}}else this.I==3&&(c?El(this,c):this.i.length==0||ul(this.h)||El(this))};function El(c,_){var v;_?v=_.l:v=c.V++;const S=Se(c.J);$t(S,"SID",c.M),$t(S,"RID",v),$t(S,"AID",c.K),_r(c,S),c.u&&c.o&&gr(S,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Jo(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),cl(c.h,v),ci(v,S,_)}function _r(c,_){c.H&&St(c.H,function(v,S){$t(_,S,v)}),c.l&&St({},function(v,S){$t(_,S,v)})}function Jo(c,_,v){v=Math.min(c.i.length,v);const S=c.l?m(c.l.Ka,c.l,c):null;t:{var j=c.i;let xt=-1;for(;;){const pe=["count="+v];xt==-1?v>0?(xt=j[0].g,pe.push("ofs="+xt)):xt=0:pe.push("ofs="+xt);let Qt=!0;for(let ue=0;ue<v;ue++){var Q=j[ue].g;const Nn=j[ue].map;if(Q-=xt,Q<0)xt=Math.max(0,j[ue].g-100),Qt=!1;else try{Q="req"+Q+"_"||"";try{var ot=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ti,Wn]of ot){let ti=Wn;g(Wn)&&(ti=as(Wn)),pe.push(Q+Ti+"="+encodeURIComponent(ti))}}catch(Ti){throw pe.push(Q+"type="+encodeURIComponent("_badmap")),Ti}}catch{S&&S(Nn)}}if(Qt){ot=pe.join("&");break t}}ot=void 0}return c=c.i.splice(0,v),_.G=c,ot}function Wo(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;nt||R(),tt||(nt(),tt=!0),w.add(_,c),c.A=0}}function yr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(m(c.Da,c),nu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(m(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),gs(this),tu(this))};function Tl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function tu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Se(c.na);$t(_,"RID","rpc"),$t(_,"SID",c.M),$t(_,"AID",c.K),$t(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(_,"TO",c.ia),$t(_,"TYPE","xmlhttp"),_r(c,_),c.u&&c.o&&gr(_,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=hr(Se(_)),v.u=null,v.R=!0,Xr(v,c)}a.Va=function(){this.C!=null&&(this.C=null,gs(this),yr(this),Ee(19))};function ia(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function eu(c,_){var v=null;if(c.g==_){ia(c),Tl(c),c.g=null;var S=2}else if(mi(c.h,_))v=_.G,hl(c.h,_),S=1;else return;if(c.I!=0){if(_.o)if(S==1){v=_.u?_.u.length:0,_=Date.now()-_.F;var j=c.D;S=Yr(),Oe(S,new li(S,v)),bi(c)}else Wo(c);else if(j=_.m,j==3||j==0&&_.X>0||!(S==1&&na(c,_)||S==2&&yr(c)))switch(v&&v.length>0&&(_=c.h,_.i=_.i.concat(v)),j){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function nu(c,_){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*_}function Ei(c,_){if(c.j.info("Error code "+_),_==2){var v=m(c.bb,c),S=c.Ua;const j=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ke(S,"https"),hr(S),j?$n(S.toString(),v):_l(S.toString(),v)}else Ee(2);c.I=0,c.l&&c.l.pa(_),iu(c),ea(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function iu(c){if(c.I=0,c.ja=[],c.l){const _=fl(c.h);(_.length!=0||c.i.length!=0)&&(x(c.ja,_),x(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function su(c,_,v){var S=v instanceof vn?Se(v):new vn(v);if(S.g!="")_&&(S.g=_+"."+S.g),ls(S,S.u);else{var j=f.location;S=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;const Q=new vn(null);S&&ke(Q,S),_&&(Q.g=_),j&&ls(Q,j),v&&(Q.h=v),S=Q}return v=c.G,_=c.wa,v&&_&&$t(S,v,_),$t(S,"VER",c.ka),_r(c,S),S}function ru(c,_,v){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Wt(new _i({ab:v})):new Wt(c.ma),_.Fa(c.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}a=au.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ms(){}ms.prototype.g=function(c,_){return new rn(c,_)};function rn(c,_){be.call(this),this.g=new ds(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!C(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Bi(this)}E(rn,be),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){bl(this.g)},rn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=as(c),c=v);_.i.push(new Ae(_.Ya++,c)),_.I==3&&bi(_)},rn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,rn.Z.N.call(this)};function lu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const v in _){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}E(lu,qe);function ou(){Cn.call(this),this.status=1}E(ou,Cn);function Bi(c){this.g=c}E(Bi,au),Bi.prototype.ra=function(){Oe(this.g,"a")},Bi.prototype.qa=function(c){Oe(this.g,new lu(c))},Bi.prototype.pa=function(c){Oe(this.g,new ou)},Bi.prototype.oa=function(){Oe(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,n0=function(){return new ms},e0=function(){return Yr()},t0=me,Od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,bc=ur,al.COMPLETE="complete",Wv=al,Ho.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",be.prototype.listen=be.prototype.J,ho=Ho,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,Jv=Wt}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",By="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Fv("@firebase/firestore");function Ia(){return kr.logLevel}function ft(a,...t){if(kr.logLevel<=Pt.DEBUG){const n=t.map(rg);kr.debug(`Firestore (${Za}): ${a}`,...n)}}function is(a,...t){if(kr.logLevel<=Pt.ERROR){const n=t.map(rg);kr.error(`Firestore (${Za}): ${a}`,...n)}}function Pa(a,...t){if(kr.logLevel<=Pt.WARN){const n=t.map(rg);kr.warn(`Firestore (${Za}): ${a}`,...n)}}function rg(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,i0(a,s,n)}function i0(a,t,n){let s=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw is(s),new Error(s)}function Kt(a,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,a||i0(t,l,s)}function Rt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends $a{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class rS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aS{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fs,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new s0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class lS{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oS{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new lS(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uS{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hy(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<a;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=cS(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function kt(a,t){return a<t?-1:a>t?1:0}function Id(a,t){const n=Math.min(a.length,t.length);for(let s=0;s<n;s++){const l=a.charAt(s),u=t.charAt(s);if(l!==u)return Ed(l)===Ed(u)?kt(l,u):Ed(l)?1:-1}return kt(a.length,t.length)}const hS=55296,fS=57343;function Ed(a){const t=a.charCodeAt(0);return t>=hS&&t<=fS}function Ga(a,t,n){return a.length===t.length&&a.every(((s,l)=>n(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class xi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=xi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=xi.isNumericId(t),l=xi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?xi.extractNumericId(t).compare(xi.extractNumericId(n)):Id(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class ae extends xi{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const dS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends xi{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return dS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new Ze([jy])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new _t(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new _t(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(u(),l++)}if(u(),f)throw new _t(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ae.fromString(t))}static fromName(t){return new vt(ae.fromString(t).popFirst(5))}static empty(){return new vt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(a,t,n){if(!n)throw new _t(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function gS(a,t,n,s){if(t===!0&&s===!0)throw new _t(it.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function qy(a){if(!vt.isDocumentKey(a))throw new _t(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Py(a){if(vt.isDocumentKey(a))throw new _t(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function a0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function lg(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function Ao(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new _t(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(a);throw new _t(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(a,t){const n={typeString:a};return t&&(n.value=t),n}function Oo(a,t){if(!a0(a))throw new _t(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){n=`JSON missing required field: '${s}'`;break}const f=a[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new _t(it.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=-62135596800,Fy=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Fy);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Gy)throw new _t(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Oo(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Gy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ve("string",le._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=-1;function mS(a,t){const n=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new $s(l,vt.empty(),t)}function pS(a){return new $s(a.readTime,a.key,So)}class $s{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new $s(At.min(),vt.empty(),So)}static max(){return new $s(At.max(),vt.empty(),So)}}function _S(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(a.documentKey,t.documentKey),n!==0?n:kt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==yS)throw a;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let l=0,u=0,f=!1;t.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(p=>s(p)))})),f=!0,u===l&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((l=>l?et.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,l)=>{const u=t.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const m=p;n(t[m]).next((b=>{f[m]=b,++g,g===u&&s(f)}),(b=>l(b)))}}))}static doWhile(t,n){return new et(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function bS(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function Yc(a){return a==null}function Mc(a){return a===0&&1/a==-1/0}function ES(a){return typeof a=="number"&&Number.isInteger(a)&&!Mc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="";function TS(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=Qy(t)),t=AS(a.get(n),t);return Qy(t)}function AS(a,t){let n=t;const s=a.length;for(let l=0;l<s;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case l0:n+="";break;default:n+=u}}return n}function Qy(a){return a+l0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function ir(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function o0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gc(this.root,t,this.comparator,!0)}}class gc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=l??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Ke(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(t){return new Xy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class Xy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new si([])}unionWith(t){let n=new ze(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new si(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new u0("Invalid base64 string: "+u):u}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const SS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(a){if(Kt(!!a,39018),typeof a=="string"){let t=0;const n=SS.exec(a);if(Kt(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(a.seconds),nanos:ve(a.nanos)}}function ve(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Js(a){return typeof a=="string"?Je.fromBase64String(a):Je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="server_timestamp",h0="__type__",f0="__previous_value__",d0="__local_write_time__";function ug(a){return(a?.mapValue?.fields||{})[h0]?.stringValue===c0}function Xc(a){const t=a.mapValue.fields[f0];return ug(t)?Xc(t):t}function wo(a){const t=Zs(a.mapValue.fields[d0].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n,s,l,u,f,g,p,m,b){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=b}}const Nc="(default)";class Ro{constructor(t,n){this.projectId=t,this.database=n||Nc}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof Ro&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__type__",RS="__max__",mc={mapValue:{}},m0="__vector__",Oc="value";function Ws(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ug(a)?4:CS(a)?9007199254740991:xS(a)?10:11:Et(28295,{value:a})}function Ii(a,t){if(a===t)return!0;const n=Ws(a);if(n!==Ws(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return wo(a).isEqual(wo(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Zs(l.timestampValue),g=Zs(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,u){return Js(l.bytesValue).isEqual(Js(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(a,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ve(l.doubleValue),g=ve(u.doubleValue);return f===g?Mc(f)===Mc(g):isNaN(f)&&isNaN(g)}return!1})(a,t);case 9:return Ga(a.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Yy(f)!==Yy(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ii(f[p],g[p])))return!1;return!0})(a,t);default:return Et(52216,{left:a})}}function xo(a,t){return(a.values||[]).find((n=>Ii(n,t)))!==void 0}function Fa(a,t){if(a===t)return 0;const n=Ws(a),s=Ws(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(a.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=ve(u.integerValue||u.doubleValue),p=ve(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,t);case 3:return Ky(a.timestampValue,t.timestampValue);case 4:return Ky(wo(a),wo(t));case 5:return Id(a.stringValue,t.stringValue);case 6:return(function(u,f){const g=Js(u),p=Js(f);return g.compareTo(p)})(a.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let m=0;m<g.length&&m<p.length;m++){const b=kt(g[m],p[m]);if(b!==0)return b}return kt(g.length,p.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=kt(ve(u.latitude),ve(f.latitude));return g!==0?g:kt(ve(u.longitude),ve(f.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return $y(a.arrayValue,t.arrayValue);case 10:return(function(u,f){const g=u.fields||{},p=f.fields||{},m=g[Oc]?.arrayValue,b=p[Oc]?.arrayValue,E=kt(m?.values?.length||0,b?.values?.length||0);return E!==0?E:$y(m,b)})(a.mapValue,t.mapValue);case 11:return(function(u,f){if(u===mc.mapValue&&f===mc.mapValue)return 0;if(u===mc.mapValue)return 1;if(f===mc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),m=f.fields||{},b=Object.keys(m);p.sort(),b.sort();for(let E=0;E<p.length&&E<b.length;++E){const T=Id(p[E],b[E]);if(T!==0)return T;const N=Fa(g[p[E]],m[b[E]]);if(N!==0)return N}return kt(p.length,b.length)})(a.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function Ky(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return kt(a,t);const n=Zs(a),s=Zs(t),l=kt(n.seconds,s.seconds);return l!==0?l:kt(n.nanos,s.nanos)}function $y(a,t){const n=a.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Fa(n[l],s[l]);if(u)return u}return kt(n.length,s.length)}function Qa(a){return Ld(a)}function Ld(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const s=Zs(n);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Js(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return vt.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Ld(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Ld(n.fields[f])}`;return l+"}"})(a.mapValue):Et(61005,{value:a})}function Ec(a){switch(Ws(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xc(a);return t?16+Ec(t):16;case 5:return 2*a.stringValue.length;case 6:return Js(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Ec(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return ir(s.fields,((u,f)=>{l+=u.length+Ec(f)})),l})(a.mapValue);default:throw Et(13486,{value:a})}}function zd(a){return!!a&&"integerValue"in a}function cg(a){return!!a&&"arrayValue"in a}function Zy(a){return!!a&&"nullValue"in a}function Jy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Tc(a){return!!a&&"mapValue"in a}function xS(a){return(a?.mapValue?.fields||{})[g0]?.stringValue===m0}function po(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return ir(a.mapValue.fields,((n,s)=>t.mapValue.fields[n]=po(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=po(a.arrayValue.values[n]);return t}return{...a}}function CS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===RS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Tc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=po(n)}setAll(t){let n=Ze.emptyPath(),s={},l=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=po(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());Tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Tc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){ir(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new xn(po(this.value))}}function p0(a){const t=[];return ir(a.fields,((n,s)=>{const l=new Ze([n]);if(Tc(s)){const u=p0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new si(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n,s,l,u,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new nn(t,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(t,n,s,l){return new nn(t,1,n,At.min(),s,l,0)}static newNoDocument(t,n){return new nn(t,2,n,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(t,n){return new nn(t,3,n,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n){this.position=t,this.inclusive=n}}function Wy(a,t,n){let s=0;for(let l=0;l<a.position.length;l++){const u=t[l],f=a.position[l];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),n.key):s=Fa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function tv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Ii(a.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function DS(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{}class Le extends _0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new MS(t,n,s):n==="array-contains"?new IS(t,s):n==="in"?new LS(t,s):n==="not-in"?new zS(t,s):n==="array-contains-any"?new US(t,s):new Le(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new NS(t,s):new OS(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fa(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends _0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Li(t,n)}matches(t){return y0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y0(a){return a.op==="and"}function v0(a){return VS(a)&&y0(a)}function VS(a){for(const t of a.filters)if(t instanceof Li)return!1;return!0}function Ud(a){if(a instanceof Le)return a.field.canonicalString()+a.op.toString()+Qa(a.value);if(v0(a))return a.filters.map((t=>Ud(t))).join(",");{const t=a.filters.map((n=>Ud(n))).join(",");return`${a.op}(${t})`}}function b0(a,t){return a instanceof Le?(function(s,l){return l instanceof Le&&s.op===l.op&&s.field.isEqual(l.field)&&Ii(s.value,l.value)})(a,t):a instanceof Li?(function(s,l){return l instanceof Li&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,g)=>u&&b0(f,l.filters[g])),!0):!1})(a,t):void Et(19439)}function E0(a){return a instanceof Le?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`})(a):a instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(E0).join(" ,")+"}"})(a):"Filter"}class MS extends Le{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class NS extends Le{constructor(t,n){super(t,"in",n),this.keys=T0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class OS extends Le{constructor(t,n){super(t,"not-in",n),this.keys=T0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function T0(a,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class IS extends Le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return cg(n)&&xo(n.arrayValue,this.value)}}class LS extends Le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xo(this.value.arrayValue,n)}}class zS extends Le{constructor(t,n){super(t,"not-in",n)}matches(t){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xo(this.value.arrayValue,n)}}class US extends Le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,n=null,s=[],l=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function ev(a,t=null,n=[],s=[],l=null,u=null,f=null){return new kS(a,t,n,s,l,u,f)}function hg(a){const t=Rt(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Ud(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Yc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Qa(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Qa(s))).join(",")),t.Te=n}return t.Te}function fg(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!DS(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!b0(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!tv(a.startAt,t.startAt)&&tv(a.endAt,t.endAt)}function kd(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n=null,s=[],l=[],u=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BS(a,t,n,s,l,u,f,g){return new Kc(a,t,n,s,l,u,f,g)}function A0(a){return new Kc(a)}function nv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function HS(a){return a.collectionGroup!==null}function _o(a){const t=Rt(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new ze(Ze.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(g=g.add(m.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Lc(u,s))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new Lc(Ze.keyField(),s))}return t.Ie}function Ci(a){const t=Rt(a);return t.Ee||(t.Ee=jS(t,_o(a))),t.Ee}function jS(a,t){if(a.limitType==="F")return ev(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Lc(l.field,u)}));const n=a.endAt?new Ic(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Ic(a.startAt.position,a.startAt.inclusive):null;return ev(a.path,a.collectionGroup,t,a.filters,a.limit,n,s)}}function Bd(a,t,n){return new Kc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function $c(a,t){return fg(Ci(a),Ci(t))&&a.limitType===t.limitType}function S0(a){return`${hg(Ci(a))}|lt:${a.limitType}`}function La(a){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>E0(l))).join(", ")}]`),Yc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Qa(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Qa(l))).join(",")),`Target(${s})`})(Ci(a))}; limitType=${a.limitType})`}function Zc(a,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,t)&&(function(s,l){for(const u of _o(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(f,g,p){const m=Wy(f,g,p);return f.inclusive?m<=0:m<0})(s.startAt,_o(s),l)||s.endAt&&!(function(f,g,p){const m=Wy(f,g,p);return f.inclusive?m>=0:m>0})(s.endAt,_o(s),l))})(a,t)}function qS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function w0(a){return(t,n)=>{let s=!1;for(const l of _o(a)){const u=PS(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function PS(a,t,n){const s=a.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,f,g){const p=f.data.field(u),m=g.data.field(u);return p!==null&&m!==null?Fa(p,m):Et(42886)})(a.field,t,n);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return o0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new he(vt.comparator);function ss(){return GS}const R0=new he(vt.comparator);function fo(...a){let t=R0;for(const n of a)t=t.insert(n.key,n);return t}function x0(a){let t=R0;return a.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ur(){return yo()}function C0(){return yo()}function yo(){return new jr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const FS=new he(vt.comparator),QS=new ze(vt.comparator);function Bt(...a){let t=QS;for(const n of a)t=t.add(n);return t}const YS=new ze(kt);function XS(){return YS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function D0(a){return{integerValue:""+a}}function KS(a,t){return ES(t)?D0(t):dg(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function $S(a,t,n){return a instanceof zc?(function(l,u){const f={fields:{[h0]:{stringValue:c0},[d0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ug(u)&&(u=Xc(u)),u&&(f.fields[f0]=u),{mapValue:f}})(n,t):a instanceof Co?M0(a,t):a instanceof Do?N0(a,t):(function(l,u){const f=V0(l,u),g=iv(f)+iv(l.Ae);return zd(f)&&zd(l.Ae)?D0(g):dg(l.serializer,g)})(a,t)}function ZS(a,t,n){return a instanceof Co?M0(a,t):a instanceof Do?N0(a,t):n}function V0(a,t){return a instanceof Uc?(function(s){return zd(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class zc extends Jc{}class Co extends Jc{constructor(t){super(),this.elements=t}}function M0(a,t){const n=O0(t);for(const s of a.elements)n.some((l=>Ii(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Do extends Jc{constructor(t){super(),this.elements=t}}function N0(a,t){let n=O0(t);for(const s of a.elements)n=n.filter((l=>!Ii(l,s)));return{arrayValue:{values:n}}}class Uc extends Jc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function iv(a){return ve(a.integerValue||a.doubleValue)}function O0(a){return cg(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function JS(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Co&&l instanceof Co||s instanceof Do&&l instanceof Do?Ga(s.elements,l.elements,Ii):s instanceof Uc&&l instanceof Uc?Ii(s.Ae,l.Ae):s instanceof zc&&l instanceof zc})(a.transform,t.transform)}class WS{constructor(t,n){this.version=t,this.transformResults=n}}class es{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new es}static exists(t){return new es(void 0,t)}static updateTime(t){return new es(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Wc{}function I0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new z0(a.key,es.none()):new th(a.key,a.data,es.none());{const n=a.data,s=xn.empty();let l=new ze(Ze.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new qr(a.key,s,new si(l.toArray()),es.none())}}function tw(a,t,n){a instanceof th?(function(l,u,f){const g=l.value.clone(),p=rv(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,t,n):a instanceof qr?(function(l,u,f){if(!Ac(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=rv(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(L0(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function vo(a,t,n,s){return a instanceof th?(function(u,f,g,p){if(!Ac(u.precondition,f))return g;const m=u.value.clone(),b=av(u.fieldTransforms,p,f);return m.setAll(b),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(a,t,n,s):a instanceof qr?(function(u,f,g,p){if(!Ac(u.precondition,f))return g;const m=av(u.fieldTransforms,p,f),b=f.data;return b.setAll(L0(u)),b.setAll(m),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(a,t,n,s):(function(u,f,g){return Ac(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(a,t,n)}function ew(a,t){let n=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),u=V0(s.transform,l||null);u!=null&&(n===null&&(n=xn.empty()),n.set(s.field,u))}return n||null}function sv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ga(s,l,((u,f)=>JS(u,f)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class th extends Wc{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qr extends Wc{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L0(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=a.data.field(n);t.set(n,s)}})),t}function rv(a,t,n){const s=new Map;Kt(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let l=0;l<n.length;l++){const u=a[l],f=u.transform,g=t.data.field(u.field);s.set(u.field,ZS(f,g,n[l]))}return s}function av(a,t,n){const s=new Map;for(const l of a){const u=l.transform,f=n.data.field(l.field);s.set(l.field,$S(u,f,t))}return s}class z0 extends Wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nw extends Wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&tw(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vo(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vo(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=C0();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const p=I0(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,((n,s)=>sv(n,s)))&&Ga(this.baseMutations,t.baseMutations,((n,s)=>sv(n,s)))}}class gg{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return FS})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new gg(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,qt;function aw(a){switch(a){case it.OK:return Et(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function U0(a){if(a===void 0)return is("GRPC error has no .code"),it.UNKNOWN;switch(a){case De.OK:return it.OK;case De.CANCELLED:return it.CANCELLED;case De.UNKNOWN:return it.UNKNOWN;case De.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case De.INTERNAL:return it.INTERNAL;case De.UNAVAILABLE:return it.UNAVAILABLE;case De.UNAUTHENTICATED:return it.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case De.NOT_FOUND:return it.NOT_FOUND;case De.ALREADY_EXISTS:return it.ALREADY_EXISTS;case De.PERMISSION_DENIED:return it.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case De.ABORTED:return it.ABORTED;case De.OUT_OF_RANGE:return it.OUT_OF_RANGE;case De.UNIMPLEMENTED:return it.UNIMPLEMENTED;case De.DATA_LOSS:return it.DATA_LOSS;default:return Et(39323,{code:a})}}(qt=De||(De={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Gs([4294967295,4294967295],0);function lv(a){const t=lw().encode(a),n=new Zv;return n.update(t),new Uint8Array(n.digest())}function ov(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Gs([n,s],0),new Gs([l,u],0)]}class mg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(s<0)throw new go(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Gs.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Gs.fromNumber(s)));return l.compare(ow)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=lv(t),[s,l]=ov(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new mg(u,l,n);return s.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=lv(t),[s,l]=ov(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Io.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new eh(At.min(),l,new he(kt),ss(),Bt())}}class Io{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Io(s,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class k0{constructor(t,n){this.targetId=t,this.Ce=n}}class B0{constructor(t,n,s=Je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class uv{constructor(){this.ve=0,this.Fe=cv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),s=Bt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:u})}})),new Io(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=cv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.Je=pc(),this.He=pc(),this.Ye=new he(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(kd(u))if(s===0){const f=new vt(u.path);this.et(n,f,nn.newNoDocument(f,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(t),p=g?this.ct(g,t,f):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=Js(s).toUint8Array()}catch(p){if(p instanceof u0)return Pa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new mg(f,l,u)}catch(p){return Pa(p instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&kd(g.target)){const p=new vt(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,nn.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Bt();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new eh(t,n,this.Ye,this.je,s);return this.je=ss(),this.Je=pc(),this.He=pc(),this.Ye=new he(kt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new uv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ze(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ze(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function pc(){return new he(vt.comparator)}function cv(){return new he(vt.comparator)}const cw={asc:"ASCENDING",desc:"DESCENDING"},hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fw={and:"AND",or:"OR"};class dw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hd(a,t){return a.useProto3Json||Yc(t)?t:{value:t}}function kc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function gw(a,t){return kc(a,t.toTimestamp())}function Di(a){return Kt(!!a,49232),At.fromTimestamp((function(n){const s=Zs(n);return new le(s.seconds,s.nanos)})(a))}function pg(a,t){return jd(a,t).canonicalString()}function jd(a,t){const n=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?n:n.child(t)}function j0(a){const t=ae.fromString(a);return Kt(Q0(t),10190,{key:t.toString()}),t}function qd(a,t){return pg(a.databaseId,t.path)}function Td(a,t){const n=j0(t);if(n.get(1)!==a.databaseId.projectId)throw new _t(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new _t(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new vt(P0(n))}function q0(a,t){return pg(a.databaseId,t)}function mw(a){const t=j0(a);return t.length===4?ae.emptyPath():P0(t)}function Pd(a){return new ae(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function P0(a){return Kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function hv(a,t,n){return{name:qd(a,t),fields:n.value.mapValue.fields}}function pw(a,t){let n;if("targetChange"in t){t.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(m,b){return m.useProto3Json?(Kt(b===void 0||typeof b=="string",58123),Je.fromBase64String(b||"")):(Kt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Je.fromUint8Array(b||new Uint8Array))})(a,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(m){const b=m.code===void 0?it.UNKNOWN:U0(m.code);return new _t(b,m.message||"")})(f);n=new B0(s,l,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Td(a,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):At.min(),g=new xn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(l,u,f,g),m=s.targetIds||[],b=s.removedTargetIds||[];n=new Sc(m,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Td(a,s.document),u=s.readTime?Di(s.readTime):At.min(),f=nn.newNoDocument(l,u),g=s.removedTargetIds||[];n=new Sc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Td(a,s.document),u=s.removedTargetIds||[];n=new Sc([],u,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new rw(l,u),g=s.targetId;n=new k0(g,f)}}return n}function _w(a,t){let n;if(t instanceof th)n={update:hv(a,t.key,t.value)};else if(t instanceof z0)n={delete:qd(a,t.key)};else if(t instanceof qr)n={update:hv(a,t.key,t.data),updateMask:Rw(t.fieldMask)};else{if(!(t instanceof nw))return Et(16599,{Vt:t.type});n={verify:qd(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof zc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Co)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Do)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Uc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:gw(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(a,t.precondition)),n}function yw(a,t){return a&&a.length>0?(Kt(t!==void 0,14353),a.map((n=>(function(l,u){let f=l.updateTime?Di(l.updateTime):Di(u);return f.isEqual(At.min())&&(f=Di(u)),new WS(f,l.transformResults||[])})(n,t)))):[]}function vw(a,t){return{documents:[q0(a,t.path)]}}function bw(a,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=q0(a,l);const u=(function(m){if(m.length!==0)return F0(Li.create(m,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((b=>(function(T){return{field:za(T.field),direction:Aw(T.dir)}})(b)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Hd(a,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:l}}function Ew(a){let t=mw(a.parent);const n=a.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Kt(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=(function(E){const T=G0(E);return T instanceof Li&&v0(T)?T.getFilters():[T]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((T=>(function(x){return new Lc(Ua(x.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(T)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let T;return T=typeof E=="object"?E.value:E,Yc(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(E){const T=!!E.before,N=E.values||[];return new Ic(N,T)})(n.startAt));let m=null;return n.endAt&&(m=(function(E){const T=!E.before,N=E.values||[];return new Ic(N,T)})(n.endAt)),BS(t,l,f,u,g,"F",p,m)}function Tw(a,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function G0(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return Le.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(n.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(n.unaryFilter.field);return Le.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return Le.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Le.create(Ua(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((s=>G0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(a):Et(30097,{filter:a})}function Aw(a){return cw[a]}function Sw(a){return hw[a]}function ww(a){return fw[a]}function za(a){return{fieldPath:a.canonicalString()}}function Ua(a){return Ze.fromServerFormat(a.fieldPath)}function F0(a){return a instanceof Le?(function(n){if(n.op==="=="){if(Jy(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(Zy(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jy(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(Zy(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:Sw(n.op),value:n.value}}})(a):a instanceof Li?(function(n){const s=n.getFilters().map((l=>F0(l)));return s.length===1?s[0]:{compositeFilter:{op:ww(n.op),filters:s}}})(a):Et(54877,{filter:a})}function Rw(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Q0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n,s,l,u=At.min(),f=At.min(),g=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.yt=t}}function Cw(a){const t=Ew({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Bd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.Cn=new Vw}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve($s.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve($s.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class Vw{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new ze(ae.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new ze(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y0=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Y0,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LruGarbageCollector",Mw=1048576;function gv([a,t],[n,s]){const l=kt(a,n);return l===0?kt(t,s):l}class Nw{constructor(t){this.Ir=t,this.buffer=new ze(gv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ow{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(dv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?ft(dv,"Ignoring IndexedDB error during garbage collection: ",n):await Ja(n)}await this.Vr(3e5)}))}}class Iw{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Qc.ce);const s=new Nw(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(fv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,f,g,p,m;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(t,l)))).next((E=>(s=E,g=Date.now(),this.removeTargets(t,s,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(m=Date.now(),Ia()<=Pt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-b}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function Lw(a,t){return new Iw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.changes=new jr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&vo(s.mutation,l,si.empty(),le.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Bt()){const l=Ur();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let f=fo();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ur();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Bt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,s,l){let u=ss();const f=yo(),g=(function(){return yo()})();return n.forEach(((p,m)=>{const b=s.get(m.key);l.has(m.key)&&(b===void 0||b.mutation instanceof qr)?u=u.insert(m.key,m):b!==void 0?(f.set(m.key,b.mutation.getFieldMask()),vo(b.mutation,m,b.mutation.getFieldMask(),le.now())):f.set(m.key,si.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((m,b)=>f.set(m,b))),n.forEach(((m,b)=>g.set(m,new Uw(b,f.get(m)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=yo();let l=new he(((f,g)=>f-g)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let b=s.get(p)||si.empty();b=g.applyToLocalView(m,b),s.set(p,b);const E=(l.get(g.batchId)||Bt()).add(p);l=l.insert(g.batchId,E)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),m=p.key,b=p.value,E=C0();b.forEach((T=>{if(!u.has(T)){const N=I0(n.get(T),s.get(T));N!==null&&E.set(T,N),u=u.add(T)}})),f.push(this.documentOverlayCache.saveOverlays(t,m,E))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):et.resolve(Ur());let g=So,p=u;return f.next((m=>et.forEach(m,((b,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(b)?et.resolve():this.remoteDocumentCache.getEntry(t,b).next((T=>{p=p.insert(b,T)}))))).next((()=>this.populateOverlays(t,m,u))).next((()=>this.computeViews(t,p,m,Bt()))).next((b=>({batchId:g,changes:x0(b)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let l=fo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let f=fo();return this.indexManager.getCollectionParents(t,u).next((g=>et.forEach(g,(p=>{const m=(function(E,T){return new Kc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,m,s,l).next((b=>{b.forEach(((E,T)=>{f=f.insert(E,T)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((f=>{u.forEach(((p,m)=>{const b=m.getKey();f.get(b)===null&&(f=f.insert(b,nn.newInvalidDocument(b)))}));let g=fo();return f.forEach(((p,m)=>{const b=u.get(p);b!==void 0&&vo(b.mutation,m,si.empty(),le.now()),Zc(n,m)&&(g=g.insert(p,m))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:Cw(l.bundledQuery),readTime:Di(l.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.overlays=new he(vt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ur();return et.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const l=Ur(),u=n.length+1,f=new vt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return et.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new he(((m,b)=>m-b));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let b=u.get(m.largestBatchId);b===null&&(b=Ur(),u=u.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const g=Ur(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,b)=>g.set(m,b))),!(g.size()>=l)););return et.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sw(n,s));let u=this.qr.get(n);u===void 0&&(u=Bt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new vt(new ae([])),s=new He(n,t),l=new He(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new ae([])),s=new He(n,t),l=new He(n,t+1);let u=Bt();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new iw(u,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new He(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),l=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ze(kt);return n.forEach((l=>{const u=new He(l,0),f=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const f=new He(new vt(u),0);let g=new ze(kt);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===l&&(g=g.add(p.Yr)),!0)}),f),et.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(l=>{const u=new He(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new He(n,0),l=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.ri=t,this.docs=(function(){return new he(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(t,n){let s=ss();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():nn.newInvalidDocument(l))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=ss();const f=n.path,g=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:m,value:{document:b}}=p.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||_S(pS(b),s)<=0||(l.has(b.key)||Zc(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,l){Et(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new Gw(this)}getSize(t){return et.resolve(this.size)}}class Gw extends zw{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.persistence=t,this.si=new jr((n=>hg(n)),fg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new _g,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Ya(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),et.waitFor(u).next((()=>l))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Qc(0),this.li=!1,this.li=!0,this.hi=new jw,this.referenceDelegate=t(this),this.Pi=new Fw(this),this.indexManager=new Dw,this.remoteDocumentCache=(function(l){return new Pw(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new xw(n),this.Ii=new Bw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Hw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new qw(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const l=new Qw(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class Qw extends vS{constructor(t){super(),this.currentSequenceNumber=t}}class yg{constructor(t){this.persistence=t,this.Ri=new _g,this.Vi=null}static mi(t){return new yg(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const l=vt.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Bc{constructor(t,n){this.persistence=t,this.pi=new jr((s=>TS(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=Lw(this,n)}static mi(t,n){return new Bc(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?et.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,n).next((g=>{g||(s++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ec(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return et.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=Bt(),l=Bt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new vg(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kT()?8:bS(zT())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Yw;return this.Ss(t,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,f,g.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Ia()<=Pt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Ia()<=Pt.DEBUG&&ft("QueryEngine","Query:",La(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ia()<=Pt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):et.resolve())}ys(t,n){if(nv(n))return et.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Bd(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Bt(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,s).next((p=>{const m=this.Ds(n,g);return this.Cs(n,m,f,p.readTime)?this.ys(t,Bd(n,null,"F")):this.vs(t,m,n,p)}))))})))))}ws(t,n,s,l){return nv(n)||l.isEqual(At.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?et.resolve(null):(Ia()<=Pt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(n)),this.vs(t,f,n,mS(l,So)).next((g=>g)))}))}Ds(t,n){let s=new ze(w0(t));return n.forEach(((l,u)=>{Zc(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return Ia()<=Pt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",La(n)),this.ps.getDocumentsMatchingQuery(t,n,$s.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="LocalStore",Kw=3e8;class $w{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new he(kt),this.xs=new jr((u=>hg(u)),fg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Zw(a,t,n,s){return new $w(a,t,n,s)}async function K0(a,t){const n=Rt(a);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Bt();for(const m of l){f.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}for(const m of u){g.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:g})))}))}))}function Jw(a,t){const n=Rt(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,m,b){const E=m.batch,T=E.keys();let N=et.resolve();return T.forEach((x=>{N=N.next((()=>b.getEntry(p,x))).next((I=>{const k=m.docVersions.get(x);Kt(k!==null,48541),I.version.compareTo(k)<0&&(E.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),b.addEntry(I)))}))})),N.next((()=>g.mutationQueue.removeMutationBatch(p,E)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Bt();for(let m=0;m<g.mutationResults.length;++m)g.mutationResults[m].transformResults.length>0&&(p=p.add(g.batch.mutations[m].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function $0(a){const t=Rt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Ww(a,t){const n=Rt(a),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((b,E)=>{const T=l.get(E);if(!T)return;g.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,E))));let N=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?N=N.withResumeToken(Je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,s)),l=l.insert(E,N),(function(I,k,st){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Kw?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(T,N,b)&&g.push(n.Pi.updateTargetData(u,N))}));let p=ss(),m=Bt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(t2(u,f,t.documentUpdates).next((b=>{p=b.ks,m=b.qs}))),!s.isEqual(At.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(b)}return et.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,m))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function t2(a,t,n){let s=Bt(),l=Bt();return n.forEach((u=>s=s.add(u))),t.getEntries(a,s).next((u=>{let f=ss();return n.forEach(((g,p)=>{const m=u.get(g);p.isFoundDocument()!==m.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):ft(bg,"Ignoring outdated watch update for ",g,". Current version:",m.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function e2(a,t){const n=Rt(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function n2(a,t){const n=Rt(a);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,et.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new js(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Gd(a,t,n){const s=Rt(a),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Wa(f))throw f;ft(bg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function mv(a,t,n){const s=Rt(a);let l=At.min(),u=Bt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,m,b){const E=Rt(p),T=E.xs.get(b);return T!==void 0?et.resolve(E.Ms.get(T)):E.Pi.getTargetData(m,b)})(s,f,Ci(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?l:At.min(),n?u:Bt()))).next((g=>(i2(s,qS(t),g),{documents:g,Qs:u})))))}function i2(a,t,n){let s=a.Os.get(t)||At.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(t,s)}class pv{constructor(){this.activeTargetIds=XS()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class s2{constructor(){this.Mo=new pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new pv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="ConnectivityMonitor";class yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(_v,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(_v,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function Fd(){return _c===null?_c=(function(){return 268435456+Math.round(2147483648*Math.random())})():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="RestConnection",a2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const f=Fd(),g=this.zo(t,n.toUriEncodedString());ft(Ad,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:m}=new URL(g),b=ig(m);return this.Jo(t,g,p,s,b).then((E=>(ft(Ad,`Received RPC '${t}' ${f}: `,E),E)),(E=>{throw Pa(Ad,`RPC '${t}' ${f} failed with error: `,E,"url: ",g,"request:",s),E}))}Ho(t,n,s,l,u,f){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Za})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=a2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class u2 extends l2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const f=Fd();return new Promise(((g,p)=>{const m=new Jv;m.setWithCredentials(!0),m.listenOnce(Wv.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case bc.NO_ERROR:const E=m.getResponseJson();ft(tn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(E)),g(E);break;case bc.TIMEOUT:ft(tn,`RPC '${t}' ${f} timed out`),p(new _t(it.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const T=m.getStatus();if(ft(tn,`RPC '${t}' ${f} failed with status:`,T,"response text:",m.getResponseText()),T>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const x=N?.error;if(x&&x.status&&x.message){const I=(function(st){const X=st.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(X)>=0?X:it.UNKNOWN})(x.status);p(new _t(I,x.message))}else p(new _t(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new _t(it.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ft(tn,`RPC '${t}' ${f} completed.`)}}));const b=JSON.stringify(l);ft(tn,`RPC '${t}' ${f} sending request:`,l),m.send(n,"POST",b,s,15)}))}T_(t,n,s){const l=Fd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=n0(),g=e0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");ft(tn,`Creating RPC '${t}' stream ${l}: ${b}`,p);const E=f.createWebChannel(b,p);this.I_(E);let T=!1,N=!1;const x=new o2({Yo:k=>{N?ft(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,k):(T||(ft(tn,`Opening RPC '${t}' stream ${l} transport.`),E.open(),T=!0),ft(tn,`RPC '${t}' stream ${l} sending:`,k),E.send(k))},Zo:()=>E.close()}),I=(k,st,X)=>{k.listen(st,(K=>{try{X(K)}catch(at){setTimeout((()=>{throw at}),0)}}))};return I(E,ho.EventType.OPEN,(()=>{N||(ft(tn,`RPC '${t}' stream ${l} transport opened.`),x.o_())})),I(E,ho.EventType.CLOSE,(()=>{N||(N=!0,ft(tn,`RPC '${t}' stream ${l} transport closed`),x.a_(),this.E_(E))})),I(E,ho.EventType.ERROR,(k=>{N||(N=!0,Pa(tn,`RPC '${t}' stream ${l} transport errored. Name:`,k.name,"Message:",k.message),x.a_(new _t(it.UNAVAILABLE,"The operation could not be completed")))})),I(E,ho.EventType.MESSAGE,(k=>{if(!N){const st=k.data[0];Kt(!!st,16349);const X=st,K=X?.error||X[0]?.error;if(K){ft(tn,`RPC '${t}' stream ${l} received error:`,K);const at=K.status;let nt=(function(R){const D=De[R];if(D!==void 0)return U0(D)})(at),tt=K.message;nt===void 0&&(nt=it.INTERNAL,tt="Unknown error status: "+at+" with message "+K.message),N=!0,x.a_(new _t(nt,tt)),E.close()}else ft(tn,`RPC '${t}' stream ${l} received:`,st),x.u_(st)}})),I(g,t0.STAT_EVENT,(k=>{k.stat===Od.PROXY?ft(tn,`RPC '${t}' stream ${l} detected buffering proxy`):k.stat===Od.NOPROXY&&ft(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(a){return new dw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="PersistentStream";class J0{constructor(t,n,s,l,u,f,g,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new _t(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c2 extends J0{constructor(t,n,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=pw(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Di(f.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Pd(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=kd(p)?{documents:vw(u,p)}:{query:bw(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=H0(u,f.resumeToken);const m=Hd(u,f.expectedCount);m!==null&&(g.expectedCount=m)}else if(f.snapshotVersion.compareTo(At.min())>0){g.readTime=kc(u,f.snapshotVersion.toTimestamp());const m=Hd(u,f.expectedCount);m!==null&&(g.expectedCount=m)}return g})(this.serializer,t);const s=Tw(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Pd(this.serializer),n.removeTarget=t,this.q_(n)}}class h2 extends J0{constructor(t,n,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yw(t.writeResults,t.commitTime),s=Di(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Pd(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>_w(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{}class d2 extends f2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new _t(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,jd(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(it.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,jd(n,s),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _t(it.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="RemoteStore";class m2{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Pr(this)&&(ft(Br,"Restarting streams for network reachability change."),await(async function(p){const m=Rt(p);m.Ea.add(4),await Lo(m),m.Ra.set("Unknown"),m.Ea.delete(4),await ih(m)})(this))}))})),this.Ra=new g2(s,l)}}async function ih(a){if(Pr(a))for(const t of a.da)await t(!0)}async function Lo(a){for(const t of a.da)await t(!1)}function W0(a,t){const n=Rt(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Sg(n)?Ag(n):tl(n).O_()&&Tg(n,t))}function Eg(a,t){const n=Rt(a),s=tl(n);n.Ia.delete(t),s.O_()&&tb(n,t),n.Ia.size===0&&(s.O_()?s.L_():Pr(n)&&n.Ra.set("Unknown"))}function Tg(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tl(a).Y_(t)}function tb(a,t){a.Va.Ue(t),tl(a).Z_(t)}function Ag(a){a.Va=new uw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),tl(a).start(),a.Ra.ua()}function Sg(a){return Pr(a)&&!tl(a).x_()&&a.Ia.size>0}function Pr(a){return Rt(a).Ea.size===0}function eb(a){a.Va=void 0}async function p2(a){a.Ra.set("Online")}async function _2(a){a.Ia.forEach(((t,n)=>{Tg(a,t)}))}async function y2(a,t){eb(a),Sg(a)?(a.Ra.ha(t),Ag(a)):a.Ra.set("Unknown")}async function v2(a,t,n){if(a.Ra.set("Online"),t instanceof B0&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(a,t)}catch(s){ft(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hc(a,s)}else if(t instanceof Sc?a.Va.Ze(t):t instanceof k0?a.Va.st(t):a.Va.tt(t),!n.isEqual(At.min()))try{const s=await $0(a.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(m);b&&u.Ia.set(m,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,m)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Je.EMPTY_BYTE_STRING,b.snapshotVersion)),tb(u,p);const E=new js(b.target,p,m,b.sequenceNumber);Tg(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(a,n)}catch(s){ft(Br,"Failed to raise snapshot:",s),await Hc(a,s)}}async function Hc(a,t,n){if(!Wa(t))throw t;a.Ea.add(1),await Lo(a),a.Ra.set("Offline"),n||(n=()=>$0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ft(Br,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await ih(a)}))}function nb(a,t){return t().catch((n=>Hc(a,n,t)))}async function sh(a){const t=Rt(a),n=tr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:og;for(;b2(t);)try{const l=await e2(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,E2(t,l)}catch(l){await Hc(t,l)}ib(t)&&sb(t)}function b2(a){return Pr(a)&&a.Ta.length<10}function E2(a,t){a.Ta.push(t);const n=tr(a);n.O_()&&n.X_&&n.ea(t.mutations)}function ib(a){return Pr(a)&&!tr(a).x_()&&a.Ta.length>0}function sb(a){tr(a).start()}async function T2(a){tr(a).ra()}async function A2(a){const t=tr(a);for(const n of a.Ta)t.ea(n.mutations)}async function S2(a,t,n){const s=a.Ta.shift(),l=gg.from(s,t,n);await nb(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await sh(a)}async function w2(a,t){t&&tr(a).X_&&await(async function(s,l){if((function(f){return aw(f)&&f!==it.ABORTED})(l.code)){const u=s.Ta.shift();tr(s).B_(),await nb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await sh(s)}})(a,t),ib(a)&&sb(a)}async function bv(a,t){const n=Rt(a);n.asyncQueue.verifyOperationInProgress(),ft(Br,"RemoteStore received new credentials");const s=Pr(n);n.Ea.add(3),await Lo(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ih(n)}async function R2(a,t){const n=Rt(a);t?(n.Ea.delete(2),await ih(n)):t||(n.Ea.add(2),await Lo(n),n.Ra.set("Unknown"))}function tl(a){return a.ma||(a.ma=(function(n,s,l){const u=Rt(n);return u.sa(),new c2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:p2.bind(null,a),t_:_2.bind(null,a),r_:y2.bind(null,a),H_:v2.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Sg(a)?Ag(a):a.Ra.set("Unknown")):(await a.ma.stop(),eb(a))}))),a.ma}function tr(a){return a.fa||(a.fa=(function(n,s,l){const u=Rt(n);return u.sa(),new h2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:T2.bind(null,a),r_:w2.bind(null,a),ta:A2.bind(null,a),na:S2.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await sh(a)):(await a.fa.stop(),a.Ta.length>0&&(ft(Br,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const f=Date.now()+s,g=new wg(t,n,f,l,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(a,t){if(is("AsyncQueue",`${t}: ${a}`),Wa(a))return new _t(it.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=fo(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ha;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.ga=new he(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Xa{constructor(t,n,s,l,u,f,g,p,m){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,s,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Xa(t,n,Ha.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class C2{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Rt(n),u=l.queries;l.queries=Tv(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new _t(it.ABORTED,"Firestore shutting down"))}}function Tv(){return new jr((a=>S0(a)),$c)}async function D2(a,t){const n=Rt(a);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new x2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Rg(f,`Initialization of query '${La(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&xg(n)}async function V2(a,t){const n=Rt(a),s=t.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function M2(a,t){const n=Rt(a);let s=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&xg(n)}function N2(a,t,n){const s=Rt(a),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function xg(a){a.Ca.forEach((t=>{t.next()}))}var Qd,Av;(Av=Qd||(Qd={})).Ma="default",Av.Cache="cache";class O2{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Xa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t){this.key=t}}class ab{constructor(t){this.key=t}}class I2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=w0(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Ev,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,m=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,E)=>{const T=l.get(b),N=Zc(this.query,E)?E:null,x=!!T&&this.mutatedKeys.has(T.key),I=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;T&&N?T.data.isEqual(N.data)?x!==I&&(s.track({type:3,doc:N}),k=!0):this.su(T,N)||(s.track({type:2,doc:N}),k=!0,(p&&this.eu(N,p)>0||m&&this.eu(N,m)<0)&&(g=!0)):!T&&N?(s.track({type:0,doc:N}),k=!0):T&&!N&&(s.track({type:1,doc:T}),k=!0,(p||m)&&(g=!0)),k&&(N?(f=f.add(N),u=I?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((b,E)=>(function(N,x){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:k})}};return I(N)-I(x)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,m=p!==this.Za;return this.Za=p,f.length!==0||m?{snapshot:new Xa(this.query,t.tu,u,f,t.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new ab(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new rb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class L2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class z2{constructor(t){this.key=t,this.hu=!1}}class U2{constructor(t,n,s,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new jr((g=>S0(g)),$c),this.Iu=new Map,this.Eu=new Set,this.du=new he(vt.comparator),this.Au=new Map,this.Ru=new _g,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k2(a,t,n=!0){const s=fb(a);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await lb(s,t,n,!0),l}async function B2(a,t){const n=fb(a);await lb(n,t,!0,!1)}async function lb(a,t,n,s){const l=await n2(a.localStore,Ci(t)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await H2(a,t,u,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&W0(a.remoteStore,l),g}async function H2(a,t,n,s,l){a.pu=(E,T,N)=>(async function(I,k,st,X){let K=k.view.ru(st);K.Cs&&(K=await mv(I.localStore,k.query,!1).then((({documents:w})=>k.view.ru(w,K))));const at=X&&X.targetChanges.get(k.targetId),nt=X&&X.targetMismatches.get(k.targetId)!=null,tt=k.view.applyChanges(K,I.isPrimaryClient,at,nt);return wv(I,k.targetId,tt.au),tt.snapshot})(a,E,T,N);const u=await mv(a.localStore,t,!0),f=new I2(t,u.Qs),g=f.ru(u.documents),p=Io.createSynthesizedTargetChangeForCurrentChange(n,s&&a.onlineState!=="Offline",l),m=f.applyChanges(g,a.isPrimaryClient,p);wv(a,n,m.au);const b=new L2(t,n,f);return a.Tu.set(t,b),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),m.snapshot}async function j2(a,t,n){const s=Rt(a),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!$c(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Gd(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Eg(s.remoteStore,l.targetId),Yd(s,l.targetId)})).catch(Ja)):(Yd(s,l.targetId),await Gd(s.localStore,l.targetId,!0))}async function q2(a,t){const n=Rt(a),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Eg(n.remoteStore,s.targetId))}async function P2(a,t,n){const s=$2(a);try{const l=await(function(f,g){const p=Rt(f),m=le.now(),b=g.reduce(((N,x)=>N.add(x.key)),Bt());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let x=ss(),I=Bt();return p.Ns.getEntries(N,b).next((k=>{x=k,x.forEach(((st,X)=>{X.isValidDocument()||(I=I.add(st))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,x))).next((k=>{E=k;const st=[];for(const X of g){const K=ew(X,E.get(X.key).overlayedDocument);K!=null&&st.push(new qr(X.key,K,p0(K.value.mapValue),es.exists(!0)))}return p.mutationQueue.addMutationBatch(N,m,st,g)})).next((k=>{T=k;const st=k.applyToLocalDocumentSet(E,I);return p.documentOverlayCache.saveOverlays(N,k.batchId,st)}))})).then((()=>({batchId:T.batchId,changes:x0(E)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let m=f.Vu[f.currentUser.toKey()];m||(m=new he(kt)),m=m.insert(g,p),f.Vu[f.currentUser.toKey()]=m})(s,l.batchId,n),await zo(s,l.changes),await sh(s.remoteStore)}catch(l){const u=Rg(l,"Failed to persist write");n.reject(u)}}async function ob(a,t){const n=Rt(a);try{const s=await Ww(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Kt(f.hu,14607):l.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))})),await zo(n,s,t)}catch(s){await Ja(s)}}function Sv(a,t,n){const s=Rt(a);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Rt(f);p.onlineState=g;let m=!1;p.queries.forEach(((b,E)=>{for(const T of E.Sa)T.va(g)&&(m=!0)})),m&&xg(p)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function G2(a,t,n){const s=Rt(a);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let f=new he(vt.comparator);f=f.insert(u,nn.newNoDocument(u,At.min()));const g=Bt().add(u),p=new eh(At.min(),new Map,new he(kt),f,g);await ob(s,p),s.du=s.du.remove(u),s.Au.delete(t),Dg(s)}else await Gd(s.localStore,t,!1).then((()=>Yd(s,t,n))).catch(Ja)}async function F2(a,t){const n=Rt(a),s=t.batch.batchId;try{const l=await Jw(n.localStore,t);cb(n,s,null),ub(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zo(n,l)}catch(l){await Ja(l)}}async function Q2(a,t,n){const s=Rt(a);try{const l=await(function(f,g){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return p.mutationQueue.lookupMutationBatch(m,g).next((E=>(Kt(E!==null,37113),b=E.keys(),p.mutationQueue.removeMutationBatch(m,E)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>p.localDocuments.getDocuments(m,b)))}))})(s.localStore,t);cb(s,t,n),ub(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await zo(s,l)}catch(l){await Ja(l)}}function ub(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function cb(a,t,n){const s=Rt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Yd(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),n&&a.Pu.yu(s,n);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||hb(a,s)}))}function hb(a,t){a.Eu.delete(t.path.canonicalString());const n=a.du.get(t);n!==null&&(Eg(a.remoteStore,n),a.du=a.du.remove(t),a.Au.delete(n),Dg(a))}function wv(a,t,n){for(const s of n)s instanceof rb?(a.Ru.addReference(s.key,t),Y2(a,s)):s instanceof ab?(ft(Cg,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||hb(a,s.key)):Et(19791,{wu:s})}function Y2(a,t){const n=t.key,s=n.path.canonicalString();a.du.get(n)||a.Eu.has(s)||(ft(Cg,"New document in limbo: "+n),a.Eu.add(s),Dg(a))}function Dg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new vt(ae.fromString(t)),s=a.fu.next();a.Au.set(s,new z2(n)),a.du=a.du.insert(n,s),W0(a.remoteStore,new js(Ci(A0(n.path)),s,"TargetPurposeLimboResolution",Qc.ce))}}async function zo(a,t,n){const s=Rt(a),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,t,n).then((m=>{if((m||n)&&s.isPrimaryClient){const b=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){l.push(m);const b=vg.As(p.targetId,m);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,m){const b=Rt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>et.forEach(m,(T=>et.forEach(T.Es,(N=>b.persistence.referenceDelegate.addReference(E,T.targetId,N))).next((()=>et.forEach(T.ds,(N=>b.persistence.referenceDelegate.removeReference(E,T.targetId,N)))))))))}catch(E){if(!Wa(E))throw E;ft(bg,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const N=b.Ms.get(T),x=N.snapshotVersion,I=N.withLastLimboFreeSnapshotVersion(x);b.Ms=b.Ms.insert(T,I)}}})(s.localStore,u))}async function X2(a,t){const n=Rt(a);if(!n.currentUser.isEqual(t)){ft(Cg,"User change. New user:",t.toKey());const s=await K0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new _t(it.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await zo(n,s.Ls)}}function K2(a,t){const n=Rt(a),s=n.Au.get(t);if(s&&s.hu)return Bt().add(s.key);{let l=Bt();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function fb(a){const t=Rt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=ob.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G2.bind(null,t),t.Pu.H_=M2.bind(null,t.eventManager),t.Pu.yu=N2.bind(null,t.eventManager),t}function $2(a){const t=Rt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q2.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Zw(this.persistence,new Xw,t.initialUser,this.serializer)}Cu(t){return new X0(yg.mi,this.serializer)}Du(t){return new s2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class Z2 extends jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Bc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ow(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new X0((s=>Bc.mi(s,n)),this.serializer)}}class Xd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Sv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=X2.bind(null,this.syncEngine),await R2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new C2})()}createDatastore(t){const n=nh(t.databaseInfo.databaseId),s=(function(u){return new u2(u)})(t.databaseInfo);return(function(u,f,g,p){return new d2(u,f,g,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,f,g){return new m2(s,l,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>Sv(this.syncEngine,n,0)),(function(){return yv.v()?new yv:new r2})())}createSyncEngine(t,n){return(function(l,u,f,g,p,m,b){const E=new U2(l,u,f,g,p,m);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);ft(Br,"RemoteStore shutting down."),s.Ea.add(5),await Lo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="FirestoreClient";class W2{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ft(er,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ft(er,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Rg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function wd(a,t){a.asyncQueue.verifyOperationInProgress(),ft(er,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let s=n.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await K0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Rv(a,t){a.asyncQueue.verifyOperationInProgress();const n=await tR(a);ft(er,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((s=>bv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>bv(t.remoteStore,l))),a._onlineComponents=t}async function tR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ft(er,"Using user provided OfflineComponentProvider");try{await wd(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===it.FAILED_PRECONDITION||l.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await wd(a,new jc)}}else ft(er,"Using default OfflineComponentProvider"),await wd(a,new Z2(void 0));return a._offlineComponents}async function db(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ft(er,"Using user provided OnlineComponentProvider"),await Rv(a,a._uninitializedComponentsProvider._online)):(ft(er,"Using default OnlineComponentProvider"),await Rv(a,new Xd))),a._onlineComponents}function eR(a){return db(a).then((t=>t.syncEngine))}async function nR(a){const t=await db(a),n=t.eventManager;return n.onListen=k2.bind(null,t.syncEngine),n.onUnlisten=j2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=B2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=q2.bind(null,t.syncEngine),n}function iR(a,t,n={}){const s=new Fs;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,m){const b=new J2({next:T=>{b.Nu(),f.enqueueAndForget((()=>V2(u,E))),T.fromCache&&p.source==="server"?m.reject(new _t(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new O2(g,b,{includeMetadataChanges:!0,qa:!0});return D2(u,E)})(await nR(a),a.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="firestore.googleapis.com",Cv=!0;class Dv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mb,this.ssl=Cv}else this.host=t.host,this.ssl=t.ssl??Cv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Y0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Mw)throw new _t(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sS;switch(s.type){case"firstParty":return new oS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xv.get(n);s&&(ft("ComponentProvider","Removing Datastore"),xv.delete(n),s.terminate())})(this),Promise.resolve()}}function sR(a,t,n,s={}){a=Ao(a,rh);const l=ig(t),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${n}`;l&&(MT(`https://${g}`),LT("Firestore",!0)),u.host!==mb&&u.host!==g&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:s};if(!Cc(p,f)&&(a._setSettings(p),s.mockUserToken)){let m,b;if(typeof s.mockUserToken=="string")m=s.mockUserToken,b=en.MOCK_USER;else{m=NT(s.mockUserToken,a._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new _t(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new en(E)}a._authCredentials=new rS(new s0(m,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ah(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Oo(n,je._jsonSchema))return new je(t,s||null,new vt(ae.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Ve("string",je._jsonSchemaVersion),referencePath:Ve("string")};class Qs extends ah{constructor(t,n,s){super(t,n,A0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new vt(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function rR(a,t,...n){if(a=Ks(a),r0("collection","path",t),a instanceof rh){const s=ae.fromString(t,...n);return Py(s),new Qs(a,null,s)}{if(!(a instanceof je||a instanceof Qs))throw new _t(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ae.fromString(t,...n));return Py(s),new Qs(a.firestore,null,s)}}function aR(a,t,...n){if(a=Ks(a),arguments.length===1&&(t=ag.newId()),r0("doc","path",t),a instanceof rh){const s=ae.fromString(t,...n);return qy(s),new je(a,null,new vt(s))}{if(!(a instanceof je||a instanceof Qs))throw new _t(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ae.fromString(t,...n));return qy(s),new je(a.firestore,a instanceof Qs?a.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="AsyncQueue";class Mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const s=Sd();s&&ft(Vv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Sd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wa(t))throw t;ft(Vv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",Nv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=wg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Nv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Vg extends rh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mv(t),this._firestoreClient=void 0,await t}}}function lR(a,t){const n=typeof a=="object"?a:FA(),s=typeof a=="string"?a:Nc,l=HA(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=DT("firestore");u&&sR(l,...u)}return l}function pb(a){if(a._terminated)throw new _t(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||oR(a),a._firestoreClient}function oR(a){const t=a._freezeSettings(),n=(function(l,u,f,g){return new wS(l,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new W2(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Je.fromBase64String(t))}catch(n){throw new _t(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Oo(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ve("string",Gn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(Oo(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ve("string",Vi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Oo(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new _t(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ve("string",Mi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=/^__.*__$/;class _b{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new qr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function yb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:a})}}class Ng{constructor(t,n,s,l,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ng({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(yb(this.Ac)&&uR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cR{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||nh(t)}Cc(t,n,s,l=!1){return new Ng({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hR(a){const t=a._freezeSettings(),n=nh(a._databaseId);return new cR(a._databaseId,!!t.ignoreUndefinedProperties,n)}class oh extends Mg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof oh}}function fR(a,t,n,s){const l=a.Cc(1,t,n);bb("Data must be an object, but it was:",l,s);const u=[],f=xn.empty();ir(s,((p,m)=>{const b=Og(t,p,n);m=Ks(m);const E=l.yc(b);if(m instanceof oh)u.push(b);else{const T=uh(m,E);T!=null&&(u.push(b),f.set(b,T))}}));const g=new si(u);return new _b(f,g,l.fieldTransforms)}function dR(a,t,n,s,l,u){const f=a.Cc(1,t,n),g=[Ov(t,s,n)],p=[l];if(u.length%2!=0)throw new _t(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)g.push(Ov(t,u[T])),p.push(u[T+1]);const m=[],b=xn.empty();for(let T=g.length-1;T>=0;--T)if(!pR(m,g[T])){const N=g[T];let x=p[T];x=Ks(x);const I=f.yc(N);if(x instanceof oh)m.push(N);else{const k=uh(x,I);k!=null&&(m.push(N),b.set(N,k))}}const E=new si(m);return new _b(b,E,f.fieldTransforms)}function uh(a,t){if(vb(a=Ks(a)))return bb("Unsupported field value:",t,a),gR(a,t);if(a instanceof Mg)return(function(s,l){if(!yb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const g of s){let p=uh(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(a,t)}return(function(s,l){if((s=Ks(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KS(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=le.fromDate(s);return{timestampValue:kc(l.serializer,u)}}if(s instanceof le){const u=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(l.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:H0(l.serializer,s._byteString)};if(s instanceof je){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Mi)return(function(f,g){return{mapValue:{fields:{[g0]:{stringValue:m0},[Oc]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw g.Sc("VectorValues must only contain numeric values.");return dg(g.serializer,m)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${lg(s)}`)})(a,t)}function gR(a,t){const n={};return o0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(a,((s,l)=>{const u=uh(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof le||a instanceof Vi||a instanceof Gn||a instanceof je||a instanceof Mg||a instanceof Mi)}function bb(a,t,n){if(!vb(n)||!a0(n)){const s=lg(n);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function Ov(a,t,n){if((t=Ks(t))instanceof lh)return t._internalPath;if(typeof t=="string")return Og(a,t);throw qc("Field path arguments must be of type string or ",a,!1,void 0,n)}const mR=new RegExp("[~\\*/\\[\\]]");function Og(a,t,n){if(t.search(mR)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new lh(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function qc(a,t,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new _t(it.INVALID_ARGUMENT,g+a+p)}function pR(a,t){return a.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _R extends Eb{data(){return super.data()}}function Tb(a,t){return typeof t=="string"?Og(a,t):t instanceof lh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new _t(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vR{convertValue(t,n="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ir(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Oc].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new Vi(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Xc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wo(t));default:return null}}convertTimestamp(t){const n=Zs(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);Kt(Q0(s),9688,{name:t});const l=new Ro(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return l.isEqual(n)||is(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class yc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ja extends Eb{constructor(t,n,s,l,u,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Tb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:Ve("string",ja._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class wc extends ja{data(t={}){return super.data(t)}}class qa{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new yc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new wc(this._firestore,this._userDataWriter,s.key,s,new yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let m=-1,b=-1;return g.type!==0&&(m=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:bR(g.type),doc:p,oldIndex:m,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function bR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Ve("string",qa._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class ER extends vR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function TR(a){a=Ao(a,ah);const t=Ao(a.firestore,Vg),n=pb(t),s=new ER(t);return yR(a._query),iR(n,a._query).then((l=>new qa(t,s,a,l)))}function AR(a,t,n,...s){a=Ao(a,je);const l=Ao(a.firestore,Vg),u=hR(l);let f;return f=typeof(t=Ks(t))=="string"||t instanceof lh?dR(u,"updateDoc",a._key,t,n,s):fR(u,"updateDoc",a._key,t),SR(l,[f.toMutation(a._key,es.exists(!0))])}function SR(a,t){return(function(s,l){const u=new Fs;return s.asyncQueue.enqueueAndForget((async()=>P2(await eR(s),l,u))),u.promise})(pb(a),t)}(function(t,n=!0){(function(l){Za=l})(GA),Vc(new Eo("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Vg(new aS(s.getProvider("auth-internal")),new uS(f,s.getProvider("app-check-internal")),(function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _t(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(m.options.projectId,b)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Ba(ky,By,t),Ba(ky,By,"esm2020")})();const wR={apiKey:"AIzaSyAdBuHUx7dBx81RAOZ7IhaZHE8XSUnbS6g",authDomain:"ai-problems-reviewer.firebaseapp.com",projectId:"ai-problems-reviewer",storageBucket:"ai-problems-reviewer.firebasestorage.app",messagingSenderId:"698171835673",appId:"1:698171835673:web:5f47f5f6eb85a007df7188",measurementId:"G-8BX6TN0HSP"},RR=Xv(wR),Ab=lR(RR);async function xR(){try{const a=rR(Ab,"production"),t=await TR(a),n={};return t.forEach(s=>{const l=s.data(),{unit:u,kaiSubtopic:f,kaiLevel:g,template:p}=l;n[u]||(n[u]={}),n[u][f]||(n[u][f]={}),n[u][f][g]||(n[u][f][g]=[]),n[u][f][g][p]||(n[u][f][g][p]=[]),n[u][f][g][p].push({id:s.id,...l})}),n}catch(a){throw console.error("Error fetching problems:",a),a}}async function CR(a,t){try{const n=aR(Ab,"production",a);await AR(n,t)}catch(n){throw console.error("Error updating problem:",n),n}}function DR({problem:a,onQuestionChange:t,onChoicesChange:n,onAnswerChange:s,onSolutionChange:l,onHintChange:u,onReviewStatusChange:f,onSaveSuccess:g}){const[p,m]=$e.useState(a),[b,E]=$e.useState(!1),T=()=>a===p?ht.jsx("button",{disabled:!0,children:"save"}):b?ht.jsx("button",{disabled:!0,children:"saving..."}):ht.jsx("button",{onClick:N,children:"save"}),N=async()=>{if(!a.id){alert("No problem selected to save");return}E(!0);try{await CR(a.id,{question:a.question,choices:a.choices,hint:a.hint,answer:a.answer,solution:a.solution,isReviewed:a.isReviewed}),m(a),g&&await g()}catch(I){console.error("Failed to save problem:",I),alert("Failed to save problem. Check console for details.")}finally{E(!1)}},x=a.choices.map((I,k)=>ht.jsx("textarea",{"data-index":k,value:I,rows:"1",onChange:n},k));return ht.jsxs("div",{className:yT.editor,children:[ht.jsx("h3",{style:{margin:"-5px 0px 6px 0px"},children:"โจทย์"}),ht.jsx("textarea",{value:a.question,onChange:t,rows:"10"}),ht.jsx("h3",{style:{margin:"10px 0px 6px 0px"},children:"ตัวเลือก"}),x,ht.jsx("h3",{style:{margin:"10px 0px 6px 0px"},children:"คำใบ้"}),ht.jsx("textarea",{value:a.hint,onChange:u,rows:"3"}),ht.jsx("h3",{style:{margin:"10px 0px 6px 0px"},children:"ตัวเลือกที่ถูก"}),ht.jsx("input",{type:"number",min:1,max:a.choices.length,value:a.answer+1,onChange:s}),ht.jsx("h3",{style:{margin:"10px 0px 6px 0px"},children:"เฉลยละเอียด"}),ht.jsx("textarea",{value:a.solution,onChange:l,rows:"22"}),ht.jsxs("div",{style:{margin:"10px 0px 6px 0px"},children:[ht.jsxs("label",{children:[ht.jsx("input",{type:"checkbox",checked:a.isReviewed,onChange:f}),"ตรวจแล้ว"]}),T()]})]})}const VR="_showButton_wvp3w_1",MR={showButton:VR};function NR({onClick:a}){return ht.jsx("div",{className:MR.showButton,children:ht.jsx("button",{onClick:a,children:"→"})})}const OR="_menu_ux2ve_1",IR="_header_ux2ve_23",LR="_navigation_ux2ve_67",zR="_unitSection_ux2ve_75",UR="_kaiSubtopicSection_ux2ve_77",kR="_kaiLevelSection_ux2ve_79",BR="_templateSection_ux2ve_81",HR="_unitHeader_ux2ve_89",jR="_kaiSubtopicHeader_ux2ve_91",qR="_kaiLevelHeader_ux2ve_143",PR="_templateHeader_ux2ve_175",GR="_arrow_ux2ve_207",FR="_kaiSubtopics_ux2ve_219",QR="_kaiLevels_ux2ve_221",YR="_problems_ux2ve_231",XR="_problemItem_ux2ve_239",KR="_reviewedProblem_ux2ve_267",$R="_reviewedBadge_ux2ve_283",ge={menu:OR,header:IR,navigation:LR,unitSection:zR,kaiSubtopicSection:UR,kaiLevelSection:kR,templateSection:BR,unitHeader:HR,kaiSubtopicHeader:jR,kaiLevelHeader:qR,templateHeader:PR,arrow:GR,kaiSubtopics:FR,kaiLevels:QR,problems:YR,problemItem:XR,reviewedProblem:KR,reviewedBadge:$R};function ZR({isShowed:a,setIsShowed:t,problemsStructure:n,onProblemSelect:s}){const[l,u]=$e.useState({}),[f,g]=$e.useState({}),[p,m]=$e.useState({}),[b,E]=$e.useState({}),T=$e.useRef(null),N=X=>{u(K=>({...K,[X]:!K[X]}))},x=(X,K)=>{const at=`${X}-${K}`;g(nt=>({...nt,[at]:!nt[at]}))},I=(X,K,at)=>{const nt=`${X}-${K}-${at}`;m(tt=>({...tt,[nt]:!tt[nt]}))},k=(X,K,at,nt)=>{const tt=`${X}-${K}-${at}-${nt}`;E(w=>({...w,[tt]:!w[tt]}))},st=X=>{s(X)};return $e.useEffect(()=>{const X=K=>{T.current&&!T.current.contains(K.target)&&t(!1)};return a&&document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[a,t]),ht.jsxs("div",{ref:T,className:ge.menu,style:{display:a?"block":"none"},children:[ht.jsxs("div",{className:ge.header,children:[ht.jsx("h2",{children:"โจทย์"}),ht.jsx("button",{onClick:()=>t(!1),children:"←"})]}),ht.jsx("div",{className:ge.navigation,children:Object.keys(n).map(X=>ht.jsxs("div",{className:ge.unitSection,children:[ht.jsxs("div",{className:ge.unitHeader,onClick:()=>N(X),children:[ht.jsx("span",{className:ge.arrow,children:l[X]?"▼":"▶"}),ht.jsx("span",{children:X})]}),l[X]&&ht.jsx("div",{className:ge.kaiSubtopics,children:Object.keys(n[X]).map(K=>{const at=`${X}-${K}`;return ht.jsxs("div",{className:ge.kaiSubtopicSection,children:[ht.jsxs("div",{className:ge.kaiSubtopicHeader,onClick:()=>x(X,K),children:[ht.jsx("span",{className:ge.arrow,children:f[at]?"▼":"▶"}),ht.jsx("span",{children:K})]}),f[at]&&ht.jsx("div",{className:ge.kaiLevels,children:Object.keys(n[X][K]).map(nt=>{const tt=`${X}-${K}-${nt}`;return ht.jsxs("div",{className:ge.kaiLevelSection,children:[ht.jsxs("div",{className:ge.kaiLevelHeader,onClick:()=>I(X,K,nt),children:[ht.jsx("span",{className:ge.arrow,children:p[tt]?"▼":"▶"}),ht.jsx("span",{children:nt})]}),p[tt]&&ht.jsx("div",{className:ge.template,children:Object.keys(n[X][K][nt]).map(w=>{const R=`${X}-${K}-${nt}-${w}`;return ht.jsxs("div",{className:ge.templateSection,children:[ht.jsxs("div",{className:ge.templateHeader,onClick:()=>k(X,K,nt,w),children:[ht.jsx("span",{className:ge.arrow,children:b[R]?"▼":"▶"}),ht.jsx("span",{children:"template "+w})]}),b[R]&&ht.jsx("div",{className:ge.problems,children:n[X][K][nt][w].map(D=>{const V=D.question?D.question.substring(0,50)+(D.question.length>50?"...":""):"ไม่มีโจทย์";return ht.jsxs("div",{className:`${ge.problemItem} ${D.isReviewed?ge.reviewedProblem:""}`,onClick:()=>st(D),children:[V,D.isReviewed&&ht.jsx("span",{className:ge.reviewedBadge,children:"✓"})]},D.id)})})]},R)})})]},nt)})})]},K)})})]},X))})]})}function JR({problemsStructure:a,onProblemSelect:t}){const[n,s]=$e.useState(!1),l=()=>{s(!0)};return ht.jsxs("div",{children:[ht.jsx(NR,{onClick:l}),ht.jsx(ZR,{isShowed:n,setIsShowed:s,problemsStructure:a,onProblemSelect:t})]})}function WR(){const[a,t]=$e.useState({id:null,question:"โจจจจจจจจจจจจจจจทย์",choices:["a","b","c","d"],hint:"ใบบบบบบบบบบบบบบบบบบ้",answer:3,solution:"เฉลยยยยยยยยยยยยยยยยยย",isReviewed:!1}),[n,s]=$e.useState({}),[l,u]=$e.useState(!0);$e.useEffect(()=>{f()},[]);const f=async()=>{try{const x=await xR();s(x),u(!1)}catch(x){console.error("Failed to load problems:",x),u(!1)}},g=x=>{t({id:x.id,question:x.question||"",choices:x.choices||["","","",""],hint:x.hint||"",answer:x.answer||0,solution:x.solution||"",isReviewed:x.isReviewed||!1})},p=x=>{t(I=>({...I,question:x.target.value}))},m=x=>{const I=parseInt(x.target.dataset.index,10),k=[...a.choices];k[I]=x.target.value,t(st=>({...st,choices:k}))},b=x=>{t(I=>({...I,hint:x.target.value}))},E=x=>{t(I=>({...I,answer:parseInt(x.target.value-1,10)}))},T=x=>{t(I=>({...I,solution:x.target.value}))},N=()=>{t(x=>({...x,isReviewed:!x.isReviewed}))};return ht.jsxs(ht.Fragment,{children:[ht.jsx(JR,{problemsStructure:n,onProblemSelect:g}),ht.jsx("h1",{children:"Problems Reviewer"}),l?ht.jsx("p",{children:"Loading problems..."}):ht.jsxs("div",{className:"workArea",children:[ht.jsx(DR,{problem:a,onQuestionChange:p,onChoicesChange:m,onHintChange:b,onAnswerChange:E,onSolutionChange:T,onReviewStatusChange:N,onSaveSuccess:f}),ht.jsx(pT,{problem:a})]})]})}u1.createRoot(document.getElementById("root")).render(ht.jsx($e.StrictMode,{children:ht.jsx(WR,{})}));
